/*!
 * cesium-plugin v1.0.0
 * (c) 2023 
 * Released under the ISC license
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("cesium")):"function"==typeof define&&define.amd?define(["exports","cesium"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).CesiumPlugin={},t.Cesium)}(this,(function(o,m){"use strict";function f(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}})),e.default=t,Object.freeze(e)}var v=f(m),I=C;function C(t,e){var r=x();return(C=function(t,e){return r[t-=132]})(t,e)}function x(){var t=["Cartesian2","22248odZUAW","PolylineLightingTrailType","PolylineImageTrailType","1062010QMVeZw","3211026Scjylp","addMaterial","730QKTGau","PolylineFlow","DefaultImageId","PolylineLightingType","PolylineTrailType","PolylineRepeatType","PolylineFlicker","PolylineFlowType","PolylineFlickerType","6dzsxdw","PolylineRepeat","84026uIcfjh","445328gWkpbo","44BahCQn","Color","81qITehF","2811844kCNeVP","2817282fgIWnb","PolylineEmissionType","Material","_materialCache"];return(x=function(){return t})()}!function(t,e){for(var r=C,n=t();;)try{if(788837===parseInt(r(148))/1*(parseInt(r(150))/2)+-parseInt(r(137))/3+parseInt(r(133))/4*(parseInt(r(139))/5)+parseInt(r(156))/6+parseInt(r(155))/7+-parseInt(r(151))/8*(parseInt(r(154))/9)+parseInt(r(136))/10*(parseInt(r(152))/11))break;n.push(n.shift())}catch(t){n.push(n.shift())}}(x),v[I(158)].PolylineEmissionType="PolylineEmission",v[I(158)]._materialCache[I(138)](v[I(158)][I(157)],{fabric:{type:v[I(158)][I(157)],uniforms:{color:new(v[I(153)])(1,0,0,.7)},source:"uniform vec4 color;czm_material czm_getMaterial(czm_materialInput materialInput){czm_material material=czm_getDefaultMaterial(materialInput);vec4 fragColor=color;fragColor=czm_gammaCorrect(fragColor);material.emission=fragColor.rgb;material.diffuse=fragColor.rgb;material.alpha=color.a;return material;}"},translucent:function(t){return!0}}),v[I(158)].PolylineFlickerType=I(145),v[I(158)][I(159)][I(138)](v[I(158)][I(147)],{fabric:{type:v[I(158)].PolylineFlickerType,uniforms:{color:new(v[I(153)])(1,0,0,.7),speed:3},source:"uniform vec4 color;uniform float speed;czm_material czm_getMaterial(czm_materialInput materialInput){czm_material material=czm_getDefaultMaterial(materialInput);float time=fract(czm_frameNumber*speed/1000.0);vec2 st=materialInput.st;float scalar=smoothstep(0.0,1.0,time);material.diffuse=color.rgb*scalar;material.alpha=color.a*scalar;return material;}"},translucent:function(t){return!0}}),v.Material[I(146)]=I(140),v.Material[I(159)][I(138)](v[I(158)][I(146)],{fabric:{type:v[I(158)][I(146)],uniforms:{color:new(v[I(153)])(1,0,0,.7),speed:3,percent:.03,gradient:.1},source:"uniform vec4 color;uniform float speed;uniform float percent;uniform float gradient;czm_material czm_getMaterial(czm_materialInput materialInput){czm_material material=czm_getDefaultMaterial(materialInput);vec2 st=materialInput.st;float t=fract(czm_frameNumber*speed/1000.0);t*=(1.0+percent);float alpha=smoothstep(t-percent,t,st.s)*step(-t,-st.s);alpha+=gradient;material.diffuse=color.rgb;material.alpha=alpha;return material;}"},translucent:function(t){return!0}}),v[I(158)].PolylineImageTrailType="PolylineImageTrail",v[I(158)]._materialCache[I(138)](v[I(158)][I(135)],{fabric:{type:v[I(158)][I(135)],uniforms:{color:new v.Color(1,0,0,.7),speed:3,image:v.Material[I(141)],repeat:new(v[I(132)])(1,1)},source:"uniform sampler2D image;uniform float speed;uniform vec4 color;uniform vec2 repeat;czm_material czm_getMaterial(czm_materialInput materialInput){czm_material material=czm_getDefaultMaterial(materialInput);vec2 st=repeat*materialInput.st;float time=fract(czm_frameNumber*speed/1000.0);vec4 colorImage=texture2D(image,vec2(fract(st.s-time),st.t));if(color.a==0.0){if(colorImage.rgb==vec3(1.0)||colorImage.rgb==vec3(0.0)){discard;}material.alpha=colorImage.a;material.diffuse=colorImage.rgb;}else{material.alpha=colorImage.a*color.a;material.diffuse=max(color.rgb*material.alpha*3.0,color.rgb);}return material;}"},translucent:function(t){return!0}}),v[I(158)][I(142)]="PolylineLighting",v[I(158)][I(159)].addMaterial(v[I(158)][I(142)],{fabric:{type:v[I(158)].PolylineLightingType,uniforms:{color:new v.Color(1,0,0,.7),image:v[I(158)].DefaultImageId},source:"uniform sampler2D image;uniform vec4 color;czm_material czm_getMaterial(czm_materialInput materialInput){czm_material material=czm_getDefaultMaterial(materialInput);vec2 st=materialInput.st;vec4 colorImage=texture2D(image,st);vec3 fragColor=color.rgb;material.alpha=colorImage.a*color.a*3.;material.diffuse=max(fragColor.rgb+colorImage.rgb,fragColor.rgb);return material;}"},translucent:function(t){return!0}}),v[I(158)][I(134)]="PolylineLightingTrail",v[I(158)][I(159)][I(138)](v[I(158)].PolylineLightingTrailType,{fabric:{type:v[I(158)][I(134)],uniforms:{color:new(v[I(153)])(1,0,0,.7),speed:3,image:v[I(158)][I(141)]},source:"uniform sampler2D image;uniform vec4 color;uniform float speed;czm_material czm_getMaterial(czm_materialInput materialInput){czm_material material=czm_getDefaultMaterial(materialInput);vec2 st=materialInput.st;float time=fract(czm_frameNumber*speed/1000.0);vec4 colorImage=texture2D(image,st);vec3 fragColor=color.rgb;if(st.t>0.45&&st.t<0.55){fragColor=vec3(1.0);}if(color.a==0.0){material.alpha=colorImage.a*1.5*fract(st.s-time);material.diffuse=colorImage.rgb;}else{material.alpha=colorImage.a*color.a*1.5*smoothstep(.0,1.,fract(st.s-time));material.diffuse=max(fragColor.rgb*material.alpha,fragColor.rgb);}return material;}"},translucent:function(t){return!0}}),v[I(158)][I(143)]="PolylineTrail",v[I(158)]._materialCache[I(138)](v.Material[I(143)],{fabric:{type:v[I(158)][I(143)],uniforms:{color:new(v[I(153)])(1,0,0,.7),speed:3},source:"uniform vec4 color;uniform float speed;czm_material czm_getMaterial(czm_materialInput materialInput){czm_material material=czm_getDefaultMaterial(materialInput);vec2 st=materialInput.st;float time=fract(czm_frameNumber*speed/1000.0);material.diffuse=color.rgb;material.alpha=1.0-fract(st.s*2.0+time);return material;}"},translucent:function(t){return!0}}),v[I(158)][I(144)]=I(149),v.Material[I(159)][I(138)](v[I(158)][I(144)],{fabric:{type:v.Material[I(144)],uniforms:{color:new v.Color(1,0,0,1),percentage:.1,speed:3},source:"uniform vec4 color;uniform float percentage;uniform float speed;czm_material czm_getMaterial(czm_materialInput materialInput){czm_material material=czm_getDefaultMaterial(materialInput);vec2 st=materialInput.st;float time=fract(czm_frameNumber*speed/1000.0);material.diffuse=color.rgb;material.alpha=1.0-mod(st.s+time,percentage)*(1.0/percentage);return material;}"},translucent:function(t){return!0}});var w=M;function M(t,e){var r=_();return(M=function(t,e){return r[t-=500]})(t,e)}function _(){var t=["WallImageTrailType","addMaterial","WallImageTrail","WallRipple","3573640zBqaBW","Material","3314652CocqjM","245tfNayx","DefaultImageId","77RDwwGN","17448MzfPbM","Color","93Voahxi","4077882BOnRsG","8DGAvIf","RED","3082990MDciHn","WallRippleType","883fOiRqo","_materialCache","WallTrailType","WallDiffuseType","206gtROnT","15224PmhdQs"];return(_=function(){return t})()}!function(t,e){for(var r=M,n=t();;)try{if(310203===-parseInt(r(516))/1*(parseInt(r(520))/2)+parseInt(r(510))/3*(-parseInt(r(521))/4)+parseInt(r(505))/5*(-parseInt(r(508))/6)+-parseInt(r(502))/7+parseInt(r(512))/8*(-parseInt(r(511))/9)+-parseInt(r(514))/10+parseInt(r(507))/11*(parseInt(r(504))/12))break;n.push(n.shift())}catch(t){n.push(n.shift())}}(_),v[w(503)].WallImageTrailType=w(500),v[w(503)]._materialCache.addMaterial(v.Material[w(522)],{fabric:{type:v[w(503)][w(522)],uniforms:{image:v[w(503)][w(506)],color:v[w(509)].YELLOW,repeat:{x:50,y:1},speed:10},source:"uniform sampler2D image;uniform vec4 color;uniform float speed;uniform vec2 repeat;czm_material czm_getMaterial(czm_materialInput materialInput){czm_material material=czm_getDefaultMaterial(materialInput);vec2 st=materialInput.st*repeat;float time=fract(czm_frameNumber*speed/1000.0);vec4 colorImage=texture2D(image,vec2(fract(st.s-time),st.t));material.alpha=colorImage.a*color.a;material.diffuse=colorImage.rgb*color.rgb*3.0;return material;}"},translucent:function(t){return!0}}),v[w(503)][w(519)]="WallDiffuse",v[w(503)][w(517)][w(523)](v[w(503)][w(519)],{fabric:{type:v[w(503)].WallDiffuseType,uniforms:{color:v[w(509)].RED},source:"uniform vec4 color;czm_material czm_getMaterial(czm_materialInput materialInput){czm_material material=czm_getDefaultMaterial(materialInput);vec2 st=materialInput.st;material.diffuse=color.rgb*2.0;material.alpha=color.a*(1.0-fract(st.t))*0.8;return material;}"},translucent:function(t){return!0}}),v.Material[w(515)]=w(501),v[w(503)]._materialCache[w(523)](v.Material[w(515)],{fabric:{type:v[w(503)][w(515)],uniforms:{color:v[w(509)][w(513)],speed:3,count:3},source:"uniform vec4 color;uniform float speed;uniform float count;czm_material czm_getMaterial(czm_materialInput materialInput){czm_material material=czm_getDefaultMaterial(materialInput);vec2 st=materialInput.st;float time=fract(czm_frameNumber*speed/1000.0);float sin=sin((st.t-time)*10.0*count);float high=0.92;float medium=0.4;vec4 temp=vec4(0.);if(sin>high){temp=vec4(mix(vec3(.8,1.,1.),color.rgb,(1.-sin)/(1.-high)),1.);}else if(sin>medium){temp=vec4(color.rgb,mix(1.,0.,1.-(sin-medium)/(high-medium)));}else{temp=vec4(color.rgb,0);}vec3 fade=mix(color.rgb,vec3(0.,0.,0.),st.t);temp=mix(temp,vec4(fade,1.),0.85);material.diffuse=temp.rgb;material.alpha=temp.a*(1.0-st.t);return material;}"},translucent:function(t){return!0}}),v.Material.WallTrailType="WallTrail",v.Material[w(517)][w(523)](v[w(503)][w(518)],{fabric:{type:v[w(503)][w(518)],uniforms:{color:new(v[w(509)])(1,0,0,.7),speed:3},source:"uniform vec4 color;uniform float speed;czm_material czm_getMaterial(czm_materialInput materialInput){czm_material material=czm_getDefaultMaterial(materialInput);float time=fract(czm_frameNumber*speed/1000.0);vec2 st=materialInput.st;material.diffuse=color.rgb;material.alpha=fract(1.0-st.t+time);material.emission=vec3(0.5);return material;}"},translucent:function(t){return!0}});var b=P;function P(t,e){var r=T();return(P=function(t,e){return r[t-=317]})(t,e)}function T(){var t=["55DpnQDl","_materialCache","8rYqNBm","1158SXTXGl","68676QPEuES","Color","70EwXdBm","EllipsoidElectricType","299512JuTctT","3193300MmNeXM","1405RsNXZj","1343388yFteao","EllipsoidTrailType","addMaterial","12808ReQVCQ","Material","71TrXddK","1626840npkBBW"];return(T=function(){return t})()}!function(t,e){for(var r=P,n=t();;)try{if(230776===-parseInt(r(321))/1*(-parseInt(r(319))/2)+parseInt(r(327))/3*(parseInt(r(325))/4)+-parseInt(r(333))/5*(-parseInt(r(326))/6)+parseInt(r(329))/7*(parseInt(r(331))/8)+parseInt(r(322))/9+-parseInt(r(332))/10+parseInt(r(323))/11*(-parseInt(r(334))/12))break;n.push(n.shift())}catch(t){n.push(n.shift())}}(T),Cesium[b(320)][b(330)]="EllipsoidElectric",Cesium[b(320)]._materialCache[b(318)](Cesium[b(320)].EllipsoidElectricType,{fabric:{type:Cesium[b(320)][b(330)],uniforms:{color:new(Cesium[b(328)])(1,1,0,1),speed:10},source:"uniform vec4 color;uniform float speed;\n#define pi 3.1415926535\n#define PI2RAD 0.01745329252\n#define TWO_PI (2. * PI)\nfloat rands(float p){return fract(sin(p)*10000.0);}float noise(vec2 p){float time=fract(czm_frameNumber*speed/1000.0);float t=time/20000.0;if(t>1.0)t-=floor(t);return rands(p.x*14.+p.y*sin(t)*0.5);}vec2 sw(vec2 p){return vec2(floor(p.x),floor(p.y));}vec2 se(vec2 p){return vec2(ceil(p.x),floor(p.y));}vec2 nw(vec2 p){return vec2(floor(p.x),ceil(p.y));}vec2 ne(vec2 p){return vec2(ceil(p.x),ceil(p.y));}float smoothNoise(vec2 p){vec2 inter=smoothstep(0.0,1.0,fract(p));float s=mix(noise(sw(p)),noise(se(p)),inter.x);float n=mix(noise(nw(p)),noise(ne(p)),inter.x);return mix(s,n,inter.y);}float fbm(vec2 p){float z=2.0;float rz=0.0;vec2 bp=p;for(float i=1.0;i<6.0;i++){rz+=abs((smoothNoise(p)-0.5)*2.0)/z;z*=2.0;p*=2.0;}return rz;}czm_material czm_getMaterial(czm_materialInput materialInput){czm_material material=czm_getDefaultMaterial(materialInput);vec2 st=materialInput.st;vec2 st2=materialInput.st;float time=fract(czm_frameNumber*speed/1000.0);if(st.t<0.5){discard;}st*=4.;float rz=fbm(st);st/=exp(mod(time*2.0,pi));rz*=pow(15.,0.9);vec4 temp=vec4(0);temp=mix(color/rz,vec4(color.rgb,0.1),0.2);if(st2.s<0.05){temp=mix(vec4(color.rgb,0.1),temp,st2.s/0.05);}if(st2.s>0.95){temp=mix(temp,vec4(color.rgb,0.1),(st2.s-0.95)/0.05);}material.diffuse=temp.rgb;material.alpha=temp.a*2.0;return material;}"},translucent:function(t){return!0}}),Cesium[b(320)][b(317)]="EllipsoidTrail",Cesium.Material[b(324)][b(318)](Cesium[b(320)][b(317)],{fabric:{type:Cesium[b(320)][b(317)],uniforms:{color:new(Cesium[b(328)])(1,0,0,1),speed:10},source:"uniform vec4 color;uniform float speed;czm_material czm_getMaterial(czm_materialInput materialInput){czm_material material=czm_getDefaultMaterial(materialInput);vec2 st=materialInput.st;float time=fract(czm_frameNumber*speed/1000.0);float alpha=abs(smoothstep(0.5,1.,fract(-st.t-time)));alpha+=.1;material.alpha=alpha;material.diffuse=color.rgb;return material;}"},translucent:function(t){return!0}});var E=S;function A(){var t=["DefaultImageId","CircleDiffuseType","CirclePulseType","CircleRing","addMaterial","_materialCache","CircleBlurType","CircleRingFlow","1wWGMMa","424569lYcKXP","225zFJing","CircleRadarScan","CircleRadarSweepType","CircleSpiralType","CircleRadarWaveType","8380DTjpbM","2869911HkQyWI","CircleRadarLineType","CircleScanType","CircleRingFlowType","91134GlpsQS","CircleRotate","Color","Material","CircleFade","CircleVary","CircleRadarScanType","318353GXmBsX","CircleRotateType","419882BzzUJl","1558910hqTPOn","CircleRadarLine","CircleRadarWave","CirclePulse","CircleWave","CircleDiffuse","8FUKiRx","CircleSpiral","CircleScan","CircleWaveType","CircleBlur","CircleRingType","CircleVaryType","CircleRadarSweep","CircleFadeType","33wOrVEk"];return(A=function(){return t})()}function S(t,e){var r=A();return(S=function(t,e){return r[t-=284]})(t,e)}function z(t,e){const r=R();return(z=function(t,e){return r[t-=120]})(t,e)}!function(t,e){for(var r=S,n=t();;)try{if(236277===parseInt(r(292))/1*(parseInt(r(313))/2)+parseInt(r(293))/3+-parseInt(r(299))/4*(-parseInt(r(294))/5)+-parseInt(r(304))/6+-parseInt(r(311))/7*(parseInt(r(320))/8)+parseInt(r(300))/9+parseInt(r(314))/10*(-parseInt(r(329))/11))break;n.push(n.shift())}catch(t){n.push(n.shift())}}(A),v.Material[E(290)]=E(324),v[E(307)][E(289)][E(288)](v[E(307)][E(290)],{fabric:{type:v[E(307)][E(290)],uniforms:{color:new(v[E(306)])(1,0,0,.7),speed:3},source:"uniform vec4 color;uniform float speed;czm_material czm_getMaterial(czm_materialInput materialInput){czm_material material=czm_getDefaultMaterial(materialInput);vec2 st=materialInput.st;vec2 center=vec2(0.5);float time=fract(czm_frameNumber*speed/1000.0);float r=0.5+sin(time)/3.0;float dis=distance(st,center);float a=0.0;if(dis<r){a=1.0-smoothstep(0.0,r,dis);}material.alpha=pow(a,10.0);material.diffuse=color.rgb*a*3.0;return material;}"},translucent:function(t){return!0}}),v[E(307)][E(285)]=E(319),v[E(307)][E(289)].addMaterial(v[E(307)][E(285)],{fabric:{type:v[E(307)][E(285)],uniforms:{color:new v.Color(1,0,0,.7),speed:3},source:"uniform vec4 color;uniform float speed;vec3 circlePing(float r,float innerTail,float frontierBorder,float timeResetSeconds,float radarPingSpeed,float fadeDistance){float t=fract(czm_frameNumber*speed/1000.0);float time=mod(t,timeResetSeconds)*radarPingSpeed;float circle;circle+=smoothstep(time-innerTail,time,r)*smoothstep(time+frontierBorder,time,r);circle*=smoothstep(fadeDistance,0.0,r);return vec3(circle);}czm_material czm_getMaterial(czm_materialInput materialInput){czm_material material=czm_getDefaultMaterial(materialInput);vec2 st=materialInput.st*2.0-1.0;vec2 center=vec2(0.);float time=fract(czm_frameNumber*speed/1000.0);vec3 flagColor;float r=length(st-center)/4.;flagColor+=circlePing(r,0.25,0.025,4.0,0.3,1.0)*color.rgb;material.alpha=length(flagColor);material.diffuse=flagColor.rgb;return material;}"},translucent:function(t){return!0}}),v[E(307)][E(328)]=E(308),v[E(307)][E(289)][E(288)](v[E(307)][E(328)],{fabric:{type:v[E(307)][E(328)],uniforms:{color:new v.Color(1,0,0,.7),speed:3},source:"uniform vec4 color;uniform float speed;czm_material czm_getMaterial(czm_materialInput materialInput){czm_material material=czm_getDefaultMaterial(materialInput);material.diffuse=1.5*color.rgb;vec2 st=materialInput.st;float dis=distance(st,vec2(0.5,0.5));float per=fract(czm_frameNumber*speed/1000.0);if(dis>per*0.5){material.alpha=color.a;}else{discard;}return material;}"},translucent:function(t){return!0}}),v[E(307)][E(286)]=E(317),v[E(307)]._materialCache[E(288)](v[E(307)].CirclePulseType,{fabric:{type:v[E(307)][E(286)],uniforms:{color:new v.Color(1,0,0,.7),speed:12},source:"uniform vec4 color;uniform float speed;czm_material czm_getMaterial(czm_materialInput materialInput){czm_material material=czm_getDefaultMaterial(materialInput);vec2 st=materialInput.st*2.0-1.0;float time=fract(czm_frameNumber*speed/1000.0);float r=length(st)*1.2;float a=pow(r,2.0);float b=sin(r*0.8-1.6);float c=sin(r-0.010);float s=sin(a-time*2.0+b)*c;float d=abs(1.0/(s*10.8))-0.01;material.alpha=pow(d,10.0);material.diffuse=color.rgb*d;return material;}"},translucent:function(t){return!0}}),v[E(307)][E(325)]=E(287),v[E(307)]._materialCache[E(288)](v[E(307)][E(325)],{fabric:{type:v[E(307)][E(325)],uniforms:{color:new(v[E(306)])(1,0,0,.7)},source:"uniform vec4 color;czm_material czm_getMaterial(czm_materialInput materialInput){czm_material material=czm_getDefaultMaterial(materialInput);vec2 st=materialInput.st;vec2 center=st-vec2(0.5,0.5);float length=length(center)/0.5;float time=1.-abs(czm_frameNumber/360.-0.5);float param=1.-step(length,0.6);float scale=param*length;float alpha=param*(1.0-abs(scale-0.8)/0.2);float param1=step(length,0.7);float scale1=param1*length;alpha+=param1*(1.0-abs(scale1-0.35)/0.35);material.diffuse=color.rgb*vec3(color.a);material.alpha=pow(alpha,4.0);return material;}"},translucent:function(t){return!0}}),v.Material.CircleRotateType=E(305),v[E(307)]._materialCache[E(288)](v.Material[E(312)],{fabric:{type:v.Material[E(312)],uniforms:{color:new(v[E(306)])(1,0,0,.7),image:v[E(307)][E(284)]},source:"uniform vec4 color;uniform sampler2D image;czm_material czm_getMaterial(czm_materialInput materialInput){czm_material material=czm_getDefaultMaterial(materialInput);vec2 st=materialInput.st;vec2 center=st-vec2(0.5,0.5);float time=-czm_frameNumber*3.1415926/180.;float sin_t=sin(time);float cos_t=cos(time);vec2 center_rotate=vec2(center.s*cos_t-center.t*sin_t+0.5,center.s*sin_t+center.t*cos_t+0.5);vec4 colorImage=texture2D(image,center_rotate);vec3 temp=colorImage.rgb*color.rgb;temp*=color.a;material.diffuse=temp;float length=2.-length(center)/0.5;material.alpha=colorImage.a*pow(length,0.5);return material;}"},translucent:function(t){return!0}}),v[E(307)][E(302)]=E(322),v.Material._materialCache[E(288)](v[E(307)][E(302)],{fabric:{type:v.Material.CircleScanType,uniforms:{color:new(v[E(306)])(1,0,0,.7),speed:1},source:"uniform vec4 color;uniform float speed;float circle(vec2 uv,float r,float blur){float d=length(uv)*2.0;float c=smoothstep(r+blur,r,d);return c;}czm_material czm_getMaterial(czm_materialInput materialInput){czm_material material=czm_getDefaultMaterial(materialInput);vec2 st=materialInput.st-.5;material.diffuse=color.rgb;material.emission=vec3(0);float t=fract(czm_frameNumber*speed/1000.0);float s=0.3;float radius1=smoothstep(.0,s,t)*0.5;float alpha1=circle(st,radius1,0.01)*circle(st,radius1,-0.01);float alpha2=circle(st,radius1,0.01-radius1)*circle(st,radius1,0.01);float radius2=0.5+smoothstep(s,1.0,t)*0.5;float alpha3=circle(st,radius1,radius2+0.01-radius1)*circle(st,radius1,-0.01);material.alpha=smoothstep(1.0,s,t)*(alpha1+alpha2*0.1+alpha3*0.1);material.alpha*=color.a;return material;}"},translucent:function(t){return!0}}),v[E(307)].CircleSpiralType=E(321),v[E(307)][E(289)][E(288)](v[E(307)][E(297)],{fabric:{type:v[E(307)].CircleSpiralType,uniforms:{color:new(v[E(306)])(1,0,0,.7),speed:3},source:"uniform vec4 color;uniform float speed;\n#define PI 3.14159265359\nvec2 rotate2D(vec2 _st,float _angle){_st=mat2(cos(_angle),-sin(_angle),sin(_angle),cos(_angle))*_st;return _st;}czm_material czm_getMaterial(czm_materialInput materialInput){czm_material material=czm_getDefaultMaterial(materialInput);vec2 st=materialInput.st*2.0-1.0;st*=1.6;float time=czm_frameNumber*speed/1000.0;float r=length(st);float w=.3;st=rotate2D(st,(r*PI*6.-time*2.));float a=smoothstep(-w,.2,st.x)*smoothstep(w,.2,st.x);float b=abs(1./(sin(pow(r,2.)*2.-time*1.3)*6.))*.4;material.alpha=a*b;material.diffuse=color.rgb*a*b*3.0;return material;}"},translucent:function(t){return!0}}),v[E(307)].CircleVaryType=E(309),v.Material._materialCache[E(288)](v[E(307)].CircleVaryType,{fabric:{type:v.Material[E(326)],uniforms:{color:new v.Color(1,0,0,.7),speed:3},source:"uniform vec4 color;uniform float speed;czm_material czm_getMaterial(czm_materialInput materialInput){czm_material material=czm_getDefaultMaterial(materialInput);vec2 st=materialInput.st*2.0-1.0;float time=czm_frameNumber*speed/1000.0;float radius=length(st);float angle=atan(st.y/st.x);float radius1=sin(time*2.0)+sin(40.0*angle+time)*0.01;float radius2=cos(time*3.0);vec3 fragColor=0.2+0.5*cos(time+color.rgb+vec3(0,2,4));float inten1=1.0-sqrt(abs(radius1-radius));float inten2=1.0-sqrt(abs(radius2-radius));material.alpha=pow(inten1+inten2,5.0);material.diffuse=fragColor*(inten1+inten2);return material;}"},translucent:function(t){return!0}}),v[E(307)][E(323)]=E(318),v[E(307)][E(289)][E(288)](v[E(307)][E(323)],{fabric:{type:v[E(307)].CircleWaveType,uniforms:{color:new(v[E(306)])(1,0,0,.7),speed:3,count:1,gradient:.1},source:"uniform vec4 color;uniform float speed;uniform float count;uniform float gradient;czm_material czm_getMaterial(czm_materialInput materialInput){czm_material material=czm_getDefaultMaterial(materialInput);material.diffuse=1.5*color.rgb;vec2 st=materialInput.st;float dis=distance(st,vec2(0.5,0.5));float per=fract(czm_frameNumber*speed/1000.0);if(count==1.0){if(dis>per*0.5){discard;}else{material.alpha=color.a*dis/per/2.0;}}else{vec3 str=materialInput.str;if(abs(str.z)>0.001){discard;}if(dis>0.5){discard;}else{float perDis=0.5/count;float disNum;float bl=0.0;for(int i=0;i<=999;i++){if(float(i)<=count){disNum=perDis*float(i)-dis+per/count;if(disNum>0.0){if(disNum<perDis){bl=1.0-disNum/perDis;}else if(disNum-perDis<perDis){bl=1.0-abs(1.0-disNum/perDis);}material.alpha=pow(bl,(1.0+10.0*(1.0-gradient)));}}}}}return material;}"},translucent:function(t){return!0}}),v[E(307)][E(303)]=E(291),v[E(307)]._materialCache.addMaterial(v[E(307)][E(303)],{fabric:{type:v[E(307)][E(303)],uniforms:{color:new(v[E(306)])(0,1,0),percent:.05,speed:3},source:"uniform vec4 color;uniform float percent;uniform float speed;czm_material czm_getMaterial(czm_materialInput materialInput){czm_material material=czm_getDefaultMaterial(materialInput);material.diffuse=czm_gammaCorrect(color.rgb);float time=fract(czm_frameNumber*speed/1000.0);vec2 st=materialInput.st;float s=distance(st,vec2(0.5,0.5));float a=s-mod(time,0.5);float l=0.5*percent;if(a<l&&a>0.0){material.alpha=a/l;}else{material.alpha=0.0;}material.emission=vec3(0.5);return material;}"},translucent:function(t){return!0}}),v.Material[E(310)]=E(295),v.Material[E(289)][E(288)](v[E(307)][E(310)],{fabric:{type:v[E(307)][E(310)],uniforms:{color:new v.Color(0,1,0),rotate:90,percent:.1},source:"uniform vec4 color;uniform float percent;float get_angle(vec2 base,vec2 dir){base=normalize(base);dir=normalize(dir);float angle=degrees(acos(abs(dot(dir,base))));if(dir.s>0.0&&dir.t>0.0){angle=angle;}else if(dir.s<0.0&&dir.t>0.0){angle=180.0-angle;}else if(dir.s<0.0&&dir.t<0.0){angle=180.0+angle;}else{angle=360.0-angle;}return angle;}czm_material czm_getMaterial(czm_materialInput materialInput){czm_material material=czm_getDefaultMaterial(materialInput);material.diffuse=czm_gammaCorrect(color.rgb);vec2 st=materialInput.st;vec2 base=vec2(0.5,0.0);vec2 dir=st-vec2(0.5,0.5);float len=length(dir);if(len>0.49){material.alpha=1.0;material.diffuse=vec3(1.0,1.0,0.0);material.emission=vec3(0.2);}else{float angle=get_angle(base,dir);material.alpha=(mod(angle+(-czm_frameNumber),360.0)-(1.0-percent)*360.0)/(360.0*percent);material.emission=vec3(0.5);}return material;}"},translucent:function(t){return!0}}),v[E(307)][E(296)]=E(327),v.Material[E(289)][E(288)](v.Material[E(296)],{fabric:{type:v.Material[E(296)],uniforms:{color:new(v[E(306)])(0,1,0),speed:3},source:"uniform vec4 color;uniform float speed;\n#define PI 3.14159265359\nczm_material czm_getMaterial(czm_materialInput materialInput){czm_material material=czm_getDefaultMaterial(materialInput);vec2 st=materialInput.st;vec2 scrPt=st*2.0-1.0;float time=czm_frameNumber*speed/1000.0;vec3 col=vec3(0.0);mat2 rot;float theta=-time*1.0*PI-2.2;float cosTheta,sinTheta;cosTheta=cos(theta);sinTheta=sin(theta);rot[0][0]=cosTheta;rot[0][1]=-sinTheta;rot[1][0]=sinTheta;rot[1][1]=cosTheta;vec2 scrPtRot=rot*scrPt;float angle=1.0-(atan(scrPtRot.y,scrPtRot.x)/6.2831+0.5);float falloff=1.0-length(scrPtRot);float ringSpacing=0.23;if(mod(length(scrPtRot),ringSpacing)<0.015&&length(scrPtRot)/ringSpacing<5.0){col+=vec3(0,0.5,0);}col+=vec3(0,0.8,0)*step(mod(length(scrPtRot),ringSpacing),0.01)*step(length(scrPtRot),1.0);material.alpha=pow(length(col+vec3(.5)),5.0);material.diffuse=(0.5+pow(angle,2.0)*falloff)*color.rgb;return material;}"},translucent:function(t){return!0}}),v[E(307)][E(298)]=E(316),v.Material._materialCache[E(288)](v[E(307)][E(298)],{fabric:{type:v[E(307)][E(298)],uniforms:{color:new(v[E(306)])(0,1,0),speed:3},source:"uniform vec4 color;uniform float speed;\n#define PI 3.14159265359\nfloat rand(vec2 co){return fract(sin(dot(co.xy,vec2(12.9898,78.233)))*43758.5453);}czm_material czm_getMaterial(czm_materialInput materialInput){czm_material material=czm_getDefaultMaterial(materialInput);vec2 st=materialInput.st;vec2 pos=st-vec2(0.5);float time=czm_frameNumber*speed/1000.0;float r=length(pos);float t=atan(pos.y,pos.x)-time*2.5;float a=(atan(sin(t),cos(t))+PI)/(2.0*PI);float ta=0.5;float v=smoothstep(ta-0.05,ta+0.05,a)*smoothstep(ta+0.05,ta-0.05,a);vec3 flagColor=color.rgb*v;float blink=pow(sin(time*1.5)*0.5+0.5,0.8);flagColor=color.rgb*pow(a,8.0*(.2+blink))*(sin(r*500.0)*.5+.5);flagColor=flagColor*pow(r,0.4);material.alpha=length(flagColor)*1.3;material.diffuse=flagColor*3.0;return material;}"},translucent:function(t){return!0}}),v[E(307)].CircleRadarLineType=E(315),v[E(307)][E(289)][E(288)](v[E(307)][E(301)],{fabric:{type:v[E(307)][E(301)],uniforms:{color:new(v[E(306)])(0,1,0),speed:3},source:"uniform vec4 color;uniform float speed;czm_material czm_getMaterial(czm_materialInput materialInput){czm_material material=czm_getDefaultMaterial(materialInput);vec2 st=materialInput.st*2.0-1.0;float t=czm_frameNumber*speed/1000.0;vec3 col=vec3(0.0);vec2 p=vec2(sin(t),cos(t));float d=length(st-dot(p,st)*p);if(dot(st,p)<0.){d=length(st);}col=.006/d*color.rgb;if(distance(st,vec2(0))>0.99){col=color.rgb;}material.alpha=pow(length(col),2.0);material.diffuse=col*3.0;return material;}"},translucent:function(t){return!0}});const D=z;function R(){const t=["trim","getAssetsBaseUrl","hasOwnProperty","random","827627KFdwqL","95082AHkwoT","4236126CXpdLi","_lat","14MYYxIp","setAttribute","240cFsiQE","length","lastIndexOf","split","getElementsByTagName","createElement","head","join","2hVFNov","dataURLtoBlob","emptyImageUrl","appendChild","0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz","substring","formatNum","10zsUAeT","charCodeAt","debounce","options","link","187872pqVwJZ","scripts","replace","1975135whnctR","addCSS","4dRrzFX","create","uuid","3648WZHpAf","pow","15883263PNCNil","_alt","merge","match","stylesheet","splitWords","1359TJZEOg","CESIUM_PLUGIN_BASE_URL"];return(R=function(){return t})()}!function(t,e){const r=z,n=t();for(;;)try{if(742251===-parseInt(r(137))/1*(-parseInt(r(151))/2)+parseInt(r(163))/3+parseInt(r(120))/4*(-parseInt(r(166))/5)+-parseInt(r(139))/6*(parseInt(r(141))/7)+-parseInt(r(123))/8*(-parseInt(r(131))/9)+-parseInt(r(158))/10*(-parseInt(r(125))/11)+-parseInt(r(143))/12*(-parseInt(r(138))/13))break;n.push(n.shift())}catch(t){n.push(n.shift())}}(R);const k=D(155)[D(146)]("");if(void 0===window[D(132)]){const t=document[D(164)];window[D(132)]=t[t[D(144)]-1].src[D(156)](0,t[t[D(144)]-1].src[D(145)]("/")+1)}class F{static[D(122)](t="D"){const e=D;let r,n=[];n[8]=n[13]=n[18]=n[23]="-",n[14]="4";for(let t=0;t<36;t++)!n[t]&&(r=0|16*Math[e(136)](),n[t]=k[19===t?3&r|8:r]);return t+"-"+n[e(150)]("")}static[D(127)](t,...e){let r,n,i,o;for(n=0,i=e[D(144)];n<i;n++)for(r in o=e[n],o)t[r]=o[r];return t}static[D(130)](t){return this[D(133)](t).split(/\s+/)}static setOptions(t,e){const r=D;!t[r(135)](r(161))&&(t[r(161)]=t.options?Object[r(121)](t[r(161)]):{});for(let n in e)t[r(161)][n]=e[n];return t[r(161)]}static[D(157)](t,e){let r=Math[D(124)](10,void 0===e?6:e);return Math.round(t*r)/r}static trim(t){const e=D;return t[e(133)]?t[e(133)]():t[e(165)](/^\s+|\s+$/g,"")}static[D(153)](){return"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="}static checkPosition(t){const e=D;return t&&t[e(135)]("_lng")&&t.hasOwnProperty(e(140))&&t[e(135)](e(126))}static[D(160)](t,e){let r=null;return function(){r&&clearTimeout(r),r=setTimeout(t,e)}}static throttle(t,e){let r=!0;return function(){if(!r)return!1;r=!1,setTimeout((()=>{t(),r=!0}),e)}}static[D(152)](t){const e=D;let r=t[e(146)](","),n=r[0][e(128)](/:(.*?);/)[1],i=atob(r[1]),o=i[e(144)],a=new Uint8Array(o);for(;o--;)a[o]=i[e(159)](o);return new Blob([a],{type:n})}static[D(134)](t){return window.CESIUM_PLUGIN_BASE_URL+"/"+t}static[D(167)](t){const e=D,r=document[e(149)]||document[e(147)](e(149))[0],n=document[e(148)](e(162));n[e(142)]("rel",e(129)),n[e(142)]("href",t),r[e(154)](n)}}function L(){var t=["32ackztk","24gBiris","Cartesian2","10kUYpYf","CylinderFadeType","4WKPWsw","3480835evNwDa","439506gMUQmu","3587089gqpWJw","CylinderFade","Assets/Images/cylinderScan.png","getAssetsBaseUrl","Material","addMaterial","36kuuhdB","CylinderParticles","51772cJKCze","CylinderParticlesType","CylinderScanType","CylinderScan","_materialCache","1793385HzUxJi","73010pMIrMA","DefaultImageId","5641920WSClba","Color"];return(L=function(){return t})()}var N=G;function G(t,e){var r=L();return(G=function(t,e){return r[t-=402]})(t,e)}!function(t,e){for(var r=G,n=t();;)try{if(587809===parseInt(r(404))/1*(parseInt(r(402))/2)+-parseInt(r(409))/3*(parseInt(r(419))/4)+-parseInt(r(420))/5+-parseInt(r(415))/6*(parseInt(r(410))/7)+-parseInt(r(414))/8*(-parseInt(r(421))/9)+-parseInt(r(417))/10*(-parseInt(r(422))/11)+parseInt(r(412))/12)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(L),v.Material[N(418)]=N(423),v[N(426)][N(408)][N(427)](v[N(426)][N(418)],{fabric:{type:v[N(426)][N(418)],uniforms:{color:new v.Color(1,0,0,.7)},source:"uniform vec4 color;czm_material czm_getMaterial(czm_materialInput materialInput){czm_material material=czm_getDefaultMaterial(materialInput);vec2 st=materialInput.st;float powerRatio=1./(fract(czm_frameNumber/30.0)+1.);float alpha=pow(1.-st.t,powerRatio);vec4 temp=vec4(color.rgb,alpha*color.a);material.diffuse=temp.rgb;material.alpha=temp.a;return material;}"},translucent:function(t){return!0}}),v.Material[N(405)]=N(403),v[N(426)][N(408)][N(427)](v.Material[N(405)],{fabric:{type:v[N(426)][N(405)],uniforms:{color:new v.Color(1,0,0,.7),image:v[N(426)][N(411)]},source:"uniform vec4 color;uniform sampler2D image;czm_material czm_getMaterial(czm_materialInput materialInput){czm_material material=czm_getDefaultMaterial(materialInput);vec2 st=materialInput.st;float time=fract(czm_frameNumber/90.);vec2 new_st=fract(st-vec2(time,time));vec4 colorImage=texture2D(image,new_st);vec3 diffuse=colorImage.rgb;float alpha=colorImage.a;diffuse*=color.rgb;alpha*=color.a;material.diffuse=diffuse;material.alpha=alpha*pow(1.-st.t,color.a);return material;}"},translucent:function(t){return!0}}),v[N(426)][N(406)]=N(407),v[N(426)]._materialCache[N(427)](v[N(426)][N(406)],{fabric:{type:v[N(426)][N(406)],uniforms:{color:new(v[N(413)])(1,0,1,.7),image:F[N(425)](N(424)),speed:1,repeat:new(v[N(416)])(1,1)},source:"uniform sampler2D image;uniform vec2 repeat;uniform float speed;uniform vec4 color;czm_material czm_getMaterial(czm_materialInput materialInput){czm_material material=czm_getDefaultMaterial(materialInput);vec2 st=repeat*materialInput.st;float t=fract(czm_frameNumber*speed/5000.0);vec4 colorImage=texture2D(image,vec2(fract(st.t-t),st.t));;material.alpha=colorImage.a*color.a;material.diffuse=max(color.rgb*material.alpha*3.0,color.rgb);return material;}"},translucent:function(t){return!0}});function B(t,e){var r=O();return(B=function(t,e){return r[t-=371]})(t,e)}var W=B;function O(){var t=["8710VUmGYR","448990FtCoyU","10177MLkcyo","WaterReflectionType","370363mOoZNf","getAssetsBaseUrl","Assets/Images/texture.png","34hEGvJq","328332qrpxaa","addMaterial","12sFwFlH","Assets/Images/waterNormals.jpg","3510mNaRVA","1023342rXTjDh","Material","Cartesian3","1602696bQTWQJ"];return(O=function(){return t})()}!function(t,e){for(var r=B,n=t();;)try{if(262854===-parseInt(r(375))/1*(parseInt(r(380))/2)+parseInt(r(386))/3+parseInt(r(381))/4+-parseInt(r(374))/5*(parseInt(r(383))/6)+parseInt(r(377))/7+-parseInt(r(372))/8+parseInt(r(385))/9*(parseInt(r(373))/10))break;n.push(n.shift())}catch(t){n.push(n.shift())}}(O),v[W(387)][W(376)]="WaterReflection",v[W(387)]._materialCache[W(382)](v[W(387)].WaterReflectionType,{fabric:{type:v.Material.WaterReflectionType,uniforms:{texture:F.getAssetsBaseUrl(W(379)),normalTexture:F[W(378)](W(384)),speed:.2,fixedFrameToEastNorthUpTransform:[.9686,-.16,.1904,0,.2488,.6231,-.7415,0,0,.7656,.6433,0,-0,21058.9824,-6369376.5,1],size:100,waterColor:new v.Color(0,.1176,.0588,1),waterAlpha:.9,rf0:.3,lightDirection:new(v[W(371)])(0,0,1),sunShiny:100,distortionScale:3.7},source:"uniform sampler2D texture;uniform sampler2D normalTexture;uniform float speed;uniform mat4 fixedFrameToEastNorthUpTransform;varying vec4 v_worldPosition;varying vec4 v_uv;uniform float size;uniform vec4 waterColor;uniform float waterAlpha;uniform float rf0;uniform vec3 lightDirection;uniform float sunShiny;uniform float distortionScale;vec3 sunDirection=normalize(lightDirection);vec3 sunColor=vec3(1.0);float time=fract(czm_frameNumber*speed/1000.0);vec4 getNoise(sampler2D normalMap,vec2 uv){vec2 uv0=(uv/103.0)+vec2(time/17.0,time/29.0);vec2 uv1=uv/107.0-vec2(time/-19.0,time/31.0);vec2 uv2=uv/vec2(8907.0,9803.0)+vec2(time/101.0,time/97.0);vec2 uv3=uv/vec2(1091.0,1027.0)-vec2(time/109.0,time/-113.0);vec4 noise=texture2D(normalMap,uv0)+texture2D(normalMap,uv1)+texture2D(normalMap,uv2)+texture2D(normalMap,uv3);return noise*0.5-1.0;}void sunLight(const vec3 surfaceNormal,const vec3 eyeDirection,float shiny,float spec,float diffuse,inout vec3 diffuseColor,inout vec3 specularColor){vec3 reflection=normalize(reflect(-sunDirection,surfaceNormal));float direction=max(0.0,dot(eyeDirection,reflection));specularColor+=pow(direction,shiny)*sunColor*spec;diffuseColor+=max(dot(sunDirection,surfaceNormal),0.0)*sunColor*diffuse;}czm_material czm_getMaterial(czm_materialInput materialInput){czm_material material=czm_getDefaultMaterial(materialInput);vec2 transformedSt=materialInput.st*2.0-1.0;vec4 noise=getNoise(normalTexture,transformedSt*size);vec3 surfaceNormal=normalize(noise.xzy);vec3 diffuseLight=vec3(0.0);vec3 specularLight=vec3(0.0);vec3 eye=(czm_inverseView*vec4(vec3(0.0),1.0)).xyz;eye=(fixedFrameToEastNorthUpTransform*vec4(eye,1.0)).xyz;vec3 world=(fixedFrameToEastNorthUpTransform*vec4(v_worldPosition.xyz,1.0)).xyz;vec3 worldToEye=eye-world;worldToEye=vec3(worldToEye.x,worldToEye.z,-worldToEye.y);vec3 eyeDirection=normalize(worldToEye);float shiny=sunShiny;float spec=2.0;float diffuse=0.5;sunLight(surfaceNormal,eyeDirection,shiny,spec,diffuse,diffuseLight,specularLight);float distance=length(worldToEye);float distortionScale=distortionScale;vec2 distortion=surfaceNormal.xz*(0.001+1.0/distance)*distortionScale;vec3 reflectionSample=vec3(texture2D(texture,(v_uv.xy/v_uv.w)*0.5+0.5+distortion));float theta=max(dot(eyeDirection,surfaceNormal),0.0);float rf0=rf0;float reflectance=mix(rf0,1.0,pow(1.0-theta,5.0));vec3 waterColor=waterColor.rgb;vec3 scatter=max(0.0,dot(surfaceNormal,eyeDirection))*waterColor;vec3 albedo=mix(sunColor*diffuseLight*0.3+scatter,vec3(0.1)+reflectionSample*0.9+reflectionSample*specularLight,reflectance);material.diffuse=albedo.rgb;material.alpha=waterAlpha;return material;}"},translucent:function(t){return!0}});function H(t,e){const r=V();return(H=function(t,e){return r[t-=249]})(t,e)}!function(t,e){const r=H,n=t();for(;;)try{if(753998===parseInt(r(252))/1*(parseInt(r(257))/2)+-parseInt(r(269))/3+-parseInt(r(261))/4*(-parseInt(r(255))/5)+-parseInt(r(281))/6+parseInt(r(283))/7+-parseInt(r(250))/8*(parseInt(r(264))/9)+parseInt(r(263))/10)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(V);const j=(t,e)=>{const r=H;return console[r(286)]("polygon",e),e[r(278)]((e=>{const n=r,i=v[n(265)][n(256)][n(272)](null,e);return Object[n(266)](((t,e)=>{const r=H,n=v.Matrix4[r(279)](v[r(262)].eastNorthUpToFixedFrame(t),new(v[r(284)]));return v[r(284)][r(253)](n,e,new(v[r(265)]))})(t,i)).splice(0,2)}))},U=t=>{const e=H;return e(282)+t+e(273)+t+"["+t+e(289)+t+e(285)+t+";\n          for(int i = 0; i < n; i++){\n            vec2 p1 = points_"+t+e(287)+t+e(290)},Y=t=>{const e=H;return(t=>{const e=H;return t[e(270)]((function(t,r,n){return n[e(288)](t,0)===r}))})(t[e(278)]((t=>t[e(267)])))[e(278)](U)[e(249)]("\n")},X=t=>{const e=H;return t[e(278)]((t=>(t=>{const e=H,r=t[e(267)];return t[e(278)](((t,n)=>{const i=e;return i(275)+r+"["+n+i(251)+t[0]+", "+t[1]+");"}))[e(249)]("\n")+e(258)+r+"(position2D)){\n            vec4 tileset_local_position_transformed = vec4(tileset_local_position.x, tileset_local_position.y, ground_z, 1.0);\n            vec4 model_local_position_transformed = czm_inverseModel * u_tileset_localToWorldMatrix * tileset_local_position_transformed;\n            vsOutput.positionMC.xy = model_local_position_transformed.xy;\n            vsOutput.positionMC.z = model_local_position_transformed.z+ modelMC.z*0.002;\n            return;\n          }"})(t[e(274)]))).join("\n")};function V(){const t=["51wLfBMY","multiplyByPoint","center","215565lSTPdi","fromDegrees","11254kThNXL","\n          if(isPointInPolygon_","boundingSphere","\n        // 所有isPointInPolygon函数\n        ","12kNVzVb","Transforms","6847570lpAdUI","3274695vmrlzM","Cartesian3","values","length","MAT4","264144ZykIGn","filter","CustomShader","apply","个元素的数组\n        vec2 points_","polygon","points_","\n        void vertexMain(VertexInput vsInput, inout czm_modelVertexOutput vsOutput){\n            vec3 modelMC = vsInput.attributes.positionMC;\n            vec4 model_local_position = vec4(modelMC.x, modelMC.y, modelMC.z, 1.0);\n            vec4 tileset_local_position = u_tileset_worldToLocalMatrix * czm_model * model_local_position;\n            vec2 position2D = vec2(tileset_local_position.x,tileset_local_position.y);\n            float ground_z = 0.0 + u_flatHeight;\n            // 多个多边形区域\n            ","eastNorthUpToFixedFrame","map","inverse","UniformType","3409584HABwZh","\n        // ","4711644YWicBV","Matrix4","(vec2 point){\n          int nCross = 0; // 交点数\n          const int n = ","log","[i];\n            vec2 p2 = points_","indexOf","];\n        bool isPointInPolygon_","[int(mod(float(i+1),float(n)))];\n            if(p1[1] == p2[1]){\n              continue;\n            }\n            if(point[1] < min(p1[1], p2[1])){\n              continue;\n            }\n            if(point[1] >= max(p1[1], p2[1])){\n              continue;\n            }\n            float x = p1[0] + ((point[1] - p1[1]) * (p2[0] - p1[0])) / (p2[1] - p1[1]);\n            if(x > point[0]){\n              nCross++;\n            }\n          }\n          return int(mod(float(nCross), float(2))) == 1;\n        }","join","8NIvHUV","] = vec2("];return(V=function(){return t})()}function Q(){const t=["3321657HyiDMN","UniformType","601455erdLXx","6fuNURH","554768cXMRvI","5503029GuHowu","FLOAT","CustomShader","2qTzKjv","1014431OrIcxF","1730548qQHIlC","10cfEzUP","5KjdyiM","4961504NKKNWK"];return(Q=function(){return t})()}const Z=J;function J(t,e){const r=Q();return(J=function(t,e){return r[t-=278]})(t,e)}!function(t,e){const r=J,n=t();for(;;)try{if(433509===parseInt(r(282))/1*(parseInt(r(278))/2)+parseInt(r(290))/3+parseInt(r(284))/4*(-parseInt(r(286))/5)+-parseInt(r(291))/6*(parseInt(r(279))/7)+parseInt(r(287))/8+parseInt(r(288))/9*(parseInt(r(285))/10)+-parseInt(r(283))/11)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(Q);const q=new(Cesium[Z(281)])({uniforms:{maxHeight:{type:Cesium[Z(289)][Z(280)],value:0},minHeight:{type:Cesium[Z(289)][Z(280)],value:0}},fragmentShaderText:"void fragmentMain(FragmentInput fsInput,inout czm_modelMaterial material){float curz=fsInput.attributes.positionMC.z;float d=(curz-minHeight)/(maxHeight-minHeight);float r=0.01;r=fract(r*czm_frameNumber);float c=smoothstep(r,r+0.03,d)-smoothstep(r+0.035,r+0.04,d);vec3 linearColor=mix(vec3(1.0,1.0,1.0),vec3(255.0,48.0,48.0)/255.0,r);vec3 renderColor=mix(vec3(0.0,0.96,1.0),linearColor,c);material.diffuse=renderColor;}"});function K(){const t=["geometryInstances","rotatePointByAngle","multiplyByPoint","addLineInstance","1078713nuNyRq","Primitive","positionE","1264850rYgGcs","drawViewArea","1040767FGAATw","sin","Matrix4","positionS","Math","scene","distance","PolylineGeometry","Color","cos","Cartesian3","RED","inverse","angle","globe","10WcLJlN","toRadians","10359858UhWpUA","computeIntersectPoint","analysis","20CEvYcp","GREEN","GeometryInstance","normalize","PolylineColorAppearance","28470365XSDLpZ","4052205suiVnW","74xSnaxa","32hvKots","drawSector","40706LAiDWW","subtract"];return(K=function(){return t})()}function $(t,e){const r=K();return($=function(t,e){return r[t-=406]})(t,e)}const tt=$;!function(t,e){const r=$,n=t();for(;;)try{if(967288===parseInt(r(430))/1*(parseInt(r(433))/2)+-parseInt(r(439))/3*(parseInt(r(423))/4)+parseInt(r(442))/5+-parseInt(r(420))/6+parseInt(r(444))/7*(parseInt(r(431))/8)+parseInt(r(429))/9*(-parseInt(r(418))/10)+parseInt(r(428))/11)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(K);class et{constructor(t){const e=$;this[e(406)]=t[e(406)]||new(v[e(413)]),this[e(441)]=t[e(441)]||new(v[e(413)]),this[e(416)]=t[e(416)]||45,this[e(408)]=t[e(408)],this[e(435)]=[]}[tt(422)](t,e,r){const n=tt;this[n(406)]=t,this[n(441)]=e,this[n(416)]=r||this.angle,this[n(443)]()}[tt(432)](){const t=tt;for(let e=-this[t(416)]/2;e<=this.angle/2;e++){const r=this.positionS,n=this[t(436)](this.positionE,this[t(406)],e),i=this[t(421)](r,n);i&&v[t(413)][t(409)](r,n)>v[t(413)][t(409)](r,i)?this.addLineInstance(r,n,i):this[t(438)](r,n,void 0)}this[t(408)].primitives.add(new(v[t(440)])({geometryInstances:this.geometryInstances,appearance:new(v[t(427)]),depthFailAppearance:new(v[t(427)])}))}drawViewArea(){this[tt(432)]()}rotatePointByAngle(t,e,r){const n=tt;let i=v.Transforms.eastNorthUpToFixedFrame(e),o=v[n(446)][n(415)](i,new v.Matrix4);v[n(446)][n(437)](o,e,new v.Cartesian3);let a=v.Matrix4[n(437)](o,t,new(v[n(413)])),s=a.x*Math[n(412)](v[n(407)].toRadians(r))+a.y*Math[n(445)](v[n(407)][n(419)](r)),c=a.y*Math[n(412)](v[n(407)][n(419)](r))-a.x*Math.sin(v.Math[n(419)](r)),l=a.z;return v[n(446)][n(437)](i,new(v[n(413)])(s,c,l),new(v[n(413)]))}[tt(421)](t,e){const r=tt;let n=v[r(413)][r(426)](v[r(413)][r(434)](e,t,new(v[r(413)])),new(v[r(413)])),i=new v.Ray(t,n);return this[r(408)][r(417)].pick(i,this[r(408)])}[tt(438)](t,e,r){const n=tt;let i;i=r?new(v[n(425)])({geometry:new(v[n(410)])({positions:[t,r,e],colors:[v[n(411)][n(424)],v[n(411)][n(414)],v.Color.RED],width:2})}):new(v[n(425)])({geometry:new(v[n(410)])({positions:[t,e],width:2,colors:[v[n(411)][n(424)],v.Color[n(424)]]})}),this[n(435)]=[i,...this.geometryInstances]}}var rt=6371008.8,nt={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260.511392,inches:39.37*rt,kilometers:6371.0088,kilometres:6371.0088,meters:rt,metres:rt,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:rt/1852,radians:1,yards:6967335.223679999};function it(t,e,r){void 0===r&&(r={});var n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=e||{},n.geometry=t,n}function ot(t,e,r){void 0===r&&(r={});for(var n=0,i=t;n<i.length;n++){var o=i[n];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<o[o.length-1].length;a++)if(o[o.length-1][a]!==o[0][a])throw new Error("First and last Position are not equivalent.")}return it({type:"Polygon",coordinates:t},e,r)}function at(t,e,r){if(void 0===r&&(r={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return it({type:"LineString",coordinates:t},e,r)}function st(t,e){void 0===e&&(e={});var r={type:"FeatureCollection"};return e.id&&(r.id=e.id),e.bbox&&(r.bbox=e.bbox),r.features=t,r}function ct(t){return t%360*Math.PI/180}function lt(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function ut(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function ht(t){if(Array.isArray(t))return t;if("Feature"===t.type){if(null!==t.geometry)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function mt(t){return"Feature"===t.type?t.geometry:t}function pt(t,e,r){if(void 0===r&&(r={}),!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var n=ut(t),i=mt(e),o=i.type,a=e.bbox,s=i.coordinates;if(a&&!1===function(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}(n,a))return!1;"Polygon"===o&&(s=[s]);for(var c=!1,l=0;l<s.length&&!c;l++)if(ft(n,s[l][0],r.ignoreBoundary)){for(var u=!1,h=1;h<s[l].length&&!u;)ft(n,s[l][h],!r.ignoreBoundary)&&(u=!0),h++;u||(c=!0)}return c}function ft(t,e,r){var n=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var i=0,o=e.length-1;i<e.length;o=i++){var a=e[i][0],s=e[i][1],c=e[o][0],l=e[o][1];if(t[1]*(a-c)+s*(c-t[0])+l*(t[0]-a)==0&&(a-t[0])*(c-t[0])<=0&&(s-t[1])*(l-t[1])<=0)return!r;s>t[1]!=l>t[1]&&t[0]<(c-a)*(t[1]-s)/(l-s)+a&&(n=!n)}return n}function dt(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var r=0;r<t.features.length&&!1!==e(t.features[r],r);r++);}function gt(t,e){!function(t,e){var r,n,i,o,a,s,c,l,u,h,m=0,p="FeatureCollection"===t.type,f="Feature"===t.type,d=p?t.features.length:1;for(r=0;r<d;r++){for(l=p?t.features[r].properties:f?t.properties:{},u=p?t.features[r].bbox:f?t.bbox:void 0,h=p?t.features[r].id:f?t.id:void 0,a=(c=!!(s=p?t.features[r].geometry:f?t.geometry:t)&&"GeometryCollection"===s.type)?s.geometries.length:1,i=0;i<a;i++)if(null!==(o=c?s.geometries[i]:s))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(o,m,l,u,h))return!1;break;case"GeometryCollection":for(n=0;n<o.geometries.length;n++)if(!1===e(o.geometries[n],m,l,u,h))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,m,l,u,h))return!1;m++}}(t,(function(t,r,n,i,o){var a,s=null===t?null:t.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return!1!==e(it(t,n,{bbox:i,id:o}),r,0)&&void 0}switch(s){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}for(var c=0;c<t.coordinates.length;c++){if(!1===e(it({type:a,coordinates:t.coordinates[c]},n),r,c))return!1}}))}function yt(t){if(!t)throw new Error("geojson is required");var e=[];return gt(t,(function(t){!function(t,e){var r=[],n=t.geometry;if(null!==n){switch(n.type){case"Polygon":r=ht(n);break;case"LineString":r=[ht(n)]}r.forEach((function(r){var n=function(t,e){var r=[];return t.reduce((function(t,n){var i,o,a,s,c,l,u=at([t,n],e);return u.bbox=[(a=(i=t)[0])<(c=(o=n)[0])?a:c,(s=i[1])<(l=o[1])?s:l,a>c?a:c,s>l?s:l],r.push(u),n})),r}(r,t.properties);n.forEach((function(t){t.id=e.length,e.push(t)}))}))}}(t,e)})),st(e)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var vt={exports:{}},It={exports:{}};!function(t,e){t.exports=function(){function t(t,r,i,o,a){e(t,r,i||0,o||t.length-1,a||n)}function e(t,n,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,c=n-i+1,l=Math.log(s),u=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*u*(s-u)/s)*(c-s/2<0?-1:1);e(t,n,Math.max(i,Math.floor(n-c*u/s+h)),Math.min(o,Math.floor(n+(s-c)*u/s+h)),a)}var m=t[n],p=i,f=o;for(r(t,i,n),a(t[o],m)>0&&r(t,i,o);p<f;){for(r(t,p,f),p++,f--;a(t[p],m)<0;)p++;for(;a(t[f],m)>0;)f--}0===a(t[i],m)?r(t,i,f):r(t,++f,o),f<=n&&(i=f+1),n<=f&&(o=f-1)}}function r(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function n(t,e){return t<e?-1:t>e?1:0}var i=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(t,e,r){if(!r)return e.indexOf(t);for(var n=0;n<e.length;n++)if(r(t,e[n]))return n;return-1}function a(t,e){s(t,0,t.children.length,e,t)}function s(t,e,r,n,i){i||(i=y(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=e;o<r;o++){var a=t.children[o];c(i,t.leaf?n(a):a)}return i}function c(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function u(t,e){return t.minY-e.minY}function h(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function m(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function f(t,e){var r=Math.max(t.minX,e.minX),n=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,i-r)*Math.max(0,o-n)}function d(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function g(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function y(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v(e,r,n,i,o){for(var a=[r,n];a.length;)if(!((n=a.pop())-(r=a.pop())<=i)){var s=r+Math.ceil((n-r)/i/2)*i;t(e,s,r,n,o),a.push(r,s,s,n)}}return i.prototype.all=function(){return this._all(this.data,[])},i.prototype.search=function(t){var e=this.data,r=[];if(!g(t,e))return r;for(var n=this.toBBox,i=[];e;){for(var o=0;o<e.children.length;o++){var a=e.children[o],s=e.leaf?n(a):a;g(t,s)&&(e.leaf?r.push(a):d(t,s)?this._all(a,r):i.push(a))}e=i.pop()}return r},i.prototype.collides=function(t){var e=this.data;if(!g(t,e))return!1;for(var r=[];e;){for(var n=0;n<e.children.length;n++){var i=e.children[n],o=e.leaf?this.toBBox(i):i;if(g(t,o)){if(e.leaf||d(t,o))return!0;r.push(i)}}e=r.pop()}return!1},i.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var n=this.data;this.data=r,r=n}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},i.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},i.prototype.clear=function(){return this.data=y([]),this},i.prototype.remove=function(t,e){if(!t)return this;for(var r,n,i,a=this.data,s=this.toBBox(t),c=[],l=[];a||c.length;){if(a||(a=c.pop(),n=c[c.length-1],r=l.pop(),i=!0),a.leaf){var u=o(t,a.children,e);if(-1!==u)return a.children.splice(u,1),c.push(a),this._condense(c),this}i||a.leaf||!d(a,s)?n?(r++,a=n.children[r],i=!1):a=null:(c.push(a),l.push(r),r=0,n=a,a=a.children[0])}return this},i.prototype.toBBox=function(t){return t},i.prototype.compareMinX=function(t,e){return t.minX-e.minX},i.prototype.compareMinY=function(t,e){return t.minY-e.minY},i.prototype.toJSON=function(){return this.data},i.prototype.fromJSON=function(t){return this.data=t,this},i.prototype._all=function(t,e){for(var r=[];t;)t.leaf?e.push.apply(e,t.children):r.push.apply(r,t.children),t=r.pop();return e},i.prototype._build=function(t,e,r,n){var i,o=r-e+1,s=this._maxEntries;if(o<=s)return a(i=y(t.slice(e,r+1)),this.toBBox),i;n||(n=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,n-1))),(i=y([])).leaf=!1,i.height=n;var c=Math.ceil(o/s),l=c*Math.ceil(Math.sqrt(s));v(t,e,r,l,this.compareMinX);for(var u=e;u<=r;u+=l){var h=Math.min(u+l-1,r);v(t,u,h,c,this.compareMinY);for(var m=u;m<=h;m+=c){var p=Math.min(m+c-1,h);i.children.push(this._build(t,m,p,n-1))}}return a(i,this.toBBox),i},i.prototype._chooseSubtree=function(t,e,r,n){for(;n.push(e),!e.leaf&&n.length-1!==r;){for(var i=1/0,o=1/0,a=void 0,s=0;s<e.children.length;s++){var c=e.children[s],l=h(c),u=p(t,c)-l;u<o?(o=u,i=l<i?l:i,a=c):u===o&&l<i&&(i=l,a=c)}e=a||e.children[0]}return e},i.prototype._insert=function(t,e,r){var n=r?t:this.toBBox(t),i=[],o=this._chooseSubtree(n,this.data,e,i);for(o.children.push(t),c(o,n);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(n,i,e)},i.prototype._split=function(t,e){var r=t[e],n=r.children.length,i=this._minEntries;this._chooseSplitAxis(r,i,n);var o=this._chooseSplitIndex(r,i,n),s=y(r.children.splice(o,r.children.length-o));s.height=r.height,s.leaf=r.leaf,a(r,this.toBBox),a(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(r,s)},i.prototype._splitRoot=function(t,e){this.data=y([t,e]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},i.prototype._chooseSplitIndex=function(t,e,r){for(var n,i=1/0,o=1/0,a=e;a<=r-e;a++){var c=s(t,0,a,this.toBBox),l=s(t,a,r,this.toBBox),u=f(c,l),m=h(c)+h(l);u<i?(i=u,n=a,o=m<o?m:o):u===i&&m<o&&(o=m,n=a)}return n||r-e},i.prototype._chooseSplitAxis=function(t,e,r){var n=t.leaf?this.compareMinX:l,i=t.leaf?this.compareMinY:u;this._allDistMargin(t,e,r,n)<this._allDistMargin(t,e,r,i)&&t.children.sort(n)},i.prototype._allDistMargin=function(t,e,r,n){t.children.sort(n);for(var i=this.toBBox,o=s(t,0,e,i),a=s(t,r-e,r,i),l=m(o)+m(a),u=e;u<r-e;u++){var h=t.children[u];c(o,t.leaf?i(h):h),l+=m(o)}for(var p=r-e-1;p>=e;p--){var f=t.children[p];c(a,t.leaf?i(f):f),l+=m(a)}return l},i.prototype._adjustParentBBoxes=function(t,e,r){for(var n=r;n>=0;n--)c(e[n],t)},i.prototype._condense=function(t){for(var e=t.length-1,r=void 0;e>=0;e--)0===t[e].children.length?e>0?(r=t[e-1].children).splice(r.indexOf(t[e]),1):this.clear():a(t[e],this.toBBox)},i}()}(It);var Ct={};!function(t){function e(t,e,r){void 0===r&&(r={});var n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=e||{},n.geometry=t,n}function r(t,r,n){if(void 0===n&&(n={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!m(t[0])||!m(t[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:t},r,n)}function n(t,r,n){void 0===n&&(n={});for(var i=0,o=t;i<o.length;i++){var a=o[i];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++)if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:t},r,n)}function i(t,r,n){if(void 0===n&&(n={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:t},r,n)}function o(t,e){void 0===e&&(e={});var r={type:"FeatureCollection"};return e.id&&(r.id=e.id),e.bbox&&(r.bbox=e.bbox),r.features=t,r}function a(t,r,n){return void 0===n&&(n={}),e({type:"MultiLineString",coordinates:t},r,n)}function s(t,r,n){return void 0===n&&(n={}),e({type:"MultiPoint",coordinates:t},r,n)}function c(t,r,n){return void 0===n&&(n={}),e({type:"MultiPolygon",coordinates:t},r,n)}function l(e,r){void 0===r&&(r="kilometers");var n=t.factors[r];if(!n)throw new Error(r+" units is invalid");return e*n}function u(e,r){void 0===r&&(r="kilometers");var n=t.factors[r];if(!n)throw new Error(r+" units is invalid");return e/n}function h(t){return 180*(t%(2*Math.PI))/Math.PI}function m(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.earthRadius=6371008.8,t.factors={centimeters:100*t.earthRadius,centimetres:100*t.earthRadius,degrees:t.earthRadius/111325,feet:3.28084*t.earthRadius,inches:39.37*t.earthRadius,kilometers:t.earthRadius/1e3,kilometres:t.earthRadius/1e3,meters:t.earthRadius,metres:t.earthRadius,miles:t.earthRadius/1609.344,millimeters:1e3*t.earthRadius,millimetres:1e3*t.earthRadius,nauticalmiles:t.earthRadius/1852,radians:1,yards:1.0936*t.earthRadius},t.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/t.earthRadius,yards:1.0936133},t.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},t.feature=e,t.geometry=function(t,e,o){switch(t){case"Point":return r(e).geometry;case"LineString":return i(e).geometry;case"Polygon":return n(e).geometry;case"MultiPoint":return s(e).geometry;case"MultiLineString":return a(e).geometry;case"MultiPolygon":return c(e).geometry;default:throw new Error(t+" is invalid")}},t.point=r,t.points=function(t,e,n){return void 0===n&&(n={}),o(t.map((function(t){return r(t,e)})),n)},t.polygon=n,t.polygons=function(t,e,r){return void 0===r&&(r={}),o(t.map((function(t){return n(t,e)})),r)},t.lineString=i,t.lineStrings=function(t,e,r){return void 0===r&&(r={}),o(t.map((function(t){return i(t,e)})),r)},t.featureCollection=o,t.multiLineString=a,t.multiPoint=s,t.multiPolygon=c,t.geometryCollection=function(t,r,n){return void 0===n&&(n={}),e({type:"GeometryCollection",geometries:t},r,n)},t.round=function(t,e){if(void 0===e&&(e=0),e&&!(e>=0))throw new Error("precision must be a positive number");var r=Math.pow(10,e||0);return Math.round(t*r)/r},t.radiansToLength=l,t.lengthToRadians=u,t.lengthToDegrees=function(t,e){return h(u(t,e))},t.bearingToAzimuth=function(t){var e=t%360;return e<0&&(e+=360),e},t.radiansToDegrees=h,t.degreesToRadians=function(t){return t%360*Math.PI/180},t.convertLength=function(t,e,r){if(void 0===e&&(e="kilometers"),void 0===r&&(r="kilometers"),!(t>=0))throw new Error("length must be a positive number");return l(u(t,e),r)},t.convertArea=function(e,r,n){if(void 0===r&&(r="meters"),void 0===n&&(n="kilometers"),!(e>=0))throw new Error("area must be a positive number");var i=t.areaFactors[r];if(!i)throw new Error("invalid original units");var o=t.areaFactors[n];if(!o)throw new Error("invalid final units");return e/i*o},t.isNumber=m,t.isObject=function(t){return!!t&&t.constructor===Object},t.validateBBox=function(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach((function(t){if(!m(t))throw new Error("bbox must only contain numbers")}))},t.validateId=function(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}}(Ct);var xt={};Object.defineProperty(xt,"__esModule",{value:!0});var wt=Ct;function Mt(t,e,r){if(null!==t)for(var n,i,o,a,s,c,l,u,h=0,m=0,p=t.type,f="FeatureCollection"===p,d="Feature"===p,g=f?t.features.length:1,y=0;y<g;y++){s=(u=!!(l=f?t.features[y].geometry:d?t.geometry:t)&&"GeometryCollection"===l.type)?l.geometries.length:1;for(var v=0;v<s;v++){var I=0,C=0;if(null!==(a=u?l.geometries[v]:l)){c=a.coordinates;var x=a.type;switch(h=!r||"Polygon"!==x&&"MultiPolygon"!==x?0:1,x){case null:break;case"Point":if(!1===e(c,m,y,I,C))return!1;m++,I++;break;case"LineString":case"MultiPoint":for(n=0;n<c.length;n++){if(!1===e(c[n],m,y,I,C))return!1;m++,"MultiPoint"===x&&I++}"LineString"===x&&I++;break;case"Polygon":case"MultiLineString":for(n=0;n<c.length;n++){for(i=0;i<c[n].length-h;i++){if(!1===e(c[n][i],m,y,I,C))return!1;m++}"MultiLineString"===x&&I++,"Polygon"===x&&C++}"Polygon"===x&&I++;break;case"MultiPolygon":for(n=0;n<c.length;n++){for(C=0,i=0;i<c[n].length;i++){for(o=0;o<c[n][i].length-h;o++){if(!1===e(c[n][i][o],m,y,I,C))return!1;m++}C++}I++}break;case"GeometryCollection":for(n=0;n<a.geometries.length;n++)if(!1===Mt(a.geometries[n],e,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function _t(t,e){var r;switch(t.type){case"FeatureCollection":for(r=0;r<t.features.length&&!1!==e(t.features[r].properties,r);r++);break;case"Feature":e(t.properties,0)}}function bt(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var r=0;r<t.features.length&&!1!==e(t.features[r],r);r++);}function Pt(t,e){var r,n,i,o,a,s,c,l,u,h,m=0,p="FeatureCollection"===t.type,f="Feature"===t.type,d=p?t.features.length:1;for(r=0;r<d;r++){for(l=p?t.features[r].properties:f?t.properties:{},u=p?t.features[r].bbox:f?t.bbox:void 0,h=p?t.features[r].id:f?t.id:void 0,a=(c=!!(s=p?t.features[r].geometry:f?t.geometry:t)&&"GeometryCollection"===s.type)?s.geometries.length:1,i=0;i<a;i++)if(null!==(o=c?s.geometries[i]:s))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(o,m,l,u,h))return!1;break;case"GeometryCollection":for(n=0;n<o.geometries.length;n++)if(!1===e(o.geometries[n],m,l,u,h))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,m,l,u,h))return!1;m++}}function Tt(t,e){Pt(t,(function(t,r,n,i,o){var a,s=null===t?null:t.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return!1!==e(wt.feature(t,n,{bbox:i,id:o}),r,0)&&void 0}switch(s){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}for(var c=0;c<t.coordinates.length;c++){if(!1===e(wt.feature({type:a,coordinates:t.coordinates[c]},n),r,c))return!1}}))}function Et(t,e){Tt(t,(function(t,r,n){var i=0;if(t.geometry){var o=t.geometry.type;if("Point"!==o&&"MultiPoint"!==o){var a,s=0,c=0,l=0;return!1!==Mt(t,(function(o,u,h,m,p){if(void 0===a||r>s||m>c||p>l)return a=o,s=r,c=m,l=p,void(i=0);var f=wt.lineString([a,o],t.properties);if(!1===e(f,r,n,p,i))return!1;i++,a=o}))&&void 0}}}))}function At(t,e){if(!t)throw new Error("geojson is required");Tt(t,(function(t,r,n){if(null!==t.geometry){var i=t.geometry.coordinates;switch(t.geometry.type){case"LineString":if(!1===e(t,r,n,0,0))return!1;break;case"Polygon":for(var o=0;o<i.length;o++)if(!1===e(wt.lineString(i[o],t.properties),r,n,o))return!1}}}))}xt.coordAll=function(t){var e=[];return Mt(t,(function(t){e.push(t)})),e},xt.coordEach=Mt,xt.coordReduce=function(t,e,r,n){var i=r;return Mt(t,(function(t,n,o,a,s){i=0===n&&void 0===r?t:e(i,t,n,o,a,s)}),n),i},xt.featureEach=bt,xt.featureReduce=function(t,e,r){var n=r;return bt(t,(function(t,i){n=0===i&&void 0===r?t:e(n,t,i)})),n},xt.findPoint=function(t,e){if(!wt.isObject(e=e||{}))throw new Error("options is invalid");var r,n=e.featureIndex||0,i=e.multiFeatureIndex||0,o=e.geometryIndex||0,a=e.coordIndex||0,s=e.properties;switch(t.type){case"FeatureCollection":n<0&&(n=t.features.length+n),s=s||t.features[n].properties,r=t.features[n].geometry;break;case"Feature":s=s||t.properties,r=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=t;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var c=r.coordinates;switch(r.type){case"Point":return wt.point(c,s,e);case"MultiPoint":return i<0&&(i=c.length+i),wt.point(c[i],s,e);case"LineString":return a<0&&(a=c.length+a),wt.point(c[a],s,e);case"Polygon":return o<0&&(o=c.length+o),a<0&&(a=c[o].length+a),wt.point(c[o][a],s,e);case"MultiLineString":return i<0&&(i=c.length+i),a<0&&(a=c[i].length+a),wt.point(c[i][a],s,e);case"MultiPolygon":return i<0&&(i=c.length+i),o<0&&(o=c[i].length+o),a<0&&(a=c[i][o].length-a),wt.point(c[i][o][a],s,e)}throw new Error("geojson is invalid")},xt.findSegment=function(t,e){if(!wt.isObject(e=e||{}))throw new Error("options is invalid");var r,n=e.featureIndex||0,i=e.multiFeatureIndex||0,o=e.geometryIndex||0,a=e.segmentIndex||0,s=e.properties;switch(t.type){case"FeatureCollection":n<0&&(n=t.features.length+n),s=s||t.features[n].properties,r=t.features[n].geometry;break;case"Feature":s=s||t.properties,r=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=t;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var c=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return a<0&&(a=c.length+a-1),wt.lineString([c[a],c[a+1]],s,e);case"Polygon":return o<0&&(o=c.length+o),a<0&&(a=c[o].length+a-1),wt.lineString([c[o][a],c[o][a+1]],s,e);case"MultiLineString":return i<0&&(i=c.length+i),a<0&&(a=c[i].length+a-1),wt.lineString([c[i][a],c[i][a+1]],s,e);case"MultiPolygon":return i<0&&(i=c.length+i),o<0&&(o=c[i].length+o),a<0&&(a=c[i][o].length-a-1),wt.lineString([c[i][o][a],c[i][o][a+1]],s,e)}throw new Error("geojson is invalid")},xt.flattenEach=Tt,xt.flattenReduce=function(t,e,r){var n=r;return Tt(t,(function(t,i,o){n=0===i&&0===o&&void 0===r?t:e(n,t,i,o)})),n},xt.geomEach=Pt,xt.geomReduce=function(t,e,r){var n=r;return Pt(t,(function(t,i,o,a,s){n=0===i&&void 0===r?t:e(n,t,i,o,a,s)})),n},xt.lineEach=At,xt.lineReduce=function(t,e,r){var n=r;return At(t,(function(t,i,o,a){n=0===i&&void 0===r?t:e(n,t,i,o,a)})),n},xt.propEach=_t,xt.propReduce=function(t,e,r){var n=r;return _t(t,(function(t,i){n=0===i&&void 0===r?t:e(n,t,i)})),n},xt.segmentEach=Et,xt.segmentReduce=function(t,e,r){var n=r,i=!1;return Et(t,(function(t,o,a,s,c){n=!1===i&&void 0===r?t:e(n,t,o,a,s,c),i=!0})),n};var St={};Object.defineProperty(St,"__esModule",{value:!0});var zt=xt;function Dt(t){var e=[1/0,1/0,-1/0,-1/0];return zt.coordEach(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}Dt.default=Dt,St.default=Dt;var Rt=It.exports,kt=Ct,Ft=xt,Lt=St.default,Nt=Ft.featureEach,Gt=kt.featureCollection;function Bt(t){var e=new Rt(t);return e.insert=function(t){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:Lt(t),Rt.prototype.insert.call(this,t)},e.load=function(t){var e=[];return Array.isArray(t)?t.forEach((function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:Lt(t),e.push(t)})):Nt(t,(function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:Lt(t),e.push(t)})),Rt.prototype.load.call(this,e)},e.remove=function(t,e){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:Lt(t),Rt.prototype.remove.call(this,t,e)},e.clear=function(){return Rt.prototype.clear.call(this)},e.search=function(t){var e=Rt.prototype.search.call(this,this.toBBox(t));return Gt(e)},e.collides=function(t){return Rt.prototype.collides.call(this,this.toBBox(t))},e.all=function(){var t=Rt.prototype.all.call(this);return Gt(t)},e.toJSON=function(){return Rt.prototype.toJSON.call(this)},e.fromJSON=function(t){return Rt.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var e;if(t.bbox)e=t.bbox;else if(Array.isArray(t)&&4===t.length)e=t;else if(Array.isArray(t)&&6===t.length)e=[t[0],t[1],t[3],t[4]];else if("Feature"===t.type)e=Lt(t);else{if("FeatureCollection"!==t.type)throw new Error("invalid geojson");e=Lt(t)}return{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}},e}function Wt(t,e){var r={},n=[];if("LineString"===t.type&&(t=it(t)),"LineString"===e.type&&(e=it(e)),"Feature"===t.type&&"Feature"===e.type&&null!==t.geometry&&null!==e.geometry&&"LineString"===t.geometry.type&&"LineString"===e.geometry.type&&2===t.geometry.coordinates.length&&2===e.geometry.coordinates.length){var i=Ot(t,e);return i&&n.push(i),st(n)}var o=vt.exports();return o.load(yt(e)),dt(yt(t),(function(t){dt(o.search(t),(function(e){var i=Ot(t,e);if(i){var o=ht(i).join(",");r[o]||(r[o]=!0,n.push(i))}}))})),st(n)}function Ot(t,e){var r=ht(t),n=ht(e);if(2!==r.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==n.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var i=r[0][0],o=r[0][1],a=r[1][0],s=r[1][1],c=n[0][0],l=n[0][1],u=n[1][0],h=n[1][1],m=(h-l)*(a-i)-(u-c)*(s-o),p=(u-c)*(o-l)-(h-l)*(i-c),f=(a-i)*(o-l)-(s-o)*(i-c);if(0===m)return null;var d=p/m,g=f/m;return d>=0&&d<=1&&g>=0&&g<=1?function(t,e,r){if(void 0===r&&(r={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!lt(t[0])||!lt(t[1]))throw new Error("coordinates must contain numbers");return it({type:"Point",coordinates:t},e,r)}([i+d*(a-i),o+d*(s-o)]):null}function Ht(t,e){void 0===e&&(e={});var r=mt(t);switch(e.properties||"Feature"!==t.type||(e.properties=t.properties),r.type){case"Polygon":return function(t,e){void 0===e&&(e={});return jt(mt(t).coordinates,e.properties?e.properties:"Feature"===t.type?t.properties:{})}(r,e);case"MultiPolygon":return function(t,e){void 0===e&&(e={});var r=mt(t),n=e.properties?e.properties:"Feature"===t.type?t.properties:{},i=[];return r.coordinates.forEach((function(t){i.push(jt(t,n))})),st(i)}(r,e);default:throw new Error("invalid poly")}}function jt(t,e){return t.length>1?function(t,e,r){return void 0===r&&(r={}),it({type:"MultiLineString",coordinates:t},e,r)}(t,e):at(t[0],e)}function Ut(t,e){var r=!0;return gt(t,(function(t){gt(e,(function(e){if(!1===r)return!1;r=function(t,e){switch(t.type){case"Point":switch(e.type){case"Point":return!((r=t.coordinates)[0]===(n=e.coordinates)[0]&&r[1]===n[1]);case"LineString":return!Yt(e,t);case"Polygon":return!pt(t,e)}break;case"LineString":switch(e.type){case"Point":return!Yt(t,e);case"LineString":return!function(t,e){if(Wt(t,e).features.length>0)return!0;return!1}(t,e);case"Polygon":return!Xt(e,t)}break;case"Polygon":switch(e.type){case"Point":return!pt(e,t);case"LineString":return!Xt(t,e);case"Polygon":return!function(t,e){for(var r=0,n=t.coordinates[0];r<n.length;r++){if(pt(n[r],e))return!0}for(var i=0,o=e.coordinates[0];i<o.length;i++){if(pt(o[i],t))return!0}if(Wt(Ht(t),Ht(e)).features.length>0)return!0;return!1}(e,t)}}var r,n;return!1}(t.geometry,e.geometry)}))})),r}function Yt(t,e){for(var r=0;r<t.coordinates.length-1;r++)if(Vt(t.coordinates[r],t.coordinates[r+1],e.coordinates))return!0;return!1}function Xt(t,e){for(var r=0,n=e.coordinates;r<n.length;r++){if(pt(n[r],t))return!0}return Wt(e,Ht(t)).features.length>0}function Vt(t,e,r){var n=e[0]-t[0],i=e[1]-t[1];return 0==(r[0]-t[0])*i-(r[1]-t[1])*n&&(Math.abs(n)>=Math.abs(i)?n>0?t[0]<=r[0]&&r[0]<=e[0]:e[0]<=r[0]&&r[0]<=t[0]:i>0?t[1]<=r[1]&&r[1]<=e[1]:e[1]<=r[1]&&r[1]<=t[1])}function Qt(t,e){var r=!1;return gt(t,(function(t){gt(e,(function(e){if(!0===r)return!0;r=!Ut(t.geometry,e.geometry)}))})),r}function Zt(t,e,r){void 0===r&&(r={});var n=ut(t),i=ut(e),o=ct(i[1]-n[1]),a=ct(i[0]-n[0]),s=ct(n[1]),c=ct(i[1]),l=Math.pow(Math.sin(o/2),2)+Math.pow(Math.sin(a/2),2)*Math.cos(s)*Math.cos(c);return function(t,e){void 0===e&&(e="kilometers");var r=nt[e];if(!r)throw new Error(e+" units is invalid");return t*r}(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)),r.units)}function Jt(t,e,r){return void 0===r&&(r={}),function(t,e,r,n){void 0===n&&(n={});for(var i=[],o=t[0],a=t[1],s=t[2],c=t[3],l=e/Zt([o,a],[s,a],n)*(s-o),u=r/Zt([o,a],[o,c],n)*(c-a),h=s-o,m=c-a,p=Math.floor(h/l),f=Math.floor(m/u),d=(m-f*u)/2,g=o+(h-p*l)/2,y=0;y<p;y++){for(var v=a+d,I=0;I<f;I++){var C=ot([[[g,v],[g,v+u],[g+l,v+u],[g+l,v],[g,v]]],n.properties);n.mask?Qt(n.mask,C)&&i.push(C):i.push(C),v+=u}g+=l}return st(i)}(t,e,e,r)}vt.exports=Bt,vt.exports.default=Bt;const qt=Kt;function Kt(t,e){const r=te();return(Kt=function(t,e){return r[t-=232]})(t,e)}!function(t,e){const r=Kt,n=t();for(;;)try{if(241403===-parseInt(r(259))/1*(parseInt(r(245))/2)+parseInt(r(262))/3+parseInt(r(284))/4+parseInt(r(240))/5+-parseInt(r(252))/6*(-parseInt(r(272))/7)+-parseInt(r(267))/8*(-parseInt(r(255))/9)+-parseInt(r(243))/10)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(te);class $t{constructor(t){const e=Kt;this[e(260)]=t[e(264)],this[e(282)]=[]}[qt(247)](t,e){const r=qt;let n=[],i=1e4,o=1e4,a=-1e4,s=-1e3;for(let e=0;e<t[r(256)];e++){const c=t[e],l=c[0],u=c[1];n[r(234)]([l,u]),i=l<i?l:i,o=u<o?u:o,a=l>a?l:a,s=u>s?u:s}n[r(234)](n[0]);let c=Jt([i,o,a,s],e,{mask:ot([n])});this.createEllipse(c)}[qt(261)](t,e){const r=qt;let n=[],i=1e4,o=1e4,a=-1e4,s=-1e3;for(let e=0;e<t[r(256)];e++){const c=t[e],l=c[0],u=c[1];n[r(234)]([l,u]),i=l<i?l:i,o=u<o?u:o,a=l>a?l:a,s=u>s?u:s}n.push(n[0]);let c=[i,o,a,s],l=a-i,u=s-o;u=u>l?u:l;const h=u/e;let m=2e3*h>35?35:2e3*h;this.arrowWidth=m<15?15:m;let p=ot([n]),f=Jt(c,h,{units:r(253),mask:p});this.createEllipse(f)}createEllipse(t){const e=qt;let r=[];for(let n=0;n<t[e(283)][e(256)];n++){const i=t.features[n][e(280)][e(281)][0],o=[(i[0][0]+i[2][0])/2,(i[0][1]+i[2][1])/2];let a=Cesium.Cartographic[e(274)](o[0],o[1]);r[e(234)](a);for(let t=0;t<i[e(256)];t++){const n=i[t];let o=Cesium[e(268)][e(274)](n[0],n[1]);r[e(234)](o);const a=i[t+1];if(a){let t=[(n[0]+a[0])/2,(n[1]+a[1])/2],i=Cesium[e(268)][e(274)](t[0],t[1]);r[e(234)](i)}}}Cesium[e(242)](this[e(260)].terrainProvider,r).then((t=>{const r=e;let n=[],i=t[r(289)](((t,e,i,o)=>{const a=r;let s=10*i,c=s+10,l=o[a(277)](s,c);return 0!=l[a(256)]&&(n[i]=l),n}),[]);this.calculateSlope(i)}))}[qt(273)](t,e){const r=qt;let n=[];for(let e=1;e<t.length-1;e++){const i=t[e];n[r(234)](Cesium.Cartographic[r(237)](i))}let i=new(Cesium[r(288)])({polygonHierarchy:new(Cesium[r(241)])(n)});return new(Cesium[r(250)])({geometry:i,attributes:{color:Cesium[r(232)].fromColor(Cesium[r(233)].fromCssColorString(e)),show:new Cesium.ShowGeometryInstanceAttribute(!0)}})}[qt(239)](t,e,r,n,i){const o=qt;let a=new(Cesium[o(268)])((t[o(258)]+e[o(258)])/2,(t[o(265)]+e[o(265)])/2,(t[o(249)]+e.height)/2),s=new Cesium.Cartographic((r[o(258)]+e.longitude)/2,(r[o(265)]+e[o(265)])/2,(r[o(249)]+e[o(249)])/2),c=n>0?[Cesium[o(268)].toCartesian(a),Cesium[o(268)][o(237)](s)]:[Cesium.Cartographic[o(237)](s),Cesium.Cartographic[o(237)](a)];return new(Cesium[o(250)])({id:{type:"SlopeAspect",value:i},geometry:new(Cesium[o(254)])({positions:c,width:this[o(266)]}),attributes:{color:Cesium[o(232)][o(263)](Cesium[o(233)][o(293)].withAlpha(.6)),show:new Cesium.ShowGeometryInstanceAttribute(!0)}})}[qt(246)](t){const e=qt;let r=[],n=[];for(let i=0;i<t[e(256)];i++){const o=t[i],a=o[0];let s=0,c=0;for(let t=1;t<o[e(256)]-1;t++){let r=o[t][e(249)]-a[e(249)];Math[e(248)](r)>s&&(s=r,c=t)}let l=new(Cesium[e(268)])(a[e(258)],a.latitude,0),u=new(Cesium[e(268)])(o[c][e(258)],o[c][e(265)],0),h=Cesium[e(279)].distance(Cesium[e(268)][e(237)](l),Cesium[e(268)][e(237)](u)),m=Math[e(248)](s/h),p=this[e(286)](m,.4);const f=this[e(273)](o,p);n[e(234)](f);const d=this.createArrowInstance(o[c],a,c>4?o[c-4]:o[c+4],s,m);r[e(234)](d)}const i=this._scene[e(257)].add(new(Cesium[e(291)])({geometryInstances:n,appearance:new(Cesium[e(235)])({translucent:!0,closed:!1})})),o=this[e(260)][e(257)][e(270)](new Cesium.GroundPolylinePrimitive({geometryInstances:r,appearance:new(Cesium[e(290)])({material:new Cesium.Material({fabric:{type:"PolylineArrow",uniforms:{color:new(Cesium[e(233)])(1,1,0,.8)}}})})}));this[e(282)].push(o,i)}clearAll(){const t=qt;this[t(282)][t(287)]((e=>{const r=t;this[r(260)].primitives[r(278)](e)})),this[t(282)]=[]}[qt(286)](t,e){const r=qt;return t<.00872686779075879?"rgba(85,182,43,"+e+")":t<.03492076949174773?r(244)+e+")":t<.08748866352592401?"rgba(204,244,44,"+e+")":t<.2679491924311227?r(271)+e+")":t<.7002075382097097?r(236)+e+")":t<1.4281480067421144?"rgba(255,84,43,"+e+")":r(275)+e+")"}[qt(276)](t){const e=qt;let r=Cesium[e(251)][e(285)],n=[];for(let i=0;i<t.length;i++){const o=t[i];let a=r[e(292)](o);n[e(234)]({lng:Cesium[e(269)][e(238)](a[e(258)]),lat:Cesium[e(269)][e(238)](a[e(265)]),alt:a.height})}return n}}function te(){const t=["_scene","createNew4Num","430614ggvKTT","fromColor","scene","latitude","arrowWidth","2856Wupycs","Cartographic","Math","add","rgba(245,233,44,","7beiDxO","createPolygonInsrance","fromDegrees","rgba(255,32,43,","Cartesian3ListToWGS84","slice","remove","Cartesian3","geometry","coordinates","result","features","771920AVWfDG","WGS84","calculateSlopeColor","forEach","PolygonGeometry","reduce","PolylineMaterialAppearance","GroundPrimitive","cartesianToCartographic","BLUE","ColorGeometryInstanceAttribute","Color","push","PerInstanceColorAppearance","rgba(255,138,43,","toCartesian","toDegrees","createArrowInstance","1347330iGVVVP","PolygonHierarchy","sampleTerrainMostDetailed","5184140oBZLWU","rgba(135,211,43,","62rAIpcw","calculateSlope","createNew4Distance","abs","height","GeometryInstance","Ellipsoid","2037114pzeYGp","degrees","GroundPolylineGeometry","5931uzxTHK","length","primitives","longitude","13579rgkFlM"];return(te=function(){return t})()}function ee(t,e){const r=ne();return(ee=function(t,e){return r[t-=430]})(t,e)}const re=ee;function ne(){const t=["_createWellWall","_scene","defaultValue","1255284oQqYrw","_updateExcavateDepth","_createBottomSurface","terrainProvider","Plane","_switchExcavate","sampleTerrainMostDetailed","PolygonHierarchy","112689FSjfzm","Math","resolve","_height","fromDegreesArrayHeights","getAssetsBaseUrl","createGeometry","cartesianToCartographic","230uqsyYH","_getMinHeight","Image","_ellipsoidToLonLat","114tpAHWo","wellData","wellWall","Assets/Images/excavate_bottom_min.jpg","32295jXvQib","wallImg","height","clear","GREY","primitives","cross","fromCartesian","bottom_pos","enabled","removeAll","bottomSurface","Primitive","151000inZkkq","GeometryInstance","ColorGeometryInstanceAttribute","globe","PolygonGeometry","WHITE","toDegrees","Color","updateData","bottomImg","then","8637UXVjGr","_createWell","60oSlYVM","ClippingPlaneCollection","_prepareWell","scene","altitude","subtract","splitNum","PitWall","push","lerp","normalize","length","latitude","add","lerp_pos","Cartographic","fromType","WallGeometry","clippingPlanes","_positions","Material","ellipsoid","WaJue","destroy","excavateMinHeight","ClippingPlane","show","Cartesian3","_layers","material","7nkrNtc","7294397ykbaTR","MaterialAppearance","2567048yIqzZM","getHeight","Assets/Images/excavate_side_min.jpg","remove","positions","fromRadians","longitude","_show"];return(ne=function(){return t})()}!function(t,e){const r=ee,n=t();for(;;)try{if(238733===parseInt(r(516))/1+parseInt(r(499))/2*(-parseInt(r(433))/3)+parseInt(r(435))/4*(parseInt(r(503))/5)+parseInt(r(479))/6+-parseInt(r(465))/7*(-parseInt(r(468))/8)+parseInt(r(487))/9*(parseInt(r(495))/10)+-parseInt(r(466))/11)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(ne);class ie{constructor(t={}){const e=ee;this[e(477)]=t[e(438)],this._positions=t[e(472)],this[e(490)]=t[e(505)]||0,this[e(431)]=t.bottomImg||F.getAssetsBaseUrl(e(502)),this[e(504)]=t[e(504)]||F[e(492)](e(470)),this[e(441)]=v[e(478)](t[e(441)],50),this[e(454)]&&this[e(430)](this[e(454)])}updateData(t){const e=ee;this.clear();let r=[],n=new v.Cartesian3,i=v[e(462)][e(440)](t[0],t[1],n);this[e(459)]=9999;for(let o=0;o<t[e(446)];++o){let a=(o+1)%t[e(446)],s=v[e(462)].midpoint(t[o],t[a],n),c=v[e(450)].fromCartesian(t[o]),l=this._scene[e(519)][e(469)](c)||c[e(505)];l<this.excavateMinHeight&&(this.excavateMinHeight=l);let u=v[e(462)][e(445)](s,new v.Cartesian3),h=i.x>0?v[e(462)][e(440)](t[o],s,n):v[e(462)].subtract(t[a],s,n);h=v.Cartesian3[e(445)](h,h);let m=v[e(462)][e(509)](h,u,n);m=v.Cartesian3[e(445)](m,m);let p=new(v[e(483)])(m,0),f=v[e(483)].getPointDistance(p,s);r[e(443)](new(v[e(460)])(m,f))}this[e(477)][e(519)].clippingPlanes=new(v[e(436)])({planes:r,edgeWidth:1,edgeColor:v[e(523)][e(521)],enabled:!0}),this._prepareWell(t),this[e(434)](this[e(500)])}[re(506)](){const t=re;this[t(477)][t(519)]&&(this._scene.globe[t(453)]&&(this[t(477)][t(519)].clippingPlanes[t(512)]=!1,this._scene[t(519)].clippingPlanes[t(513)](),!this[t(477)][t(519)][t(453)].isDestroyed()&&this[t(477)][t(519)][t(453)][t(458)]()),this[t(477)][t(519)][t(453)]=void 0,this[t(514)]&&this[t(477)][t(508)].remove(this[t(514)]),this[t(501)]&&this[t(477)].primitives[t(471)](this[t(501)]),delete this[t(514)],delete this[t(501)],this._scene.render())}[re(437)](t){const e=re,r=this[e(441)],n=t[e(446)];if(0!=n){const i=this[e(459)]-this[e(505)],o=[],a=[],s=[];for(let c=0;c<n;c++){const l=c==n-1?0:c+1,u=v[e(450)].fromCartesian(t[c]),h=v[e(450)][e(510)](t[l]),m=[u[e(474)],u.latitude],p=[h.longitude,h.latitude];0==c&&(s[e(443)](new(v[e(450)])(m[0],m[1])),a[e(443)](v[e(462)][e(473)](m[0],m[1],i)),o[e(443)](v.Cartesian3.fromRadians(m[0],m[1],0)));for(let t=1;t<=r;t++){const n=v.Math.lerp(m[0],p[0],t/r),c=v[e(488)][e(444)](m[1],p[1],t/r);s[e(443)](new(v[e(450)])(n,c)),a[e(443)](v[e(462)][e(473)](n,c,i)),o[e(443)](v[e(462)].fromRadians(n,c,0))}}this[e(500)]={lerp_pos:s,bottom_pos:a,no_height_top:o}}}[re(434)](t){const e=re;this[e(477)][e(482)][e(463)]?(this[e(481)](t.bottom_pos),Promise[e(489)](v[e(485)](this[e(477)].terrainProvider,t[e(449)]))[e(432)]((r=>{const n=e,i=r[n(446)],o=[];for(let t=0;t<i;t++){const e=v[n(462)][n(473)](r[t][n(474)],r[t][n(447)],r[t].height);o[n(443)](e)}this[n(476)](t.bottom_pos,o)}))):(this[e(481)](t[e(511)]),this[e(476)](t[e(511)],t.no_height_top))}[re(496)](t){const e=re;let r=5e6,n=null;for(let i=0;i<t[e(446)];i++){let e=t[i].z;e<r&&(r=e,n=this._ellipsoidToLonLat(t[i]))}return n[e(439)]}_ellipsoidToLonLat(t){const e=re;let r=this[e(477)][e(519)][e(456)],n=new(v[e(462)])(t.x,t.y,t.z),i=r[e(494)](n),o=v[e(488)].toDegrees(i.latitude);return{longitude:v[e(488)][e(522)](i[e(474)]),latitude:o,altitude:i[e(505)]}}_createWellWall(t,e){const r=re;let n=this[r(496)](t),i=[],o=[];for(let t=0;t<e[r(446)];t++)i[r(443)](this[r(498)](e[t])[r(439)]),o.push(n);const a=new(v[r(452)])({positions:e,maximumHeights:i,minimumHeights:o}),s=v.WallGeometry[r(493)](a),c=new(v[r(455)])({fabric:{type:r(497),uniforms:{image:this.wallImg}}}),l=new(v[r(467)])({translucent:!1,flat:!0,material:c});this.wellWall=new(v[r(515)])({geometryInstances:new(v[r(517)])({geometry:s,attributes:{color:v[r(518)].fromColor(v.Color[r(507)])},id:r(442)}),appearance:l,asynchronous:!1}),this[r(477)][r(508)][r(448)](this[r(501)])}_createBottomSurface(t){const e=re;if(t[e(446)]){let r=this._getMinHeight(t),n=[];for(let i=0;i<t.length;i++){let o=this[e(498)](t[i]);n[e(443)](o[e(474)]),n[e(443)](o[e(447)]),n[e(443)](r)}const i=new(v[e(520)])({polygonHierarchy:new(v[e(486)])(v[e(462)][e(491)](n)),perPositionHeight:!0}),o=v[e(520)][e(493)](i),a=new v.Material({fabric:{type:e(497),uniforms:{image:this.bottomImg}}}),s=new(v[e(467)])({translucent:!1,flat:!0,material:a});this[e(514)]=new(v[e(515)])({geometryInstances:new v.GeometryInstance({geometry:o}),appearance:s,asynchronous:!1}),this[e(477)][e(508)][e(448)](this.bottomSurface)}}[re(484)](t){const e=re;t?(this[e(477)].globe.material=v[e(455)][e(451)](e(457)),this[e(501)].show=!0,this[e(514)][e(461)]=!0):(this._scene.globe[e(464)]=null,this[e(501)].show=!1,this[e(514)][e(461)]=!1)}[re(480)](t){const e=re;this.bottomSurface&&this._scene[e(508)][e(471)](this[e(514)]),this[e(501)]&&this[e(477)][e(508)][e(471)](this[e(501)]);const r=this.wellData.lerp_pos,n=[],i=r[e(446)];for(let o=0;o<i;o++)n[e(443)](v[e(462)][e(473)](r[o][e(474)],r[o].latitude,this[e(459)]-t));this[e(500)][e(511)]=n,this[e(434)](this.wellData),this[e(477)][e(508)][e(448)](this[e(514)]),this[e(477)][e(508)][e(448)](this[e(501)])}get[re(461)](){return this[re(475)]}set[re(461)](t){const e=re;this[e(475)]=t,this[e(477)][e(519)].clippingPlanes&&(this[e(477)][e(519)].clippingPlanes.enabled=t),this[e(484)](t)}get[re(505)](){return this[re(490)]}set height(t){const e=re;this[e(490)]=t,this[e(480)](t)}}const oe=me;!function(t,e){const r=me,n=t();for(;;)try{if(168461===-parseInt(r(351))/1*(parseInt(r(336))/2)+-parseInt(r(323))/3+-parseInt(r(346))/4+parseInt(r(341))/5*(parseInt(r(315))/6)+-parseInt(r(334))/7*(-parseInt(r(343))/8)+parseInt(r(342))/9+-parseInt(r(350))/10)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(pe);const ae=52.35987755982988,se=3.141592653589793,ce=6378245,le=.006693421622965943;class ue{static[oe(348)](t){const e=oe;let r=Cesium[e(316)][e(318)].cartesianToCartographic(t);return{lng:Cesium[e(337)].toDegrees(r[e(319)]),lat:Cesium.Math[e(335)](r[e(331)]),alt:r[e(320)]}}static[oe(327)](t,e){const r=oe;let n=+t-.0065,i=+e-.006,o=Math.sqrt(n*n+i*i)-2e-5*Math[r(339)](i*ae),a=Math.atan2(i,n)-3e-6*Math[r(347)](n*ae);return[o*Math[r(347)](a),o*Math.sin(a)]}static GCJ02ToBD09(t,e){const r=oe;e=+e,t=+t;let n=Math.sqrt(t*t+e*e)+2e-5*Math[r(339)](e*ae),i=Math[r(353)](e,t)+3e-6*Math[r(347)](t*ae);return[n*Math[r(347)](i)+.0065,n*Math[r(339)](i)+.006]}static WGS84ToGCJ02(t,e){const r=oe;if(e=+e,t=+t,this[r(340)](t,e))return[t,e];{let n=this[r(314)](t,e);return[t+n[0],e+n[1]]}}static[oe(332)](t,e){const r=oe;if(e=+e,t=+t,this[r(340)](t,e))return[t,e];{let n=this[r(314)](t,e);return[2*t-(t+n[0]),2*e-(e+n[1])]}}static[oe(314)](t,e){const r=oe;let n=this[r(338)](t-105,e-35),i=this[r(328)](t-105,e-35);const o=e/180*se;let a=Math[r(339)](o);a=1-le*a*a;const s=Math[r(349)](a);return n=180*n/(ce/s*Math[r(347)](o)*se),i=180*i/(ce*(1-le)/(a*s)*se),[n,i]}static[oe(338)](t,e){const r=oe;let n=300+(t=+t)+2*(e=+e)+.1*t*t+.1*t*e+.1*Math[r(349)](Math[r(321)](t));return n+=2*(20*Math[r(339)](6*t*se)+20*Math.sin(2*t*se))/3,n+=2*(20*Math[r(339)](t*se)+40*Math[r(339)](t/3*se))/3,n+=2*(150*Math.sin(t/12*se)+300*Math[r(339)](t/30*se))/3,n}static[oe(328)](t,e){const r=oe;let n=2*(t=+t)-100+3*(e=+e)+.2*e*e+.1*t*e+.2*Math.sqrt(Math[r(321)](t));return n+=2*(20*Math.sin(6*t*se)+20*Math[r(339)](2*t*se))/3,n+=2*(20*Math[r(339)](e*se)+40*Math[r(339)](e/3*se))/3,n+=2*(160*Math.sin(e/12*se)+320*Math[r(339)](e*se/30))/3,n}static out_of_china(t,e){return e=+e,!((t=+t)>73.66&&t<135.05&&e>3.86&&e<53.55)}static[oe(330)](t,e,r,n){const i=oe;!n&&(n=new Cesium.Cartesian3);const o=he(e,r);return Cesium.Matrix4[i(329)](o,t,n),n}static[oe(325)](t,e,r,n){const i=oe;!n&&(n=new Cesium.Cartesian3);const o=he(e,r),a=Cesium[i(326)][i(317)](o,new(Cesium[i(326)]));return Cesium[i(326)][i(329)](a,t,n),n}}function he(t,e){const r=oe,n=Cesium.Cartographic[r(324)](t);let i;return i="northEastDown"==e?Cesium[r(333)].northEastDownToFixedFrame(n):e==r(322)?Cesium.Transforms[r(345)](n):e==r(354)?Cesium[r(333)][r(352)](n):Cesium[r(333)][r(344)](n),Cesium[r(326)][r(317)](i,new(Cesium[r(326)]))}function me(t,e){const r=pe();return(me=function(t,e){return r[t-=314]})(t,e)}function pe(){const t=["longitude","height","abs","northUpEast","1009704zPhGNL","toCartesian","worldCoordinatesToLocal","Matrix4","BD09ToGCJ02","transformLat","multiplyByPoint","localToWorldCoordinates","latitude","GCJ02ToWGS84","Transforms","4046MKgXyN","toDegrees","133394XWMxYo","Math","transformLng","sin","out_of_china","1515uBMDGD","2691324JxkNbY","4616chVvES","eastNorthUpToFixedFrame","northUpEastToFixedFrame","233792ROQqFk","cos","CartesianToWGS84","sqrt","911100abcXiK","2IdTxcM","northWestUpToFixedFrame","atan2","northWestUp","delta","3078dILzGg","Ellipsoid","inverseTransformation","WGS84"];return(pe=function(){return t})()}function fe(t,e){const r=ye();return(fe=function(t,e){return r[t-=372]})(t,e)}const de=fe;!function(t,e){const r=fe,n=t();for(;;)try{if(963037===parseInt(r(378))/1+-parseInt(r(390))/2*(parseInt(r(391))/3)+-parseInt(r(387))/4*(-parseInt(r(380))/5)+parseInt(r(373))/6+-parseInt(r(394))/7*(parseInt(r(392))/8)+parseInt(r(382))/9+parseInt(r(388))/10)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(ye);class ge extends Cesium[de(372)]{constructor(t){const e=de;super(t);let r=new(Cesium[e(376)]);this[e(383)].project=function(t,n){const i=e;return n=ue[i(381)](Cesium[i(393)][i(375)](t.longitude),Cesium[i(393)][i(375)](t[i(377)])),n=r.project(new(Cesium[i(384)])(Cesium.Math[i(389)](n[0]),Cesium[i(393)].toRadians(n[1]))),new(Cesium[i(374)])(n.x,n.y)},this[e(383)][e(385)]=function(t,n){const i=e;let o=r[i(385)](t);return n=ue[i(386)](Cesium[i(393)].toDegrees(o[i(379)]),Cesium.Math[i(375)](o[i(377)])),new(Cesium[i(384)])(Cesium[i(393)][i(389)](n[0]),Cesium.Math.toRadians(n[1]))}}}function ye(){const t=["7284896EKEJRZ","Math","7TePgyh","WebMercatorTilingScheme","1377924LkAqqC","Cartesian2","toDegrees","WebMercatorProjection","latitude","428684fSSOTK","longitude","53135ujwajG","WGS84ToGCJ02","4562469dYerxZ","_projection","Cartographic","unproject","GCJ02ToWGS84","8cXQGPF","7347620MOzgXI","toRadians","31764PSqAdH","9lGsmnU"];return(ye=function(){return t})()}const ve=Ie;function Ie(t,e){const r=we();return(Ie=function(t,e){return r[t-=387]})(t,e)}!function(t,e){const r=Ie,n=t();for(;;)try{if(116271===parseInt(r(392))/1*(parseInt(r(394))/2)+parseInt(r(400))/3+parseInt(r(389))/4+-parseInt(r(401))/5*(-parseInt(r(396))/6)+parseInt(r(390))/7*(parseInt(r(391))/8)+parseInt(r(402))/9*(-parseInt(r(388))/10)+-parseInt(r(398))/11)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(we);const Ce={img:ve(397),elec:ve(403),cva:ve(393)};class xe extends Cesium.UrlTemplateImageryProvider{constructor(t={}){const e=ve;t[e(405)]=t[e(405)]||[t.protocol||"",Ce[t[e(406)]]||Ce[e(387)]].join(""),(!t[e(395)]||!t.subdomains.length)&&(t[e(395)]=["01","02","03","04"]),t[e(399)]===e(404)&&(t[e(407)]=new ge),super(t)}}function we(){const t=["18bKDKzX","//webst{s}.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}","3984222pHqZyy","crs","270573VTMqxc","195295MCsaEd","18tmInaO","//webrd{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}","WGS84","url","style","tilingScheme","elec","747350LidKOw","515752FGjZqy","21etXHVe","299248zEQrwl","3041cZsUOU","//webst{s}.is.autonavi.com/appmaptile?lang=zh_cn&size=1&scale=1&style=8&x={x}&y={y}&z={z}","118wIxrVo","subdomains"];return(we=function(){return t})()}function Me(){const t=["isWgs84","pointToLngLat","lng","convertMC2LL","convertor","abs","getDistanceByLL","getRange","max","getLoop","25448GSwiIR","getZoomUnits","336874iCybCT","getDistanceByMC","toFixed","pixelToPoint","exp","width","265023idIXBN","height","2933425Fcvzxy","lat","pointToPixel","mercatorToLngLat","round","lngLatToPoint","length","117dmKWQr","12KrpEDk","sin","min","convertLL2MC","652648dgAzzN","lngLatToMercator","toRadians","cos","toDegrees","692571abLIVU","1388737ZtoRbZ","getDistance","pow"];return(Me=function(){return t})()}const _e=Ae;!function(t,e){const r=Ae,n=t();for(;;)try{if(370853===parseInt(r(490))/1+parseInt(r(506))/2+-parseInt(r(480))/3*(parseInt(r(504))/4)+-parseInt(r(473))/5+-parseInt(r(481))/6*(-parseInt(r(491))/7)+-parseInt(r(485))/8+parseInt(r(471))/9)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(Me);const be=[12890594.86,8362377.87,5591021,3481989.83,1678043.12,0],Pe=[75,60,45,30,15,0],Te=[[1.410526172116255e-8,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,17337981.2],[-7.435856389565537e-9,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,10260144.86],[-3.030883460898826e-8,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,6856817.37],[-1.981981304930552e-8,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,4482777.06],[3.09191371068437e-9,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,2555164.4],[2.890871144776878e-9,8983055095805407e-21,-3.068298e-8,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],Ee=[[-.0015702102444,111320.7020616939,0x60e374c3105a3,-0x24bb4115e2e164,0x5cc55543bb0ae8,-0x7ce070193f3784,0x5e7ca61ddf8150,-0x261a578d8b24d0,0x665d60f3742ca,82.5],[.0008277824516172526,111320.7020463578,647795574.6671607,-4082003173.641316,10774905663.51142,-15171875531.51559,12053065338.62167,-5124939663.577472,913311935.9512032,67.5],[.00337398766765,111320.7020202162,4481351.045890365,-23393751.19931662,79682215.47186455,-115964993.2797253,97236711.15602145,-43661946.33752821,8477230.501135234,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837.749470245,992013.7397791013,-1221952.21711287,1340652.697009075,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758.690035394,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]];function Ae(t,e){const r=Me();return(Ae=function(t,e){return r[t-=469]})(t,e)}class Se{constructor(){this[Ae(494)]=!1}[_e(507)](t,e){const r=_e;if(!t||!e)return 0;if(!(t=this[r(497)](t)))return 0;let n=this[r(487)](t[r(496)]),i=this.toRadians(t[r(474)]);if(!(e=this[r(497)](e)))return 0;let o=this[r(487)](e[r(496)]),a=this.toRadians(e[r(474)]);return this[r(492)](n,o,i,a)}[_e(500)](t,e){const r=_e;if(!t||!e)return 0;t.lng=this[r(503)](t[r(496)],-180,180),t[r(474)]=this.getRange(t[r(474)],-74,74),e.lng=this[r(503)](e[r(496)],-180,180),e[r(474)]=this[r(501)](e[r(474)],-74,74);let n=this.toRadians(t[r(496)]),i=this[r(487)](t.lat),o=this[r(487)](e[r(496)]),a=this[r(487)](e.lat);return this[r(492)](n,o,i,a)}convertMC2LL(t){const e=_e;if(!t)return{lng:0,lat:0};let r={};if(this.isWgs84){r[e(496)]=t[e(496)]/20037508.34*180;let n=t[e(474)]/20037508.34*180;return r.lat=180/Math.PI*(2*Math.atan(Math[e(469)](n*Math.PI/180))-Math.PI/2),{lng:r[e(496)][e(508)](6),lat:r[e(474)][e(508)](6)}}let n,i={lng:Math[e(499)](t[e(496)]),lat:Math[e(499)](t[e(474)])};for(let t=0;t<be[e(479)];t++)if(i[e(474)]>=be[t]){n=Te[t];break}return r=this[e(498)](t,n),{lng:r[e(496)].toFixed(6),lat:r[e(474)].toFixed(6)}}convertLL2MC(t){const e=_e;if(!t)return{lng:0,lat:0};if(t[e(496)]>180||t.lng<-180||t[e(474)]>90||t[e(474)]<-90)return t;if(this[e(494)]){let r={},n=6378137;r[e(496)]=t.lng*Math.PI/180*n;let i=t[e(474)]*Math.PI/180;return r[e(474)]=n/2*Math.log((1+Math[e(482)](i))/(1-Math.sin(i))),{lng:parseFloat(r[e(496)].toFixed(2)),lat:parseFloat(r[e(474)][e(508)](2))}}t[e(496)]=this[e(503)](t[e(496)],-180,180),t[e(474)]=this.getRange(t.lat,-74,74);let r,n={lng:t.lng,lat:t[e(474)]};for(let t=0;t<Pe.length;t++)if(n[e(474)]>=Pe[t]){r=Ee[t];break}if(!r)for(let t=0;t<Pe[e(479)];t++)if(n[e(474)]<=-Pe[t]){r=Ee[t];break}let i=this[e(498)](t,r);return{lng:parseFloat(i.lng.toFixed(2)),lat:parseFloat(i.lat[e(508)](2))}}convertor(t,e){const r=_e;if(!t||!e)return{lng:0,lat:0};let n=e[0]+e[1]*Math[r(499)](t[r(496)]),i=Math[r(499)](t[r(474)])/e[9],o=e[2]+e[3]*i+e[4]*i*i+e[5]*i*i*i+e[6]*i*i*i*i+e[7]*i*i*i*i*i+e[8]*i*i*i*i*i*i;return n*=t[r(496)]<0?-1:1,o*=t[r(474)]<0?-1:1,{lng:n,lat:o}}[_e(492)](t,e,r,n){const i=_e;return 6370996.81*Math.acos(Math[i(482)](r)*Math[i(482)](n)+Math.cos(r)*Math.cos(n)*Math[i(488)](e-t))}toRadians(t){return Math.PI*t/180}[_e(489)](t){return 180*t/Math.PI}[_e(501)](t,e,r){const n=_e;return null!=e&&(t=Math[n(502)](t,e)),null!=r&&(t=Math[n(483)](t,r)),t}[_e(503)](t,e,r){for(;t>r;)t-=r-e;for(;t<e;)t+=r-e;return t}[_e(486)](t){return this[_e(484)](t)}[_e(478)](t){const e=_e;let r=this[e(484)](t);return{x:r[e(496)],y:r[e(474)]}}[_e(476)](t){return this[_e(497)](t)}[_e(495)](t){let e={lng:t.x,lat:t.y};return this[_e(497)](e)}[_e(475)](t,e,r,n){const i=_e;if(!t)return;t=this[i(486)](t);let o=this[i(505)](e);return{x:Math.round((t[i(496)]-r[i(496)])/o+n.width/2),y:Math[i(477)]((r[i(474)]-t[i(474)])/o+n.height/2)}}[_e(509)](t,e,r,n){const i=_e;if(!t)return;let o=this.getZoomUnits(e),a=r[i(496)]+o*(t.x-n[i(470)]/2),s=r[i(474)]-o*(t.y-n[i(472)]/2);return this.mercatorToLngLat({lng:a,lat:s})}[_e(505)](t){return Math[_e(493)](2,18-t)}}const ze=De;function De(t,e){const r=Re();return(De=function(t,e){return r[t-=480]})(t,e)}function Re(){const t=["lng","toDegrees","36930nUDlbV","957574hrGQSt","WGS84ToGCJ02","Cartographic","Cartesian2","BD09ToGCJ02","761704AoXcia","lngLatToPoint","1434162OIhcxi","Math","west","_projection","tileXYToNativeRectangle","Rectangle","longitude","positionToTileXY","latitude","637AlAjRf","resolutions","lat","9053760FLJJTK","WebMercatorTilingScheme","contains","toRadians","max","_rectangle","defined","15016410eGsUSJ","36136EiZwTt","mercatorToLngLat","min","east","north","104KRXPAY","GCJ02ToWGS84"];return(Re=function(){return t})()}!function(t,e){const r=De,n=t();for(;;)try{if(995784===parseInt(r(495))/1+-parseInt(r(490))/2*(-parseInt(r(494))/3)+parseInt(r(500))/4+-parseInt(r(514))/5+-parseInt(r(502))/6+parseInt(r(511))/7*(-parseInt(r(485))/8)+parseInt(r(484))/9)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(Re);class ke extends Cesium[ze(515)]{constructor(t){const e=ze;super(t);let r=new Se;this._projection.project=function(t,e){const n=De;return e=e||{},e=ue[n(496)](Cesium[n(503)].toDegrees(t[n(508)]),Cesium[n(503)][n(493)](t[n(510)])),(e=ue.GCJ02ToBD09(e[0],e[1]))[0]=Math.min(e[0],180),e[0]=Math[n(481)](e[0],-180),e[1]=Math[n(487)](e[1],74.000022),e[1]=Math[n(481)](e[1],-71.988531),e=r[n(501)]({lng:e[0],lat:e[1]}),new(Cesium[n(498)])(e.x,e.y)},this[e(505)].unproject=function(t,n){const i=e;return n=n||{},n=r[i(486)]({lng:t.x,lat:t.y}),n=ue[i(499)](n[i(492)],n[i(513)]),n=ue[i(491)](n[0],n[1]),new(Cesium[i(497)])(Cesium[i(503)][i(480)](n[0]),Cesium[i(503)].toRadians(n[1]))},this[e(512)]=t[e(512)]||[]}[ze(506)](t,e,r,n){const i=ze,o=this[i(512)][r],a=t*o,s=(t+1)*o,c=(1+(e=-e))*o,l=e*o;return Cesium[i(483)](n)?(n[i(504)]=a,n.south=l,n[i(488)]=s,n[i(489)]=c,n):new(Cesium[i(507)])(a,l,s,c)}[ze(509)](t,e,r){const n=ze,i=this[n(482)];if(!Cesium[n(507)][n(516)](i,t))return;const o=this._projection.project(t);if(!Cesium[n(483)](o))return;const a=this[n(512)][e],s=Math.floor(o.x/a),c=-Math.floor(o.y/a);return Cesium[n(483)](r)?(r.x=s,r.y=c,r):new(Cesium[n(498)])(s,c)}}const Fe=Le;function Le(t,e){const r=Ne();return(Le=function(t,e){return r[t-=100]})(t,e)}function Ne(){const t=["_tilingScheme","Cartesian2","hasAlphaChannel","maximumLevel","//online{s}.map.bdimg.com/tile/?qt=tile&x={x}&y={y}&z={z}&styles=sl&v=020","{style}","_errorEvent","Event","rectangle","{s}","minimumLevel","_rectangle","tileHeight must not be called before the imagery provider is ready.","token","1020nrleTZ","tileWidth must not be called before the imagery provider is ready.","369480lwnQao","custom","getNumberOfYTilesAtLevel","requestImage","1320690xszqxu","10rJBTtw","credit","style","3159233YzXUZI","ready","778824zwZEkY","WebMercatorTilingScheme","//api{s}.map.bdimg.com/customimage/tile?&x={x}&y={y}&z={z}&scale=1&customid={style}","maximumLevel must not be called before the imagery provider is ready.","url","80256YYUZuW","4023ehCrJP","DeveloperError","errorEvent","rectangle must not be called before the imagery provider is ready.","loadImage","minimumLevel must not be called before the imagery provider is ready.","getTileCredits","normal","_tileHeight","{y}","tileWidth","_url","_token","{z}","ImageryProvider","WGS84","367660ohPPHY","tileHeight","//shangetu{s}.map.bdimg.com/it/u=x={x};y={y};z={z};v=009;type=sate&fm=46","//its.map.baidu.com:8002/traffic/TrafficTileService?time={time}&label={labelStyle}&v=016&level={z}&x={x}&y={y}&scaler=2","getNumberOfXTilesAtLevel","_credit","crs","replace","_style","join","_crs","{x}"];return(Ne=function(){return t})()}!function(t,e){const r=Le,n=t();for(;;)try{if(241784===-parseInt(r(101))/1+parseInt(r(133))/2+parseInt(r(117))/3*(parseInt(r(159))/4)+-parseInt(r(106))/5*(-parseInt(r(105))/6)+-parseInt(r(109))/7+parseInt(r(116))/8+parseInt(r(111))/9)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(Ne);const Ge={img:Fe(135),vec:Fe(149),custom:Fe(113),traffic:Fe(136)};class Be{constructor(t={}){const e=Fe;if(this[e(128)]=t.url||[t.protocol||"",Ge[t[e(108)]]||Ge[e(102)]][e(142)](""),this._tileWidth=256,this._tileHeight=256,this._maximumLevel=18,this[e(143)]=t.crs||"BD09",t[e(139)]===e(132)){let t=[];for(let e=0;e<19;e++)t[e]=256*Math.pow(2,18-e);this[e(145)]=new ke({resolutions:t,rectangleSouthwestInMeters:new(Cesium[e(146)])(-20037726.37,-12474104.17),rectangleNortheastInMeters:new(Cesium[e(146)])(20037726.37,12474104.17)})}else this._tilingScheme=new(Cesium[e(112)])({rectangleSouthwestInMeters:new(Cesium[e(146)])(-33554054,-33746824),rectangleNortheastInMeters:new(Cesium[e(146)])(33554054,33746824)});this[e(156)]=this[e(145)][e(153)],this[e(138)]=void 0,this[e(141)]=t[e(108)]||e(124),this[e(151)]=new(Cesium[e(152)])}get[Fe(115)](){return this._url}get[Fe(158)](){return this[Fe(129)]}get[Fe(127)](){if(!this.ready)throw new Cesium.DeveloperError(Fe(100));return this._tileWidth}get[Fe(134)](){const t=Fe;if(!this[t(110)])throw new(Cesium[t(118)])(t(157));return this[t(125)]}get[Fe(148)](){const t=Fe;if(!this[t(110)])throw new Cesium.DeveloperError(t(114));return this._maximumLevel}get[Fe(155)](){const t=Fe;if(!this[t(110)])throw new(Cesium[t(118)])(t(122));return 0}get tilingScheme(){const t=Fe;if(!this[t(110)])throw new(Cesium[t(118)])("tilingScheme must not be called before the imagery provider is ready.");return this[t(145)]}get[Fe(153)](){const t=Fe;if(!this[t(110)])throw new Cesium.DeveloperError(t(120));return this[t(156)]}get[Fe(110)](){return!!this._url}get[Fe(119)](){return this[Fe(151)]}get[Fe(107)](){return this[Fe(138)]}get[Fe(147)](){return!0}[Fe(123)](t,e,r){}[Fe(104)](t,e,r){const n=Fe;if(!this[n(110)])throw new Cesium.DeveloperError("requestImage must not be called before the imagery provider is ready.");let i=this._tilingScheme[n(137)](r),o=this._tilingScheme[n(103)](r),a=this._url[n(140)](n(130),r)[n(140)](n(154),String(1)).replace(n(150),this[n(141)]);return a=this._crs===n(132)?a.replace("{x}",String(t))[n(140)](n(126),String(-e)):a[n(140)](n(144),String(t-i/2))[n(140)](n(126),String(o/2-e-1)),Cesium[n(131)][n(121)](this,a)}}const We=He;function Oe(){const t=["Matrix4","4774968NXeNpN","range","preRender","HeadingPitchRange","2527080jhyRIL","_camera","AroundView","5ESqwii","toRadians","roll","7eMZsqt","_options","_type","setConfig","8746479jpyTUu","70512TIaWJg","setView","addEventListener","_scene","targetPosition","_unbindEvent","pitch","stop","_bindEvent","Math","_onLoop","removeEventListener","52226NtStxt","2882095FGjAec","IDENTITY","start","ArroundPoint","lookAt","heading","4149558pjNjyP"];return(Oe=function(){return t})()}function He(t,e){const r=Oe();return(He=function(t,e){return r[t-=237]})(t,e)}!function(t,e){const r=He,n=t();for(;;)try{if(438141===-parseInt(r(251))/1*(-parseInt(r(271))/2)+-parseInt(r(259))/3+parseInt(r(248))/4+parseInt(r(272))/5+-parseInt(r(242))/6*(-parseInt(r(254))/7)+-parseInt(r(244))/8+-parseInt(r(258))/9)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(Oe);class je{constructor(t){const e=He;this[e(262)]=t,this._camera=this[e(262)].camera}[We(267)](){const t=We;this[t(262)][t(246)][t(261)](this[t(269)],this)}[We(264)](){const t=We;this[t(249)].lookAtTransform(Cesium[t(243)][t(237)]),this._scene.preRender[t(270)](this._onLoop,this)}_onLoop(){const t=We;if(this[t(256)]===t(239))this[t(249)][t(240)](this[t(255)][t(263)],new(Cesium[t(247)])(Cesium[t(268)][t(252)](this[t(255)][t(241)]||0),Cesium[t(268)][t(252)](this[t(255)].pitch||0),Cesium[t(268)].toRadians(this[t(255)][t(245)]||0)));else if("AroundView"===this[t(256)]){const e=this[t(255)][t(265)]?Cesium[t(268)][t(252)](this[t(255)][t(265)]):this[t(249)][t(265)],r=this[t(255)].roll?Cesium.Math[t(252)](this._options[t(253)]):this._camera.roll;this[t(249)][t(260)]({orientation:{heading:Cesium[t(268)][t(252)](this._options[t(241)]),pitch:e,roll:r}})}this[t(255)][t(241)]+=.1}[We(257)](t){const e=We,{type:r}=t;if(this[e(256)]=r||e(239),this[e(255)]=t,this[e(256)]==e(250)){const t=this._options[e(265)]?Cesium.Math[e(252)](this[e(255)][e(265)]):this[e(249)][e(265)],r=this[e(255)][e(253)]?Cesium[e(268)][e(252)](this[e(255)][e(253)]):this[e(249)].roll;this[e(249)][e(260)]({destination:this[e(255)].cameraPosition,orientation:{heading:Cesium[e(268)].toRadians(this[e(255)][e(241)]),pitch:t,roll:r}})}}[We(238)](){this[We(267)]()}[We(266)](){this[We(264)]()}}function Ue(t,e){const r=Xe();return(Ue=function(t,e){return r[t-=427]})(t,e)}const Ye=Ue;function Xe(){const t=["defined","update","922212RKVzuH","destroy","_useHdr","positiveX","positionWC","ALPHA_BLEND","RenderState","10lucrnQ","shaderProgram","offsetAngle","BoxGeometry","positiveY","245359zhjdbi","passes","modelMatrix","SkyBox","2UYIIZG","Matrix3","1673176CuIgat","show","7KunksT","createAttributeLocations","BufferUsage","DeveloperError","SCENE3D","this.sources is required and must have positiveX, negativeX, positiveY, negativeY, positiveZ, and negativeZ properties.","this.sources properties must all be the same type.","fromGeometry","_command","context","fromCache","positiveZ","1948008CqxfPt","eastNorthUpToFixedFrame","1525383atpFBN","11841640wfHkSk","fromRotationTranslation","renderState","sources","camera","_sources","negativeZ","877938KfNPEC","SceneMode","Matrix4","negativeX","VertexArray","POSITION_ONLY","uniformMap","BlendingState","_attributeLocations","MORPHING","ShaderProgram","_cubeMap","multiply","mode","then","vertexArray","negativeY","getMatrix3"];return(Xe=function(){return t})()}!function(t,e){const r=Ue,n=t();for(;;)try{if(313085===parseInt(r(428))/1*(-parseInt(r(432))/2)+-parseInt(r(450))/3+parseInt(r(448))/4+-parseInt(r(485))/5*(parseInt(r(458))/6)+-parseInt(r(436))/7*(parseInt(r(434))/8)+-parseInt(r(478))/9+parseInt(r(451))/10)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(Xe);class Ve extends v[Ye(431)]{constructor(t={}){const e=Ye;super(t),this[e(487)]=t[e(487)]||0}[Ye(477)](t,e){const r=Ye,n=this;if(!this[r(435)])return;if(t.mode!==v[r(459)][r(440)]&&t[r(471)]!==v[r(459)][r(467)])return;if(!t[r(429)].render)return;const i=t[r(445)];if(this._sources!==this[r(454)]){this[r(456)]=this.sources;const t=this.sources;if(!(v[r(476)](t[r(481)])&&v[r(476)](t[r(461)])&&v.defined(t[r(427)])&&v[r(476)](t[r(474)])&&v.defined(t[r(447)])&&v[r(476)](t[r(457)])))throw new DeveloperError(r(441));if(typeof t.positiveX!=typeof t[r(461)]||typeof t[r(481)]!=typeof t.positiveY||typeof t.positiveX!=typeof t[r(474)]||typeof t[r(481)]!=typeof t[r(447)]||typeof t[r(481)]!=typeof t[r(457)])throw new(v[r(439)])(r(442));"string"==typeof t[r(481)]?v.loadCubeMap(i,this[r(456)])[r(472)]((function(t){const e=r;n._cubeMap=n[e(469)]&&n[e(469)][e(479)](),n[e(469)]=t})):(this._cubeMap=this._cubeMap&&this._cubeMap[r(479)](),this[r(469)]=new CubeMap({context:i,source:t}))}const o=this[r(444)];if(o[r(430)]=v.Transforms[r(449)](t[r(455)][r(482)]),0!==this[r(487)]&&v[r(460)][r(470)](o[r(430)],v.Matrix4[r(452)](v[r(433)].fromRotationZ(this[r(487)]/180*Math.PI)),o.modelMatrix),!v.defined(o[r(473)])){o[r(464)]={u_cubeMap:function(){return n[r(469)]},u_rotateMatrix:function(){const t=r;return v[t(460)][t(475)](o[t(430)],new(v[t(433)]))}};const t=v[r(488)].createGeometry(v[r(488)].fromDimensions({dimensions:new v.Cartesian3(2,2,2),vertexFormat:v.VertexFormat[r(463)]})),e=this[r(466)]=v.GeometryPipeline[r(437)](t);o[r(473)]=v[r(462)][r(443)]({context:i,geometry:t,attributeLocations:e,bufferUsage:v[r(438)]._DRAW}),o[r(453)]=v[r(484)].fromCache({blending:v[r(465)][r(483)]})}if(!v[r(476)](o[r(486)])||this[r(480)]!==e){const t=new v.ShaderSource({defines:[e?"HDR":""],sources:["uniform samplerCube u_cubeMap;varying vec3 v_texCoord;void main(){vec4 color=textureCube(u_cubeMap,normalize(v_texCoord));gl_FragColor=vec4(czm_gammaCorrect(color).rgb,czm_morphTime);}"]});o[r(486)]=v[r(468)][r(446)]({context:i,vertexShaderSource:"attribute vec3 position;uniform mat3 u_rotateMatrix;varying vec3 v_texCoord;void main(){vec3 p=czm_viewRotation*u_rotateMatrix*(czm_temeToPseudoFixed*(czm_entireFrustum.y*position));gl_Position=czm_projection*vec4(p,1.0);v_texCoord=position.xyz;}",fragmentShaderSource:t,attributeLocations:this._attributeLocations}),this._useHdr=e}return v[r(476)](this[r(469)])?o:void 0}}const Qe=Ze;function Ze(t,e){const r=qe();return(Ze=function(t,e){return r[t-=245]})(t,e)}!function(t,e){const r=Ze,n=t();for(;;)try{if(738494===parseInt(r(255))/1+parseInt(r(261))/2+-parseInt(r(259))/3*(parseInt(r(253))/4)+-parseInt(r(250))/5+-parseInt(r(262))/6*(-parseInt(r(247))/7)+-parseInt(r(257))/8*(parseInt(r(249))/9)+-parseInt(r(245))/10*(-parseInt(r(256))/11))break;n.push(n.shift())}catch(t){n.push(n.shift())}}(qe);const Je=Qe(252);function qe(){const t=["1042244aoEfJt","style","2626119nzPaZI","4689340gFQTgn","replace","//t{s}.tianditu.gov.cn/DataServer?T={style}_w&x={x}&y={y}&l={z}&tk={key}","2165356Vvjhho","join","121440nXqKyI","143fAwBkU","40QahNgc","vec","3nVyxQN","protocol","2282226xHXNxC","6IKEwqF","1742470IkuPfj","key"];return(qe=function(){return t})()}class Ke extends Cesium.UrlTemplateImageryProvider{constructor(t={}){const e=Qe;super({url:[t[e(260)]||"",Je[e(251)](/\{style\}/g,t[e(248)]||e(258))[e(251)](/\{key\}/g,t[e(246)]||"")][e(254)](""),subdomains:["0","1","2","3","4","5","6","7"],maximumLevel:18})}}const $e=tr;function tr(t,e){const r=rr();return(tr=function(t,e){return r[t-=389]})(t,e)}!function(t,e){const r=tr,n=t();for(;;)try{if(766287===parseInt(r(402))/1*(parseInt(r(407))/2)+-parseInt(r(395))/3+parseInt(r(400))/4+-parseInt(r(397))/5+-parseInt(r(393))/6*(parseInt(r(390))/7)+parseInt(r(391))/8*(parseInt(r(403))/9)+-parseInt(r(399))/10)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(rr);const er={img:$e(404),elec:"//rt{s}.map.gtimg.com/tile?z={z}&x={x}&y={reverseY}&styleid={style}&scene=0&version=347"};function rr(){const t=["//p{s}.map.gtimg.com/sateTiles/{z}/{sx}/{sy}/{x}_{reverseY}.jpg?version=400","length","style","2LarSoq","join","subdomains","{style}","325423HDzbSl","6936SZuGzx","url","12ezbZra","protocol","268743DDSjFf","replace","3402660LicKKr","elec","8614420iYDGTA","1617872KECEKb","UrlTemplateImageryProvider","1204613oaIOUc","9153yoSXBg"];return(rr=function(){return t})()}class nr extends Cesium[$e(401)]{constructor(t={}){const e=$e;let r=t[e(392)]||[t[e(394)]||"",er[t[e(406)]]||er[e(398)]][e(408)]("");t[e(392)]=r[e(396)](e(389),t[e(406)]||1),(!t[e(409)]||!t[e(409)][e(405)])&&(t[e(409)]=["0","1","2"]),"img"===t.style&&(t.customTags={sx:(t,e,r,n)=>e>>4,sy:(t,e,r,n)=>(1<<n)-r>>4}),super(t)}}var ir="\n#define SAMPLES 32\nuniform sampler2D colorTexture;uniform float direction;uniform float delta;uniform float sigma;uniform float stepSize;varying vec2 v_textureCoordinates;void main(){vec2 st=v_textureCoordinates;vec2 dir=vec2(1.0-direction,direction);vec2 step=vec2(stepSize*(czm_pixelRatio/czm_viewport.zw));vec3 g;g.x=1.0/(sqrt(czm_twoPi)*sigma);g.y=exp((-0.5*delta*delta)/(sigma*sigma));g.z=g.y*g.y;vec4 result=texture2D(colorTexture,st)*g.x;for(int i=1;i<SAMPLES;++i){g.xy*=g.yz;vec2 offset=float(i)*dir*step;result+=texture2D(colorTexture,st-offset)*g.x;result+=texture2D(colorTexture,st+offset)*g.x;}gl_FragColor=result;}";function or(t,e){const r=ar();return(or=function(t,e){return r[t-=449]})(t,e)}function ar(){const t=["PostProcessStageSampleMode","9449440bMseXI","defined","blur_comp","74172huxHIy","LINEAR","selected","78PqlgDL","threshold","Color","33BWdoyv","609505miqzbV","843170KXYlWx","BLACK","blur","contrast","28YEGTZW","1553692yYxpRw","309EFWYvS","postProcessStages","_scene","push","high","14196360uzLZsF","_pickIds","delta","postProcessStage","click","sigma","27OFkUSM","generate_composite","8506QJlYaS","primitive","PostProcessStageComposite","stepSize","color","add","PostProcessStage","brightness"];return(ar=function(){return t})()}!function(t,e){const r=or,n=t();for(;;)try{if(976653===parseInt(r(482))/1*(-parseInt(r(458))/2)+-parseInt(r(484))/3*(-parseInt(r(470))/4)+parseInt(r(477))/5*(parseInt(r(473))/6)+parseInt(r(483))/7+parseInt(r(467))/8+parseInt(r(456))/9*(-parseInt(r(478))/10)+-parseInt(r(476))/11*(parseInt(r(450))/12))break;n.push(n.shift())}catch(t){n.push(n.shift())}}(ar);var sr=lr;function cr(){var t=["29428080cvJIpU","PostProcessStage","2253FqSseE","destroy","12CtqJbS","scene","4147375tScHIB","_stage","61Uvszyu","add","2857041swVzgp","_scene","postProcessStages","3820jKRSQP","4071669jhDoSU","9977512QAbjnP","25254kwNLFb"];return(cr=function(){return t})()}function lr(t,e){var r=cr();return(lr=function(t,e){return r[t-=331]})(t,e)}!function(t,e){for(var r=lr,n=t();;)try{if(988827===-parseInt(r(345))/1*(-parseInt(r(336))/2)+-parseInt(r(339))/3*(parseInt(r(333))/4)+-parseInt(r(343))/5*(parseInt(r(341))/6)+parseInt(r(334))/7+-parseInt(r(335))/8+parseInt(r(347))/9+parseInt(r(337))/10)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(cr);class ur{constructor(t){var e=lr;this[e(331)]=t[e(342)],this[e(344)]=new(v[e(338)])({fragmentShader:"float getDistance(sampler2D depthTexture,vec2 texCoords){float depth=czm_unpackDepth(texture2D(depthTexture,texCoords));if(depth==0.0){return czm_infinity;}vec4 eyeCoordinate=czm_windowToEyeCoordinates(gl_FragCoord.xy,depth);return-eyeCoordinate.z/eyeCoordinate.w;}float interpolateByDistance(vec4 nearFarScalar,float distance){float startDistance=nearFarScalar.x;float startValue=nearFarScalar.y;float endDistance=nearFarScalar.z;float endValue=nearFarScalar.w;float t=clamp((distance-startDistance)/(endDistance-startDistance),0.0,1.0);return mix(startValue,endValue,t);}vec4 alphaBlend(vec4 sourceColor,vec4 destinationColor){return sourceColor*vec4(sourceColor.aaa,1.0)+destinationColor*(1.0-sourceColor.a);}uniform sampler2D colorTexture;uniform sampler2D depthTexture;uniform vec4 fogByDistance;uniform vec4 fogColor;varying vec2 v_textureCoordinates;void main(void){float distance=getDistance(depthTexture,v_textureCoordinates);vec4 sceneColor=texture2D(colorTexture,v_textureCoordinates);float blendAmount=interpolateByDistance(fogByDistance,distance);vec4 finalFogColor=vec4(fogColor.rgb,fogColor.a*blendAmount);gl_FragColor=alphaBlend(finalFogColor,sceneColor);}",uniforms:{fogByDistance:t.fogByDistance||new v.Cartesian4(10,0,4e3,1),fogColor:t.fogColor||new v.Color(.8,.8,.8,1)}}),this._scene[e(332)][e(346)](this[e(344)])}[sr(340)](){var t=sr;return this[t(331)][t(332)].remove(this._stage),v.destroyObject(this)}}function hr(){var t=["21jMGrnt","rainSpeed","rainSize","_stage","33MqQicy","add","postProcessStages","scene","3139008lWRjfc","remove","1465028mGnfDf","9310ysYYcc","89952CZFYFi","1775840ixKtUh","_scene","336590lSrkDl","destroy","PostProcessStage","5229WdqoXw","1243002RySCAZ"];return(hr=function(){return t})()}var mr=pr;function pr(t,e){var r=hr();return(pr=function(t,e){return r[t-=454]})(t,e)}!function(t,e){for(var r=pr,n=t();;)try{if(406868===parseInt(r(458))/1+parseInt(r(473))/2+-parseInt(r(467))/3*(parseInt(r(455))/4)+parseInt(r(456))/5+parseInt(r(462))/6*(-parseInt(r(463))/7)+parseInt(r(471))/8+-parseInt(r(461))/9*(parseInt(r(454))/10))break;n.push(n.shift())}catch(t){n.push(n.shift())}}(hr);class fr{constructor(t){var e=pr;this[e(457)]=t[e(470)],this[e(466)]=new(v[e(460)])({fragmentShader:"uniform sampler2D colorTexture;varying vec2 v_textureCoordinates;uniform float tiltAngle;uniform float rainSize;uniform float rainSpeed;float hash(float x){return fract(sin(x*133.3)*13.13);}void main(void){float time=czm_frameNumber/rainSpeed;vec2 resolution=czm_viewport.zw;vec2 uv=(gl_FragCoord.xy*2.-resolution.xy)/min(resolution.x,resolution.y);vec3 c=vec3(.6,.7,.8);float a=tiltAngle;float si=sin(a),co=cos(a);uv*=mat2(co,-si,si,co);uv*=length(uv+vec2(0,4.9))*rainSize+1.;float v=1.-sin(hash(floor(uv.x*100.))*2.);float b=clamp(abs(sin(20.*time*v+uv.y*(5./(2.+v))))-.95,0.,1.)*20.;c*=v*b;gl_FragColor=mix(texture2D(colorTexture,v_textureCoordinates),vec4(c,1),.5);}",uniforms:{tiltAngle:t.tiltAngle||-.3,rainSize:t[e(465)]||.5,rainSpeed:t[e(464)]||120}}),this[e(457)][e(469)][e(468)](this[e(466)])}[mr(459)](){var t=mr;return this[t(457)][t(469)][t(472)](this[t(466)]),v.destroyObject(this)}}var dr=yr;function gr(){var t=["snowSpeed","25130EKqulp","11961FzfnkS","314rJSPBn","1484373NQwTir","63SrKUPF","_scene","PostProcessStage","2030661qQaEpX","add","destroy","35eVcWWX","remove","495hestzb","scene","452932lYclFI","_stage","destroyObject","1550022tOYKfC","postProcessStages","1678888onlUpR","snowSize"];return(gr=function(){return t})()}function yr(t,e){var r=gr();return(yr=function(t,e){return r[t-=394]})(t,e)}!function(t,e){for(var r=yr,n=t();;)try{if(982419===parseInt(r(394))/1*(-parseInt(r(395))/2)+-parseInt(r(400))/3+parseInt(r(407))/4+-parseInt(r(403))/5*(-parseInt(r(410))/6)+-parseInt(r(397))/7*(-parseInt(r(412))/8)+parseInt(r(405))/9*(-parseInt(r(415))/10)+-parseInt(r(396))/11)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(gr);class vr{constructor(t){var e=yr;this[e(398)]=t[e(406)],this[e(408)]=new(v[e(399)])({fragmentShader:"uniform sampler2D colorTexture;varying vec2 v_textureCoordinates;uniform float snowSpeed;uniform float snowSize;float snow(vec2 uv,float scale){float time=czm_frameNumber/snowSpeed;float w=smoothstep(1.,0.,-uv.y*(scale/10.));if(w<.1)return 0.;uv+=time/scale;uv.y+=time*2./scale;uv.x+=sin(uv.y+time*.5)/scale;uv*=scale;vec2 s=floor(uv),f=fract(uv),p;float k=3.,d;p=.5+.35*sin(11.*fract(sin((s+p+scale)*mat2(7,3,6,5))*5.))-f;d=length(p);k=min(d,k);k=smoothstep(0.,k,sin(f.x+f.y)*snowSize);return k*w;}void main(){vec2 resolution=czm_viewport.zw;vec2 uv=(gl_FragCoord.xy*2.-resolution.xy)/min(resolution.x,resolution.y);vec3 finalColor=vec3(0);float c=0.;c+=snow(uv,30.)*.0;c+=snow(uv,20.)*.0;c+=snow(uv,15.)*.0;c+=snow(uv,10.);c+=snow(uv,8.);c+=snow(uv,6.);c+=snow(uv,5.);finalColor=(vec3(c));gl_FragColor=mix(texture2D(colorTexture,v_textureCoordinates),vec4(finalColor,1),.5);}",uniforms:{snowSize:t[e(413)]||.02,snowSpeed:t[e(414)]||60}}),this[e(398)][e(411)][e(401)](this._stage)}[dr(402)](){var t=dr;return this[t(398)][t(411)][t(404)](this._stage),v[t(409)](this)}}function Ir(t,e){const r=xr();return(Ir=function(t,e){return r[t-=201]})(t,e)}!function(t,e){const r=Ir,n=t();for(;;)try{if(276769===parseInt(r(221))/1*(-parseInt(r(212))/2)+-parseInt(r(225))/3*(parseInt(r(207))/4)+parseInt(r(220))/5*(parseInt(r(201))/6)+-parseInt(r(237))/7+-parseInt(r(211))/8+parseInt(r(232))/9+parseInt(r(222))/10)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(xr);const Cr=function(t,e,r){const n=Ir;let i,o,a,s,c=document[n(234)](n(216));if(t&&typeof t===n(228)&&(i=t),i&&i.origin?(i[n(217)]===n(218)&&(o=15,a=-12),i[n(217)]===n(230)&&(o=15,a=-44),"bottom"===i[n(217)]&&(o=15,a=20)):(o=15,a=20),i&&i[n(202)]?("white"===i[n(202)]&&(s=n(238)),i[n(202)]===n(213)&&(s="background: rgba(0, 0, 0, 0.5);color: white;"),i[n(202)]===n(223)&&(s=n(231))):s=n(203),!c){const t=document[n(233)](n(208))[0];let e=document[n(219)](n(226));t.append(e);let r=n(204)+s+n(224);t[n(209)](n(210),r),c=document.getElementById(n(216))}return r?(c[n(215)]=t,c[n(206)][n(227)]=e.x+o+"px",c[n(206)][n(230)]=e.y+a+"px",c[n(206)][n(236)]=n(229)):c[n(206)].display=n(205),{tooltip:c,style:i,showAt:function(t,e){const r=n;this.tooltip[r(215)]=e,this[r(206)]&&this[r(206)][r(217)]?(this[r(206)][r(217)]===r(218)&&(o=15,a=-this[r(235)][r(214)]/2),this[r(206)][r(217)]===r(230)&&(o=15,a=-this[r(235)][r(214)]-20),"bottom"===this[r(206)][r(217)]&&(o=15,a=20)):(o=15,a=-this[r(235)][r(214)]/2),this[r(235)][r(206)].left=t.x+o+"px",this[r(235)][r(206)].top=t.y+a+"px",this[r(235)][r(206)][r(236)]=r(229)},show:function(t){const e=n;this[e(235)][e(206)][e(236)]=e(t?229:205)}}};function xr(){const t=["origin","center","createElement","5yXQGdG","1HMuJQg","12817830HuzvcK","yellow",'"></div>',"381TGABBn","div","left","object","block","top","color: black;background-color: #ffcc33;border: 1px solid white;","1651158kvJgCx","getElementsByClassName","getElementById","tooltip","display","3386621RDvzII","background: rgba(255, 255, 255, 0.8);color: black;","2175552sImzMt","color","background: rgba(0, 0, 0, 0.5);color: white;",'<div id="toolTip" style="display: none;pointer-events: none;position: absolute;z-index: 1000;opacity: 0.8;border-radius: 4px;padding: 4px 8px;white-space: nowrap;font-family:黑体;color:white;font-weight: bolder;font-size: 14px;',"none","style","13596XXNIab","cesium-viewer","insertAdjacentHTML","beforeend","3708328bmZrYD","344102suNAmI","black","offsetHeight","innerHTML","toolTip"];return(xr=function(){return t})()}function wr(){const t=["latitude","function","Color","CurveLineArrow","fromDegreesArray","globe","ScreenSpaceEventType","右键结束绘制","push","pop","GeoType","position","RIGHT_DOWN","左键添加点，右键结束绘制","camera","7060317zRYnLy","StraightLineArrow","pottingPoint","defined","endPosition","getPickRay","CallbackProperty","length","longitude","Math","forEach","the id parameter is an unique value","5daGvPQ","1418824VRTYSA","3iFJmHS","ScreenSpaceEventHandler","pick","LineArrow","2571030vJMeCU","左键点击开始绘制","scene","floor","color","17094bnwVXe","2290437BYdcCX","add","getById","fromCartesian","Cartographic","setInputAction","entities","30HPRWxl","PolylineArrowMaterialProperty","551674nIhsjV","Cartesian3","pow","1864hzsIVn","213737dGvzWJ","straight"];return(wr=function(){return t})()}!function(t,e){const r=Tr,n=t();for(;;)try{if(538689===-parseInt(r(185))/1+parseInt(r(181))/2*(-parseInt(r(216))/3)+parseInt(r(215))/4*(parseInt(r(214))/5)+-parseInt(r(166))/6+parseInt(r(171))/7*(-parseInt(r(184))/8)+-parseInt(r(172))/9+-parseInt(r(179))/10*(-parseInt(r(202))/11))break;n.push(n.shift())}catch(t){n.push(n.shift())}}(wr);const Mr=function(t,e,r,n){const i=Tr;if(!t)throw new Error("no viewer object!");let o=(r=r||{}).id||function(t){const e=Tr;let r=t||32,n="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",i=n[e(209)],o="";for(let t=0;t<r;t++)o+=n.charAt(Math[e(169)](Math.random()*i));return o}();if(t[i(178)][i(174)](o))throw new Error(i(213));let a,s,c=r[i(170)]||Cesium[i(189)].RED,l=r.width||15,u=r[i(186)]||!1,h=i(u?203:190),m=[],p=[];const f=new(Cesium[i(217)])(t.canvas);let d=i(167);f.setInputAction((function(e){const r=i;if(d=r(u?194:200),Cesium.defined(a)&&u)return;let n=e[r(198)],o=Pr(t,[{x:n.x,y:n.y}]);0==m[r(209)]&&(m[r(195)]({x:o[0],y:o[1]}),p.push(o)),m[r(195)]({x:o[0],y:o[1]}),p.push(o)}),Cesium[i(193)].LEFT_CLICK),f[i(177)]((function(e){const r=i;let n=e[r(206)];if(Cr(d,n,!0),m[r(209)]>0)if(Cesium[r(205)](a)){m[r(196)](),p.pop();let e=Pr(t,[{x:n.x,y:n.y}]);m[r(195)]({x:e[0],y:e[1]}),p[r(195)](e);let i=_r(m),o=[];i[r(212)]((t=>{o[r(195)](t.x,t.y)})),s=Cesium.Cartesian3[r(191)](o)}else{let e=_r(m),n=[];e.forEach((t=>{n.push(t.x,t.y)})),s=Cesium[r(182)].fromDegreesArray(n),a=t[r(178)][r(173)]({name:r(165),id:o,polyline:{positions:new(Cesium[r(208)])((function(){return s}),!1),width:l,material:new(Cesium[r(180)])(c)}}),a[r(197)]=h}}),Cesium.ScreenSpaceEventType.MOUSE_MOVE),f.setInputAction((function(t){const r=i;a[r(204)]=p,e[r(195)](a),f.destroy(),Cr(d,t.position,!1),typeof n==r(188)&&n(a)}),Cesium.ScreenSpaceEventType[i(199)])};function _r(t){const e=Tr;let r=[];for(let n=0;n<=100;n++){let i=br(t,n/100);r[e(195)](i)}return r}function br(t,e){const r=Tr;let n=0,i=0,o=function(t){const e=Tr;let r=t[e(209)],n=[];n[e(195)](1);for(let t=1;t<r-1;t++){let i=1,o=1;for(let e=0;e<t;e++)i*=r-1-e,o*=t-e;n[e(195)](i/o)}return n.push(1),n}(t);for(let a=0;a<t.length;a++){let s=t[a];n+=s.x*Math[r(183)](1-e,t[r(209)]-1-a)*Math[r(183)](e,a)*o[a],i+=s.y*Math.pow(1-e,t[r(209)]-1-a)*Math[r(183)](e,a)*o[a]}return{x:n,y:i}}function Pr(t,e){const r=Tr;let n,i,o,a,s,c=[];for(let l=0;l<e[r(209)];l++)n=t[r(201)][r(207)](e[l]),n&&(i=t.scene[r(192)][r(164)](n,t[r(168)])),i&&(o=Cesium[r(176)][r(175)](i),a=Cesium[r(211)].toDegrees(o[r(210)]),s=Cesium.Math.toDegrees(o[r(187)]),c[r(195)](a,s));return c}function Tr(t,e){const r=wr();return(Tr=function(t,e){return r[t-=164]})(t,e)}function Er(t,e){const r=Dr();return(Er=function(t,e){return r[t-=264]})(t,e)}!function(t,e){const r=Er,n=t();for(;;)try{if(307555===-parseInt(r(311))/1*(parseInt(r(298))/2)+parseInt(r(287))/3*(parseInt(r(302))/4)+-parseInt(r(305))/5+-parseInt(r(267))/6*(parseInt(r(286))/7)+parseInt(r(309))/8*(parseInt(r(295))/9)+-parseInt(r(304))/10+-parseInt(r(277))/11*(-parseInt(r(307))/12))break;n.push(n.shift())}catch(t){n.push(n.shift())}}(Dr);const Ar=function(t,e,r,n){const i=Er;if(!t)throw new Error(i(306));let o=(r=r||{}).id||function(t){const e=Er;let r=t||32,n="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz0123456789",i=n[e(300)],o="";for(let t=0;t<r;t++)o+=n[e(312)](Math.floor(Math[e(301)]()*i));return o}();if(t[i(303)][i(288)](o))throw new Error("the id parameter is an unique value");let a,s,c=r[i(290)]||Cesium[i(297)][i(266)],l=[],u=[],h=i(268);const m=new Cesium.ScreenSpaceEventHandler(t.canvas);m.setInputAction((function(e){const r=i;let n=e[r(310)];if(h=r(285),!Cesium[r(296)](a)&&0==u[r(300)]){let e=Sr(t,[{x:n.x,y:n.y}]);u[r(279)]({x:e[0],y:e[1],z:e[2]},{x:e[0]+1e-7,y:e[1]+1e-7,z:e[2]}),l.push(e,e)}}),Cesium[i(278)].LEFT_CLICK),m.setInputAction((function(e){const r=i;let n=e[r(281)];if(Cr(h,n,!0),u.length>1)if(Cesium[r(296)](a)){u[r(273)](),l.pop();let e=Sr(t,[{x:n.x,y:n.y}]);u[r(279)]({x:e[0],y:e[1],z:e[2]}),l[r(279)](e);let i=zr(u),o=[];i[r(270)]((t=>{o[r(279)](t.x,t.y,u[0].z)})),s=Cesium[r(265)][r(308)](o)}else{a=function(t,e,r){const n=Er;let i=zr(e),o=[];return i[n(270)]((t=>{o[n(279)](t.x,t.y,e[0].z)})),t.entities[n(274)]({name:"SwallowtailArrow",polygon:{hierarchy:Cesium[n(265)][n(308)](o),material:r}})}(t,u,c);let e=zr(u),n=[];e[r(270)]((t=>{n[r(279)](t.x,t.y,u[0].z)})),s=Cesium[r(265)][r(308)](n),a.polygon.hierarchy=new Cesium.CallbackProperty((function(){return new(Cesium[r(282)])(s)}),!1),a[r(293)]=r(291)}}),Cesium[i(278)].MOUSE_MOVE),m[i(280)]((function(t){const r=i;a.pottingPoint=l,m[r(276)](),e[r(279)](a),Cr(h,t[r(310)],!1),n&&n(a)}),Cesium[i(278)][i(275)])};function Sr(t,e){const r=Er;let n,i,o,a,s,c,l=[];for(let u=0;u<e.length;u++)n=t[r(269)].getPickRay(e[u]),n&&(i=t[r(294)][r(292)][r(283)](n,t[r(294)])),i&&(o=Cesium[r(299)].fromCartesian(i),a=Cesium[r(271)][r(272)](o[r(284)]),s=Cesium[r(271)][r(272)](o[r(264)]),c=o[r(289)],l[r(279)](a,s,c));return l}function zr(t){let e=t[0].x,r=t[0].y,n=t[1].x,i=t[1].y,o=(15.8*n+3.2*e)/19,a=(15.8*i+3.2*r)/19,s=new Array(7);return s[0]={x:n,y:i},s[1]={x:o+.265625*(i-a),y:a-.265625*(n-o)},s[2]={x:o+.078125*(i-a),y:a-.078125*(n-o)},s[3]={x:e+1.6/19*(i-r),y:r-1.6/19*(n-e)},s[4]={x:(3.2*n+15.8*e)/19,y:(3.2*i+15.8*r)/19},s[5]={x:e-1.6/19*(i-r),y:r+1.6/19*(n-e)},s[6]={x:o-.078125*(i-a),y:a+.078125*(n-o)},s[7]={x:o-.265625*(i-a),y:a+.265625*(n-o)},s}function Dr(){const t=["color","SwallowtailArrow","globe","GeoType","scene","6165LPVuhN","defined","Color","2cmIutG","Cartographic","length","random","12XuOfpd","entities","2728580IdQLfz","1890445YveZha","no viewer object!","390060kQjdFK","fromDegreesArrayHeights","280XsMHAm","position","194098WgGddg","charAt","latitude","Cartesian3","RED","60dmBgqx","左键单击开始绘制","camera","forEach","Math","toDegrees","pop","add","RIGHT_DOWN","destroy","242LGKclt","ScreenSpaceEventType","push","setInputAction","endPosition","PolygonHierarchy","pick","longitude","右键完成绘制","97391ztHcfN","552645PmOTLX","getById","height"];return(Dr=function(){return t})()}!function(t,e){const r=Gr,n=t();for(;;)try{if(428749===parseInt(r(454))/1*(-parseInt(r(426))/2)+parseInt(r(421))/3+-parseInt(r(417))/4*(parseInt(r(449))/5)+parseInt(r(460))/6*(parseInt(r(459))/7)+parseInt(r(452))/8+parseInt(r(420))/9+-parseInt(r(416))/10)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(Or);const Rr=function(t,e,r,n){const i=Gr;if(!t)throw new Error(i(436));let o=(r=r||{}).id||function(t){const e=Gr;let r=t||32,n=e(440),i=n.length,o="";for(let t=0;t<r;t++)o+=n[e(429)](Math[e(458)](Math[e(467)]()*i));return o}();if(t.entities[i(466)](o))throw new Error("the id parameter is an unique value");let a,s,c=r[i(437)]||Cesium.Color.RED,l=[],u=[],h="左键单击开始绘制";const m=new(Cesium[i(450)])(t[i(444)]);m.setInputAction((function(e){const r=i;let n=e[r(468)];if(h="右键完成绘制",!Cesium[r(443)](a)&&0==l[r(434)]){let e=kr(t,[{x:n.x,y:n.y}]);l.push({x:e[0],y:e[1],z:e[2]},{x:e[0]+1e-7,y:e[1]+1e-7,z:e[2]}),u[r(441)](e,e)}}),Cesium[i(427)][i(428)]),m.setInputAction((function(e){const r=i;let n=e.endPosition;if(Cr(h,n,!0),l[r(434)]>1)if(Cesium[r(443)](a)){l[r(425)](),u[r(425)]();let e=kr(t,[{x:n.x,y:n.y}]);l.push({x:e[0],y:e[1],z:e[2]}),u[r(441)](e);let i=Fr(l),o=[];i[r(446)]((t=>{o[r(441)](t.x,t.y,l[0].z)})),s=Cesium[r(419)][r(431)](o)}else{let e=Fr(l),n=[];e[r(446)]((t=>{n[r(441)](t.x,t.y,l[0].z)})),s=Cesium[r(419)][r(431)](n),a=t[r(457)][r(414)]({name:r(456),id:o,polygon:{hierarchy:s,material:c}}),a[r(448)][r(430)]=new Cesium.CallbackProperty((function(){return new(Cesium[r(465)])(s)}),!1),a[r(442)]=r(456)}}),Cesium[i(427)][i(415)]),m[i(423)]((function(t){const r=i;Cr(h,t[r(468)],!1),a[r(447)]=u,e[r(441)](a),m[r(462)](),n&&n(a)}),Cesium[i(427)][i(435)])};function kr(t,e){const r=Gr;let n,i,o,a,s,c,l=[];for(let u=0;u<e[r(434)];u++)n=t[r(453)].getPickRay(e[u]),n&&(i=t[r(424)][r(422)].pick(n,t[r(424)])),i&&(o=Cesium[r(455)][r(451)](i),a=Cesium[r(461)][r(464)](o[r(445)]),s=Cesium.Math[r(464)](o[r(438)]),c=o.height,l.push(a,s,c));return l}function Fr(t){const e=Gr;let r;if(t[e(434)]>2){let n,i,o,a=0;for(let r=0;r<t[e(434)]-1;r++)i=t[r],o=t[r+1],a+=Math[e(432)]((o.y-i.y)*(o.y-i.y)+(o.x-i.x)*(o.x-i.x));n=a/6;let s=[],c=[],l={x:void 0,y:void 0},u={x:void 0,y:void 0};for(let r=0;r<t[e(434)]-2;r++){let i,o,a=t[r],h=t[r+1],m=t[r+2],p={x:h.x-a.x,y:h.y-a.y},f={x:m.x-h.x,y:m.y-h.y},d=Lr(p,Math.PI/2,n/2),g=d[0],y=d[1],v=Lr(f,Math.PI/2,n/2),I=v[0],C=v[1],x={x:a.x+g.x,y:a.y+g.y},w={x:a.x+y.x,y:a.y+y.y},M={x:h.x+C.x,y:h.y+C.y},_=Nr(p,f,x,{x:h.x+I.x,y:h.y+I.y}),b=Nr(p,f,w,M);if(0==r)l=x,u=w,i={x:(l.x+_.x)/2,y:(l.y+_.y)/2},o={x:(u.x+b.x)/2,y:(u.y+b.y)/2},s[e(441)](i),c[e(441)](o);else{let t=s[s[e(434)]-1],r=c[c[e(434)]-1];i={x:(t.x+_.x)/2,y:(t.y+_.y)/2},o={x:(r.x+b.x)/2,y:(r.y+b.y)/2},s.push(i),c[e(441)](o)}s[e(441)](_),c[e(441)](b)}let h,m,p=t[t[e(434)]-2],f=t[t[e(434)]-1],d={x:f.x-p.x,y:f.y-p.y},g=Math[e(432)](d.x*d.x+d.y*d.y),y=[],v={x:void 0,y:void 0},I={x:void 0,y:void 0},C={x:void 0,y:void 0},x={x:void 0,y:void 0},w={x:void 0,y:void 0},M={x:void 0,y:void 0},_=s[s[e(434)]-1],b=c[c.length-1];if(g<=n)y=Lr(d,Math.PI/2,n/2),v=y[0],I=y[1],h={x:p.x+v.x,y:p.y+v.y},m={x:p.x+I.x,y:p.y+I.y},C={x:(_.x+h.x)/2,y:(_.y+h.y)/2},x={x:(b.x+m.x)/2,y:(b.y+m.y)/2},s[e(441)](C),c[e(441)](x),w={x:2*h.x-p.x,y:2*h.y-p.y},M={x:2*m.x-p.x,y:2*m.y-p.y};else{let t={x:f.x-p.x,y:f.y-p.y},r=Math[e(432)](t.x*t.x+t.y*t.y),i={x:f.x-t.x*n/r,y:f.y-t.y*n/r};y=Lr(d,Math.PI/2,n/2),v=y[0],I=y[1],h={x:i.x+v.x,y:i.y+v.y},m={x:i.x+I.x,y:i.y+I.y},C={x:(_.x+h.x)/2,y:(_.y+h.y)/2},x={x:(b.x+m.x)/2,y:(b.y+m.y)/2},s.push(C),c[e(441)](x),w={x:2*h.x-i.x,y:2*h.y-i.y},M={x:2*m.x-i.x,y:2*m.y-i.y}}let P=[],T=[];for(let t=0;t<s[e(434)]-2;t++){let r=[],n=[],i=c[t],o=c[t+1],a=c[t+2];r.push(s[t],s[t+1],s[t+2]),n[e(441)](i,o,a);let l=Br(r),u=Br(n);P=P[e(433)](l),T=T[e(433)](u)}r=[l],r=r[e(433)](P),r.push(h),r[e(441)](w),r[e(441)](f),r[e(441)](M),r[e(441)](m),r=r[e(433)](T[e(418)]()),r[e(441)](u)}else r=function(t){let e=6,r=t[0],n=t[1],i=[],o={x:n.x-r.x,y:n.y-r.y},a=Math[Gr(432)]((n.x-r.x)*(n.x-r.x)+(n.y-r.y)*(n.y-r.y)),s=r.x+5*(n.x-r.x)/e,c=r.y+5*(n.y-r.y)/e,l=Lr(o,Math.PI/2,a/e/2),u=l[0],h=l[1];return i.push({x:r.x+u.x,y:r.y+u.y},{x:s+u.x,y:c+u.y},{x:s+2*u.x,y:c+2*u.y},{x:n.x,y:n.y},{x:s+2*h.x,y:c+2*h.y},{x:s+h.x,y:c+h.y},{x:r.x+h.x,y:r.y+h.y}),i}(t);return r}function Lr(t,e,r){const n=Gr;e||(e=Math.PI/2),r||(r=1);let i,o,a,s,c,l,u=Math[n(432)](t.x*t.x+t.y*t.y);if(0==t.y)i=o=u*r*Math[n(463)](e)/t.x,t.x>0?(a=Math.sqrt(r*r-i*i),s=-a):t.x<0&&(s=Math[n(432)](r*r-i*i),a=-s),c={x:i,y:a},l={x:o,y:s};else{let h=-t.x/t.y,m=r*u*Math[n(463)](e)/t.y,p=1+h*h,f=2*h*m,d=m*m-r*r;i=(-f-Math[n(432)](f*f-4*p*d))/(2*p),o=(-f+Math[n(432)](f*f-4*p*d))/(2*p),a=h*i+m,s=h*o+m,t.y>=0?(c={x:i,y:a},l={x:o,y:s}):t.y<0&&(c={x:o,y:s},l={x:i,y:a})}return[c,l]}function Nr(t,e,r,n){let i,o;return t.y*e.x-t.x*e.y==0?t.x*e.x>0||t.y*e.y>0?(i=(r.x+n.x)/2,o=(r.y+n.y)/2):(i=n.x,o=n.y):(i=(t.x*e.x*(n.y-r.y)+r.x*t.y*e.x-n.x*e.y*t.x)/(t.y*e.x-t.x*e.y),o=0!=t.x?(i-r.x)*t.y/t.x+r.y:(i-n.x)*e.y/e.x+n.y),{x:i,y:o}}function Gr(t,e){const r=Or();return(Gr=function(t,e){return r[t-=414]})(t,e)}function Br(t){const e=Gr;let r=[];for(let n=0;n<=100;n++){let i=Wr(t,n/100);r[e(441)](i)}return r}function Wr(t,e){const r=Gr;let n=0,i=0,o=function(t){const e=Gr;let r=t[e(434)],n=[];n[e(441)](1);for(let t=1;t<r-1;t++){let i=1,o=1;for(let e=0;e<t;e++)i*=r-1-e,o*=t-e;n[e(441)](i/o)}return n.push(1),n}(t);for(let a=0;a<t.length;a++){let s=t[a];n+=s.x*Math[r(439)](1-e,t[r(434)]-1-a)*Math[r(439)](e,a)*o[a],i+=s.y*Math[r(439)](1-e,t[r(434)]-1-a)*Math[r(439)](e,a)*o[a]}return{x:n,y:i}}function Or(){const t=["5714GozRyG","ScreenSpaceEventType","LEFT_CLICK","charAt","hierarchy","fromDegreesArrayHeights","sqrt","concat","length","RIGHT_DOWN","no viewer object!","color","latitude","pow","ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz0123456789","push","GeoType","defined","canvas","longitude","forEach","pottingPoint","polygon","20ByhJhF","ScreenSpaceEventHandler","fromCartesian","2630712CAmmHI","camera","277HiGPpm","Cartographic","RightAngleArrow","entities","floor","28uZCGUA","61266lXkXyu","Math","destroy","cos","toDegrees","PolygonHierarchy","getById","random","position","add","MOUSE_MOVE","4260520VrVQPs","280396EOSjRZ","reverse","Cartesian3","7283772NyBToH","2242785dlsACE","globe","setInputAction","scene","pop"];return(Or=function(){return t})()}!function(t,e){const r=Ur,n=t();for(;;)try{if(984728===-parseInt(r(451))/1*(-parseInt(r(415))/2)+-parseInt(r(420))/3+parseInt(r(432))/4*(-parseInt(r(411))/5)+parseInt(r(455))/6*(parseInt(r(450))/7)+-parseInt(r(445))/8*(parseInt(r(441))/9)+-parseInt(r(435))/10+parseInt(r(412))/11*(parseInt(r(452))/12))break;n.push(n.shift())}catch(t){n.push(n.shift())}}(Xr);const Hr=function(t,e,r,n){const i=Ur;if(!t)throw new Error(i(433));let o=(r=r||{}).id||function(t){const e=Ur;let r=t||32,n=e(407),i=n[e(449)],o="";for(let t=0;t<r;t++)o+=n[e(404)](Math.floor(Math[e(408)]()*i));return o}();if(t[i(423)][i(446)](o))throw new Error(i(424));let a,s,c=r[i(418)]||Cesium[i(454)].RED,l="左键单击开始绘制",u=[],h=[];const m=new Cesium.ScreenSpaceEventHandler(t[i(436)]);m.setInputAction((function(e){const r=i;let n=e[r(443)];if(l=r(439),!Cesium[r(410)](a)&&0==u[r(449)]){let e=jr(t,[{x:n.x,y:n.y}]);u[r(419)]({x:e[0],y:e[1],z:e[2]},{x:e[0]+1e-7,y:e[1]+1e-7,z:e[2]}),h.push(e,e)}}),Cesium[i(447)][i(421)]),m[i(437)]((function(e){const r=i;Cr(l,e.endPosition,!0);let n=e[r(413)];if(u[r(449)]>1)if(Cesium[r(410)](a)){u[r(444)](),h[r(444)]();let e=jr(t,[{x:n.x,y:n.y}]);u.push({x:e[0],y:e[1],z:e[2]}),h.push(e);let i=Yr(u),o=[];i.forEach((t=>{o[r(419)](t.x,t.y,u[0].z)})),s=Cesium[r(430)].fromDegreesArrayHeights(o)}else{let e=Yr(u),n=[];e.forEach((t=>{n[r(419)](t.x,t.y,u[0].z)})),s=Cesium.Cartesian3[r(448)](n),a=t.entities.add({id:o,name:"RoundedRectangle",polygon:{hierarchy:s,material:c}}),a[r(442)].hierarchy=new Cesium.CallbackProperty((function(){return new(Cesium[r(429)])(s)}),!1),a.GeoType=r(406)}}),Cesium[i(447)][i(453)]),m[i(437)]((function(t){const r=i;Cr(l,t[r(443)],!1),a[r(438)]=h,e[r(419)](a),m.destroy(),n&&n(a)}),Cesium[i(447)][i(409)])};function jr(t,e){const r=Ur;let n,i,o,a,s,c,l=[];for(let u=0;u<e[r(449)];u++)n=t.camera[r(434)](e[u]),n&&(i=t[r(425)][r(405)].pick(n,t[r(425)])),i&&(o=Cesium[r(431)][r(422)](i),a=Cesium[r(428)][r(403)](o[r(440)]),s=Cesium[r(428)][r(403)](o[r(417)]),c=o.height,l[r(419)](a,s,c));return l}function Ur(t,e){const r=Xr();return(Ur=function(t,e){return r[t-=403]})(t,e)}function Yr(t){const e=Ur;let r=(t[0].x+t[1].x)/2,n=(t[0].y+t[1].y)/2,i=Math[e(426)](t[0].x-t[1].x),o=Math.abs(t[0].y-t[1].y),a=.1*Math[e(414)](i,o),s=r-i/2+a,c=n-o/2+a,l=r+i/2-a,u=n-o/2+a,h=r+i/2-a,m=n+o/2-a,p=r-i/2+a,f=n+o/2-a,d=Math.PI/180,g=[],y=Math.PI,v=1.5*Math.PI,I=y;for(let t=0;t<Math[e(426)](y-v);t+=d){let t=s+a*Math[e(416)](I),r=c+a*Math[e(427)](I);I+=d,I=I<0?2*Math.PI+I:I,I=I>2*Math.PI?2*Math.PI-I:I,g[e(419)]({x:t,y:r})}let C=g,x=3*Math.PI/2,w=2*Math.PI,M=x;for(let t=0;t<Math[e(426)](x-w);t+=d){let t=l+a*Math.cos(M),r=u+a*Math[e(427)](M);M+=d,M=M<0?2*Math.PI+M:M,M=M>2*Math.PI?2*Math.PI-M:M,C[e(419)]({x:t,y:r})}let _=C,b=.5*Math.PI,P=0;for(let t=0;t<Math[e(426)](0-b);t+=d){let t=h+a*Math[e(416)](P),r=m+a*Math[e(427)](P);P+=d,P=P<0?2*Math.PI+P:P,P=P>2*Math.PI?2*Math.PI-P:P,_.push({x:t,y:r})}let T=_,E=.5*Math.PI,A=Math.PI,S=E;for(let t=0;t<Math[e(426)](E-A);t+=d){let t=p+a*Math[e(416)](S),r=f+a*Math.sin(S);S+=d,S=S<0?2*Math.PI+S:S,S=S>2*Math.PI?2*Math.PI-S:S,T[e(419)]({x:t,y:r})}return T}function Xr(){const t=["position","pop","8HshesH","getById","ScreenSpaceEventType","fromDegreesArrayHeights","length","442295XcfVia","1216257FBiZXc","456VOedqL","MOUSE_MOVE","Color","78YKGzrG","toDegrees","charAt","globe","RoundedRectangle","ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz0123456789","random","RIGHT_DOWN","defined","145RMhvhY","769747xYkfYj","endPosition","min","2bbGmmZ","cos","latitude","color","push","1353144kUcxXc","LEFT_CLICK","fromCartesian","entities","the id parameter is an unique value","scene","abs","sin","Math","PolygonHierarchy","Cartesian3","Cartographic","250220bQvDEm","no viewer object!","getPickRay","4001880HMbdCA","canvas","setInputAction","pottingPoint","右键完成绘制","longitude","9420561XNVutU","polygon"];return(Xr=function(){return t})()}!function(t,e){const r=qr,n=t();for(;;)try{if(361153===parseInt(r(425))/1*(-parseInt(r(436))/2)+-parseInt(r(440))/3+parseInt(r(450))/4+-parseInt(r(430))/5*(-parseInt(r(428))/6)+parseInt(r(434))/7*(parseInt(r(456))/8)+parseInt(r(418))/9*(parseInt(r(455))/10)+-parseInt(r(433))/11)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(Kr);const Vr=function(t,e,r,n){const i=qr;if(!t)throw new Error("no viewer object!");let o=(r=r||{}).id||function(t){const e=qr;let r=t||32,n=e(457),i=n[e(435)],o="";for(let t=0;t<r;t++)o+=n.charAt(Math.floor(Math[e(445)]()*i));return o}();if(t[i(454)][i(472)](o))throw new Error("the id parameter is an unique value");let a,s,c=r[i(468)]||Cesium[i(442)][i(424)],l="左键单击开始绘制",u=[],h=[];const m=new(Cesium[i(460)])(t[i(437)]);m.setInputAction((function(e){const r=i;if(3==u.length)return;let n=e.position,o=Qr(t,[{x:n.x,y:n.y}]);0==u[r(435)]?(l=r(465),u[r(447)]({x:o[0],y:o[1],z:o[2]}),h[r(447)](o)):1==u[r(435)]&&(l=r(432),u[r(447)]({x:o[0],y:o[1],z:o[2]},{x:o[0]+1e-7,y:o[1]+1e-7,z:o[2]}),h.push(o,o))}),Cesium.ScreenSpaceEventType[i(453)]),m.setInputAction((function(e){const r=i;Cr(l,e[r(462)],!0);let n=e[r(462)];if(u.length>2)if(Cesium[r(429)](a)){u[r(463)](),h.pop();let e=Qr(t,[{x:n.x,y:n.y}]);u.push({x:e[0],y:e[1],z:e[2]}),h[r(447)](e);let i=Zr(u),o=[];i[r(420)]((t=>{o.push(t.x,t.y,u[0].z)})),s=Cesium.Cartesian3[r(426)](o)}else{let e=Zr(u),n=[];e[r(420)]((t=>{n.push(t.x,t.y,u[0].z)})),s=Cesium[r(419)][r(426)](n),a=t[r(454)].add({id:o,name:r(448),polygon:{hierarchy:s,material:c}}),a[r(444)][r(446)]=new(Cesium[r(459)])((function(){return new(Cesium[r(470)])(s)}),!1),a[r(464)]=r(448)}}),Cesium[i(422)][i(438)]),m[i(467)]((function(t){const r=i;Cr(l,t[r(431)],!1),a.pottingPoint=h,e.push(a),m[r(466)](),n&&n(a)}),Cesium[i(422)][i(451)])};function Qr(t,e){const r=qr;let n,i,o,a,s,c,l=[];for(let u=0;u<e[r(435)];u++)n=t[r(452)][r(427)](e[u]),n&&(i=t[r(461)].globe[r(469)](n,t[r(461)])),i&&(o=Cesium.Cartographic[r(458)](i),a=Cesium[r(443)][r(441)](o[r(449)]),s=Cesium[r(443)].toDegrees(o[r(421)]),c=o.height,l[r(447)](a,s,c));return l}function Zr(t){const e=qr;let r=Jr(t[0],t[1]),n=Jr(t[0],t[2]);r>n&&(n=2*Math.PI+n);let i=Math.PI/180,o=r,a=[t[0]],s=Math.sqrt((t[1].x-t[0].x)*(t[1].x-t[0].x)+(t[1].y-t[0].y)*(t[1].y-t[0].y));for(let c=0;c<Math[e(439)](r-n);c+=i){let r=t[0].x+s*Math[e(471)](o),n=t[0].y+s*Math.sin(o);o+=i,o=o<0?2*Math.PI+o:o,o=o>2*Math.PI?o-2*Math.PI:o,a[e(447)]({x:r,y:n})}return a}function Jr(t,e){let r={x:e.x-t.x,y:e.y-t.y},n=Math[qr(423)](r.y,r.x);return n<0&&(n+=2*Math.PI),n}function qr(t,e){const r=Kr();return(qr=function(t,e){return r[t-=418]})(t,e)}function Kr(){const t=["5293320NscyxP","ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz0123456789","fromCartesian","CallbackProperty","ScreenSpaceEventHandler","scene","endPosition","pop","GeoType","左键添加点","destroy","setInputAction","color","pick","PolygonHierarchy","cos","getById","6039JqonpN","Cartesian3","forEach","latitude","ScreenSpaceEventType","atan2","RED","709029PkgPxX","fromDegreesArrayHeights","getPickRay","1404078sJOxok","defined","5LRHVoV","position","右键完成绘制","1898589qOMBKE","7UsUkIo","length","2Njokql","canvas","MOUSE_MOVE","abs","777435mFRkuL","toDegrees","Color","Math","polygon","random","hierarchy","push","Sector","longitude","1088360esgKHk","RIGHT_DOWN","camera","LEFT_CLICK","entities","4980KHhRrH"];return(Kr=function(){return t})()}function $r(t,e){const r=on();return($r=function(t,e){return r[t-=472]})(t,e)}!function(t,e){const r=$r,n=t();for(;;)try{if(404562===-parseInt(r(510))/1*(-parseInt(r(497))/2)+parseInt(r(482))/3+parseInt(r(506))/4+-parseInt(r(501))/5+-parseInt(r(515))/6+-parseInt(r(507))/7+parseInt(r(477))/8)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(on);const tn=function(t,e,r,n){const i=$r;if(!t)throw new Error("no viewer object!");let o=(r=r||{}).id||function(t){const e=$r;let r=t||32,n=e(484),i=n[e(487)],o="";for(let t=0;t<r;t++)o+=n[e(478)](Math.floor(Math.random()*i));return o}();if(t[i(508)][i(498)](o))throw new Error(i(480));let a,s,c=r.color||Cesium[i(488)].RED,l=i(499),u=[],h=[];const m=new(Cesium[i(485)])(t[i(511)]);m[i(473)]((function(e){const r=i;if(3==u[r(487)])return;let n=e[r(483)],o=en(t,[{x:n.x,y:n.y}]);0==u[r(487)]?(l=r(491),u[r(502)]({x:o[0],y:o[1],z:o[2]}),h.push(o)):1==u[r(487)]&&(l=r(493),u.push({x:o[0],y:o[1],z:o[2]},{x:o[0]+1e-7,y:o[1]+1e-7,z:o[2]}),h[r(502)](o,o))}),Cesium[i(505)].LEFT_CLICK),m.setInputAction((function(e){const r=i;let n=e[r(517)];if(Cr(l,e.endPosition,!0),u[r(487)]>2)if(Cesium.defined(a)){u[r(500)](),h[r(500)]();let e=en(t,[{x:n.x,y:n.y}]);u[r(502)]({x:e[0],y:e[1],z:e[2]}),h[r(502)](e);let i=rn(u),o=[];i[r(519)]((t=>{o[r(502)](t.x,t.y,u[0].z)})),s=Cesium[r(492)][r(476)](o)}else{let e=rn(u),n=[];e[r(519)]((t=>{n[r(502)](t.x,t.y,u[0].z)})),s=Cesium[r(492)][r(476)](n),a=t[r(508)][r(516)]({id:o,name:r(514),polygon:{hierarchy:s,material:c}}),a.polygon[r(479)]=new(Cesium[r(494)])((function(){return new Cesium.PolygonHierarchy(s)}),!1),a[r(486)]=r(514)}}),Cesium[i(505)].MOUSE_MOVE),m[i(473)]((function(t){const r=i;Cr(l,t[r(483)],!1),a[r(504)]=h,e[r(502)](a),m[r(475)](),n&&n(a)}),Cesium.ScreenSpaceEventType[i(496)])};function en(t,e){const r=$r;let n,i,o,a,s,c,l=[];for(let u=0;u<e[r(487)];u++)n=t.camera.getPickRay(e[u]),n&&(i=t[r(495)][r(513)][r(509)](n,t[r(495)])),i&&(o=Cesium.Cartographic[r(489)](i),a=Cesium[r(518)][r(472)](o[r(481)]),s=Cesium[r(518)][r(472)](o.latitude),c=o.height,l[r(502)](a,s,c));return l}function rn(t){const e=$r;let r,n=2*(t[1].x-t[0].x),i=2*(t[1].y-t[0].y),o=t[1].x*t[1].x+t[1].y*t[1].y-t[0].x*t[0].x-t[0].y*t[0].y,a=2*(t[2].x-t[1].x),s=2*(t[2].y-t[1].y),c=t[2].x*t[2].x+t[2].y*t[2].y-t[1].x*t[1].x-t[1].y*t[1].y,l=(o*s-c*i)/(n*s-a*i),u=(n*c-a*o)/(n*s-a*i),h={x:l,y:u},m=Math[e(490)]((t[0].x-l)*(t[0].x-l)+(t[0].y-u)*(t[0].y-u)),p=nn(h,t[0]),f=nn(h,t[1]),d=nn(h,t[2]),g=Math.PI/180,y=[];if(p<d&&d<f||f<d&&d<p){r=p<f?p:f;for(let t=0;t<Math[e(512)](p-f);t+=g){let t=l+m*Math[e(503)](r),n=u+m*Math.sin(r);r+=g,r=r<0?2*Math.PI+r:r,r=r>2*Math.PI?2*Math.PI-r:r,y.push({x:t,y:n})}}else{r=p>f?p:f;for(let t=0;t<2*Math.PI-Math[e(512)](p-f);t+=g){let t=l+m*Math.cos(r),n=u+m*Math.sin(r);r+=g,r=r<0?2*Math.PI+r:r,r=r>2*Math.PI?r-2*Math.PI:r,y[e(502)]({x:t,y:n})}}return y}function nn(t,e){let r={x:e.x-t.x,y:e.y-t.y},n=Math[$r(474)](r.y,r.x);return n<0&&(n+=2*Math.PI),n}function on(){const t=["24806XdOLgm","canvas","abs","globe","Bow","608280UnrJKN","add","endPosition","Math","forEach","toDegrees","setInputAction","atan2","destroy","fromDegreesArrayHeights","2133744HYBafs","charAt","hierarchy","the id parameter is an unique value","longitude","1158300mXWuwm","position","ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz0123456789","ScreenSpaceEventHandler","GeoType","length","Color","fromCartesian","sqrt","左键添加点","Cartesian3","右键完成绘制","CallbackProperty","scene","RIGHT_DOWN","2eZNEGo","getById","左键单击开始绘制","pop","884240xZbtiS","push","cos","pottingPoint","ScreenSpaceEventType","1327164EQBEEx","2286375QRZWqa","entities","pick"];return(on=function(){return t})()}function an(t,e){var r=sn();return(an=function(t,e){return r[t-=305]})(t,e)}function sn(){var t=["203922ilbnij","getLeftMostControlPoint","getFactorial","136zzuOhJ","getCubicValue","28947VLWmWj","isClockWise","getCurvePoints","getBezierPoints","pow","concat","min","31yaMEIh","cos","getAngleOfThreePoints","getQBSplinePoints","getRightMostControlPoint","asin","sqrt","24938pdvYAD","getCircleCenterOfThreePoints","3376940dYOgip","wholeDistance","ZERO_TOLERANCE","max","1066352ngRsMr","getNormal","7544724hxEQFC","7GskoDV","getQuadricBSplineFactor","1677888moVYuG","getThirdPoint","push","getArcPoints","getAzimuth","getPointOnLine","mid","getBinomialFactor","getBaseLength","length","getBisectorNormals","40VSuQnD","distance","FITTING_COUNT","TWO_PI","getIntersectPoint","abs"];return(sn=function(){return t})()}var cn=an;!function(t,e){for(var r=an,n=t();;)try{if(225207===parseInt(r(343))/1*(-parseInt(r(350))/2)+-parseInt(r(336))/3*(parseInt(r(334))/4)+-parseInt(r(325))/5*(-parseInt(r(331))/6)+-parseInt(r(312))/7*(-parseInt(r(309))/8)+parseInt(r(314))/9+-parseInt(r(305))/10+parseInt(r(311))/11)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(sn);class ln{static[cn(326)]=function(t,e){var r=cn;return Math[r(349)](Math[r(340)](t[0]-e[0],2)+Math[r(340)](t[1]-e[1],2))};static[cn(306)]=function(t){for(var e=cn,r=0,n=0;n<t[e(323)]-1;n++)r+=ln[e(326)](t[n],t[n+1]);return r};static[cn(322)]=function(t){return Math.pow(ln[cn(306)](t),.99)};static[cn(320)]=function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]};static[cn(351)]=function(t,e,r){var n=[(t[0]+e[0])/2,(t[1]+e[1])/2],i=[n[0]-t[1]+e[1],n[1]+t[0]-e[0]],o=[(t[0]+r[0])/2,(t[1]+r[1])/2],a=[o[0]-t[1]+r[1],o[1]+t[0]-r[0]];return ln[cn(329)](n,i,o,a)};static[cn(329)]=function(t,e,r,n){if(t[1]==e[1]){var i=(n[0]-r[0])/(n[1]-r[1]),o=i*(t[1]-r[1])+r[0],a=t[1];return[o,a]}if(r[1]==n[1]){var s=(e[0]-t[0])/(e[1]-t[1]);return[o=s*(r[1]-t[1])+t[0],a=r[1]]}return[o=(s=(e[0]-t[0])/(e[1]-t[1]))*(a=(s*t[1]-t[0]-(i=(n[0]-r[0])/(n[1]-r[1]))*r[1]+r[0])/(s-i))-s*t[1]+t[0],a]};static[cn(318)]=function(t,e){var r,n=cn,i=Math[n(348)](Math[n(330)](e[1]-t[1])/ln.distance(t,e));return e[1]>=t[1]&&e[0]>=t[0]?r=i+Math.PI:e[1]>=t[1]&&e[0]<t[0]?r=un[n(328)]-i:e[1]<t[1]&&e[0]<t[0]?r=i:e[1]<t[1]&&e[0]>=t[0]&&(r=Math.PI-i),r};static[cn(345)]=function(t,e,r){var n=cn,i=ln[n(318)](e,t)-ln[n(318)](e,r);return 0>i?i+un.TWO_PI:i};static[cn(337)]=function(t,e,r){return(r[1]-t[1])*(e[0]-t[0])>(e[1]-t[1])*(r[0]-t[0])};static[cn(319)]=function(t,e,r){return[e[0]+t*(r[0]-e[0]),e[1]+t*(r[1]-e[1])]};static[cn(335)]=function(t,e,r,n,i){var o=cn,a=1-(t=Math[o(308)](Math[o(342)](t,1),0)),s=t*t,c=s*t,l=a*a,u=l*a;return[u*e[0]+3*l*t*r[0]+3*a*s*n[0]+c*i[0],u*e[1]+3*l*t*r[1]+3*a*s*n[1]+c*i[1]]};static[cn(315)]=function(t,e,r,n,i){var o=cn,a=ln[o(318)](t,e),s=i?a+r:a-r,c=n*Math[o(344)](s),l=n*Math.sin(s);return[e[0]+c,e[1]+l]};static[cn(317)]=function(t,e,r,n){var i,o,a=cn,s=[],c=n-r;c=0>c?c+un[a(328)]:c;for(var l=0;l<=un[a(327)];l++){var u=r+c*l/un[a(327)];i=t[0]+e*Math[a(344)](u),o=t[1]+e*Math.sin(u),s[a(316)]([i,o])}return s};static getBisectorNormals=function(t,e,r,n){var i=cn,o=ln[i(310)](e,r,n),a=Math[i(349)](o[0]*o[0]+o[1]*o[1]),s=o[0]/a,c=o[1]/a,l=ln[i(326)](e,r),u=ln[i(326)](r,n);if(a>un.ZERO_TOLERANCE)if(ln[i(337)](e,r,n))var h=t*l,m=r[0]-h*c,p=r[1]+h*s,f=[m,p],d=[m=r[0]+(h=t*u)*c,p=r[1]-h*s];else f=[m=r[0]+(h=t*l)*c,p=r[1]-h*s],d=[m=r[0]-(h=t*u)*c,p=r[1]+h*s];else f=[m=r[0]+t*(e[0]-r[0]),p=r[1]+t*(e[1]-r[1])],d=[m=r[0]+t*(n[0]-r[0]),p=r[1]+t*(n[1]-r[1])];return[f,d]};static getNormal=function(t,e,r){var n=cn,i=t[0]-e[0],o=t[1]-e[1],a=Math[n(349)](i*i+o*o);i/=a,o/=a;var s=r[0]-e[0],c=r[1]-e[1],l=Math[n(349)](s*s+c*c);return[i+(s/=l),o+(c/=l)]};static[cn(338)]=function(t,e){for(var r=cn,n=[ln[r(332)](e)],i=0;i<e[r(323)]-2;i++){var o=e[i],a=e[i+1],s=ln.getBisectorNormals(t,o,a,e[i+2]);n=n[r(341)](s)}var c=ln[r(347)](e);n.push(c);var l=[];for(i=0;i<e.length-1;i++){a=e[i+1],l.push(o=e[i]);for(t=0;t<un.FITTING_COUNT;t++){var u=ln[r(335)](t/un.FITTING_COUNT,o,n[2*i],n[2*i+1],a);l[r(316)](u)}l[r(316)](a)}return l};static[cn(332)]=function(e){var r=cn,n=e[0],i=e[1],o=e[2],a=ln[r(324)](0,n,i,o)[0],s=ln[r(310)](n,i,o);if(Math.sqrt(s[0]*s[0]+s[1]*s[1])>un.ZERO_TOLERANCE)var c=ln[r(320)](n,i),l=n[0]-c[0],u=n[1]-c[1],h=2/ln[r(326)](n,i),m=-h*u,p=h*l,f=2*m*p,d=a[0]-c[0],g=a[1]-c[1],y=c[0]+(m*m-p*p)*d+f*g,v=c[1]+f*d+(p*p-m*m)*g;else y=n[0]+t*(i[0]-n[0]),v=n[1]+t*(i[1]-n[1]);return[y,v]};static[cn(347)]=function(e){var r=cn,n=e.length,i=e[n-3],o=e[n-2],a=e[n-1],s=ln.getBisectorNormals(0,i,o,a)[1],c=ln[r(310)](i,o,a);if(Math[r(349)](c[0]*c[0]+c[1]*c[1])>un[r(307)])var l=ln.mid(o,a),u=a[0]-l[0],h=a[1]-l[1],m=2/ln.distance(o,a),p=-m*h,f=m*u,d=2*p*f,g=s[0]-l[0],y=s[1]-l[1],v=l[0]+(p*p-f*f)*g+d*y,I=l[1]+d*g+(f*f-p*p)*y;else v=a[0]+t*(o[0]-a[0]),I=a[1]+t*(o[1]-a[1]);return[v,I]};static[cn(339)]=function(t){var e=cn;if(t[e(323)]<=2)return t;for(var r=[],n=t[e(323)]-1,i=0;1>=i;i+=.01){for(var o=0,a=0,s=0;n>=s;s++){var c=ln[e(321)](n,s),l=Math[e(340)](i,s),u=Math[e(340)](1-i,n-s);o+=c*l*u*t[s][0],a+=c*l*u*t[s][1]}r[e(316)]([o,a])}return r[e(316)](t[n]),r};static[cn(321)]=function(t,e){var r=cn;return ln.getFactorial(t)/(ln[r(333)](e)*ln.getFactorial(t-e))};static[cn(333)]=function(t){if(1>=t)return 1;if(2==t)return 2;if(3==t)return 6;if(4==t)return 24;if(5==t)return 120;for(var e=1,r=1;t>=r;r++)e*=r;return e};static[cn(346)]=function(t){var e=cn;if(t.length<=2)return t;var r=[],n=t[e(323)]-2-1;r[e(316)](t[0]);for(var i=0;n>=i;i++)for(var o=0;1>=o;o+=.05){for(var a=y=0,s=0;2>=s;s++){var c=ln[e(313)](s,o);a+=c*t[i+s][0],y+=c*t[i+s][1]}r[e(316)]([a,y])}return r[e(316)](t[t.length-1]),r};static[cn(313)]=function(t,e){var r=cn;return 0==t?Math[r(340)](e-1,2)/2:1==t?(-2*Math.pow(e,2)+2*e+1)/2:2==t?Math[r(340)](e,2)/2:0}}const un={TWO_PI:2*Math.PI,HALF_PI:Math.PI/2,FITTING_COUNT:100,ZERO_TOLERANCE:1e-4};var hn=mn;function mn(t,e){var r=yn();return(mn=function(t,e){return r[t-=436]})(t,e)}!function(t,e){for(var r=mn,n=t();;)try{if(724667===-parseInt(r(470))/1*(-parseInt(r(485))/2)+parseInt(r(452))/3+-parseInt(r(444))/4*(-parseInt(r(437))/5)+-parseInt(r(486))/6*(-parseInt(r(456))/7)+parseInt(r(482))/8*(parseInt(r(439))/9)+-parseInt(r(449))/10+-parseInt(r(467))/11)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(yn);const pn={type:"doublearrow",headHeightFactor:.25,headWidthFactor:.3,neckHeightFactor:.85,fixPointCount:4,neckWidthFactor:.15},fn={headHeightFactor:.18,headWidthFactor:.3,neckHeightFactor:.85,neckWidthFactor:.15,tailWidthFactor:.1,headTailFactor:.8,swallowTailFactor:1},dn={tailWidthFactor:.15,neckWidthFactor:.2,headWidthFactor:.25,headAngle:Math.PI/8.5,neckAngle:Math.PI/13};class gn{static[hn(447)](t){var e=hn;this.connPoint=null,this.tempPoint4=null,this.points=t;var r={controlPoint:null,polygonalPoint:null};if(!(2>(c=t.length))){if(2==c)return t;var n,i,o=this[e(481)][0],a=this[e(481)][1],s=this[e(481)][2],c=t[e(471)];this.tempPoint4=3==c?gn.getTempPoint4(o,a,s):this.points[3],3==c||4==c?this.connPoint=ln[e(488)](o,a):this[e(484)]=this[e(481)][4],ln[e(487)](o,a,s)?(n=gn[e(461)](o,this[e(484)],this[e(476)],!1),i=gn[e(461)](this.connPoint,a,s,!0)):(n=gn[e(461)](a,this[e(484)],s,!1),i=gn[e(461)](this.connPoint,o,this[e(476)],!0));var l=n[e(471)],u=(l-5)/2,h=n.slice(0,u),m=n[e(474)](u,u+5),p=n[e(474)](u+5,l),f=i.slice(0,u),d=i.slice(u,u+5),g=i.slice(u+5,l);f=ln[e(483)](f);var y=ln.getBezierPoints(g.concat(h[e(474)](1)));p=ln[e(483)](p);var v=f.concat(d,y,m,p),I=gn[e(451)](v);r[e(472)]=[o,a,s,this[e(476)],this[e(484)]],r[e(492)]=Cesium[e(490)].fromDegreesArray(I)}return r}static[hn(450)](t){var e=hn;this[e(484)]=null,this[e(476)]=null,this[e(457)]=null,this[e(481)]=t;var r={controlPoint:null,polygonalPoint:null};if((n=t[e(471)])>=2){if(2==n)return t;var n,i,o,a=this.points[0],s=this[e(481)][1],c=this[e(481)][2];3==(n=t[e(471)])?(this.tempPoint4=gn.getTempPoint4(a,s,c),this[e(457)]=ln[e(488)](c,this[e(476)])):(this[e(476)]=this[e(481)][3],this.tempPoint5=this.points[4]),this.connPoint=n<6?ln[e(488)](a,s):this[e(481)][5],ln.isClockWise(a,s,c)?(i=gn[e(461)](a,this[e(484)],this[e(476)],!1),o=gn[e(461)](this[e(484)],s,c,!0)):(i=gn.getArrowPoints(s,this[e(484)],c,!1),o=gn[e(461)](this[e(484)],a,this[e(476)],!0));var l=i[e(471)],u=(l-5)/2,h=i[e(474)](0,u),m=i[e(474)](u,u+5),p=i[e(474)](u+5,l),f=o.slice(0,u),d=o[e(474)](u,u+5),g=o[e(474)](u+5,l);f=ln[e(483)](f);var y=ln[e(483)](g[e(446)](h.slice(1)));p=ln[e(483)](p);var v=f.concat(d,y,m,p),I=gn[e(451)](v);r[e(472)]=[a,s,c,this[e(476)],this[e(457)],this[e(484)]],r[e(492)]=Cesium[e(490)][e(458)](I)}return r}static[hn(451)](t){var e=[];return t[hn(477)]((function(t){e.push(t[0]),e.push(t[1])})),e}static getArrowPoints(t,e,r,n){var i=hn;this[i(475)]=pn[i(475)],this[i(466)]=pn.headHeightFactor,this[i(443)]=pn.headWidthFactor,this[i(438)]=pn.neckHeightFactor,this[i(445)]=pn[i(445)];var o=ln[i(488)](t,e),a=ln[i(480)](o,r),s=ln[i(479)](r,o,0,.3*a,!0),c=ln[i(479)](r,o,0,.5*a,!0),l=[o,s=ln[i(479)](o,s,un[i(464)],a/5,n),c=ln[i(479)](o,c,un[i(464)],a/4,n),r],u=gn.getArrowHeadPoints(l,this[i(466)],this[i(443)],this[i(438)],this.neckWidthFactor),h=u[0],m=u[4],p=ln.distance(t,e)/ln[i(455)](l)/2,f=gn[i(448)](l,h,m,p),d=f[i(471)],g=f[i(474)](0,d/2),y=f[i(474)](d/2,d);return g[i(468)](h),y.push(m),(g=g.reverse())[i(468)](e),(y=y[i(441)]()).push(t),g[i(441)]()[i(446)](u,y)}static getArrowHeadPoints(t,e,r){var n=hn;this[n(475)]=pn[n(475)],this.headHeightFactor=pn.headHeightFactor,this[n(443)]=pn[n(443)],this[n(438)]=pn[n(438)],this[n(445)]=pn[n(445)];var i=ln[n(455)](t)*this.headHeightFactor,o=t[t[n(471)]-1],a=(ln[n(480)](e,r),i*this[n(443)]),s=i*this[n(445)],c=i*this[n(438)],l=ln[n(479)](t[t[n(471)]-2],o,0,i,!0),u=ln.getThirdPoint(t[t[n(471)]-2],o,0,c,!0),h=ln[n(479)](o,l,un.HALF_PI,a,!1),m=ln[n(479)](o,l,un[n(464)],a,!0);return[ln[n(479)](o,u,un[n(464)],s,!1),h,o,m,ln[n(479)](o,u,un[n(464)],s,!0)]}static getArrowBodyPoints(t,e,r,n){for(var i=hn,o=ln[i(454)](t),a=ln[i(455)](t)*n,s=(a-ln.distance(e,r))/2,c=0,l=[],u=[],h=1;h<t.length-1;h++){var m=ln[i(473)](t[h-1],t[h],t[h+1])/2,p=(a/2-(c+=ln[i(480)](t[h-1],t[h]))/o*s)/Math[i(436)](m),f=ln[i(479)](t[h-1],t[h],Math.PI-m,p,!0),d=ln[i(479)](t[h-1],t[h],m,p,!1);l[i(468)](f),u.push(d)}return l[i(446)](u)}static[hn(493)](t,e,r){var n,i,o,a,s=hn,c=ln[s(488)](t,e),l=ln.distance(c,r),u=ln[s(473)](t,c,r);return u<un.HALF_PI?(i=l*Math[s(436)](u),o=l*Math[s(469)](u),a=ln[s(479)](t,c,un[s(464)],i,!1),n=ln[s(479)](c,a,un[s(464)],o,!0)):u>=un.HALF_PI&&u<Math.PI?(i=l*Math.sin(Math.PI-u),o=l*Math[s(469)](Math.PI-u),a=ln.getThirdPoint(t,c,un[s(464)],i,!1),n=ln[s(479)](c,a,un[s(464)],o,!1)):u>=Math.PI&&u<1.5*Math.PI?(i=l*Math.sin(u-Math.PI),o=l*Math[s(469)](u-Math.PI),a=ln.getThirdPoint(t,c,un[s(464)],i,!0),n=ln[s(479)](c,a,un[s(464)],o,!0)):(i=l*Math[s(436)](2*Math.PI-u),o=l*Math[s(469)](2*Math.PI-u),a=ln[s(479)](t,c,un[s(464)],i,!0),n=ln[s(479)](c,a,un.HALF_PI,o,!1)),n}static tailedAttackArrow(t){var e=hn;t=gn[e(491)](t),this[e(453)]=fn[e(453)],this[e(442)]=fn[e(442)],this[e(489)]=fn[e(489)];var r={controlPoint:null,polygonalPoint:null};if(r.controlPoint=t,!(2>(d=t[e(471)]))){if(2==t[e(471)])return r[e(492)]=t,r;var n=t,i=n[0],o=n[1];ln[e(487)](n[0],n[1],n[2])&&(i=n[1],o=n[0]);var a=[ln[e(488)](i,o)][e(446)](n[e(474)](2)),s=gn[e(465)](a,i,o,fn),c=s[0],l=s[4],u=ln[e(480)](i,o),h=ln.getBaseLength(a),m=h*this[e(453)]*this[e(442)];this[e(489)]=ln[e(479)](a[1],a[0],0,m,!0);var p=u/h,f=gn[e(462)](a,c,l,p),d=f.length,g=[i][e(446)](f[e(474)](0,d/2));g[e(468)](c);var y,v=[o][e(446)](f[e(474)](d/2,d));v[e(468)](l),g=ln[e(440)](g),v=ln[e(440)](v),y=gn.array2Dto1D(g[e(446)](s,v[e(441)](),[this[e(489)],g[0]])),r[e(492)]=Cesium.Cartesian3[e(458)](y)}return r}static[hn(465)](t,e,r,n){var i=hn;this[i(466)]=n.headHeightFactor,this[i(463)]=n[i(463)],this[i(443)]=n[i(443)],this.neckWidthFactor=n.neckWidthFactor,this[i(438)]=n[i(438)];var o=ln.getBaseLength(t),a=o*this.headHeightFactor,s=t[t[i(471)]-1];o=ln[i(480)](s,t[t[i(471)]-2]);var c=ln[i(480)](e,r);a>c*this[i(463)]&&(a=c*this[i(463)]);var l=a*this[i(443)],u=a*this[i(445)],h=(a=a>o?o:a)*this[i(438)],m=ln.getThirdPoint(t[t[i(471)]-2],s,0,a,!0),p=ln[i(479)](t[t.length-2],s,0,h,!0),f=ln.getThirdPoint(s,m,un[i(464)],l,!1),d=ln.getThirdPoint(s,m,un[i(464)],l,!0);return[ln.getThirdPoint(s,p,un[i(464)],u,!1),f,s,d,ln[i(479)](s,p,un[i(464)],u,!0)]}static getAttackArrowBodyPoints(t,e,r,n){for(var i=hn,o=ln[i(454)](t),a=ln.getBaseLength(t)*n,s=(a-ln[i(480)](e,r))/2,c=0,l=[],u=[],h=1;h<t[i(471)]-1;h++){var m=ln[i(473)](t[h-1],t[h],t[h+1])/2,p=(a/2-(c+=ln[i(480)](t[h-1],t[h]))/o*s)/Math[i(436)](m),f=ln[i(479)](t[h-1],t[h],Math.PI-m,p,!0),d=ln.getThirdPoint(t[h-1],t[h],m,p,!1);l[i(468)](f),u[i(468)](d)}return l[i(446)](u)}static[hn(491)](t){var e=hn,r=t[t[e(471)]-1],n=!1,i=[];return i=t.filter((function(t){if(t[0]!=r[0]&&t[1]!=r[1])return t;n=!0})),n&&i[e(468)](r),i}static[hn(478)](t,o){var m=hn;if(t[m(471)]<2||o[m(471)]<2)return;let f=dn[m(453)],y=dn[m(445)],v=dn[m(443)],I=dn[m(460)],C=dn[m(459)];var x=[];return x[0]=t,x[1]=o,e=x[0],r=x[1],n=ln[m(455)](x),g=n*f,i=n*y,s=n*v,a=ln[m(479)](r,e,un.HALF_PI,g,!0),l=ln.getThirdPoint(r,e,un.HALF_PI,g,!1),u=ln[m(479)](e,r,I,s,!1),c=ln.getThirdPoint(e,r,I,s,!0),p=ln[m(479)](e,r,C,i,!1),h=ln[m(479)](e,r,C,i,!0),d=[],d[m(468)](a[0],a[1],p[0],p[1],u[0],u[1],r[0],r[1],c[0],c[1],h[0],h[1],l[0],l[1],e[0],e[1]),Cesium[m(490)][m(458)](d)}}function yn(){var t=["concat","doubleArrow","getArrowBodyPoints","3174540FCFlaM","threeArrow","array2Dto1D","1971297IUDsrh","tailWidthFactor","wholeDistance","getBaseLength","10731dxzUYn","tempPoint5","fromDegreesArray","neckAngle","headAngle","getArrowPoints","getAttackArrowBodyPoints","headTailFactor","HALF_PI","getAttackArrowHeadPoints","headHeightFactor","28343073uHbGxn","push","cos","3BVehCU","length","controlPoint","getAngleOfThreePoints","slice","type","tempPoint4","forEach","fineArrow","getThirdPoint","distance","points","3067368LiWohT","getBezierPoints","connPoint","190916gLZXTo","3954kEQthH","isClockWise","mid","swallowTailPnt","Cartesian3","dereplication","polygonalPoint","getTempPoint4","sin","915445kivFrg","neckHeightFactor","9GdZVtc","getQBSplinePoints","reverse","swallowTailFactor","headWidthFactor","28BCZTpC","neckWidthFactor"];return(yn=function(){return t})()}!function(t,e){const r=In,n=t();for(;;)try{if(787224===-parseInt(r(407))/1*(parseInt(r(412))/2)+-parseInt(r(364))/3*(-parseInt(r(362))/4)+parseInt(r(401))/5+parseInt(r(415))/6*(-parseInt(r(380))/7)+-parseInt(r(366))/8+parseInt(r(358))/9+-parseInt(r(388))/10*(parseInt(r(387))/11))break;n.push(n.shift())}catch(t){n.push(n.shift())}}(Cn);const vn=function(t,e,r,n){const i=In;if(!t)throw new Error(i(399));let o=(r=r||{}).id||function(t){const e=In;let r=t||32,n=e(371),i=n[e(374)],o="";for(let t=0;t<r;t++)o+=n[e(394)](Math[e(384)](Math[e(368)]()*i));return o}();if(t[i(392)][i(359)](o))throw new Error("the id parameter is an unique value");let a=r[i(416)]||Cesium[i(379)][i(383)];const s=t.scene[i(397)][i(386)];t.scene.globe.depthTestAgainstTerrain=!0;let c,l=[],u=[],h=i(375);const m=new(Cesium[i(369)])(t.canvas);m.setInputAction((function(e){const r=i;let n=e.position;h=l[r(374)]>3?r(385):r(400);let o=t[r(402)][r(408)](e[r(376)]);if(!o||l[r(374)]>4)return;l.push(o);let a=xn(t,[{x:n.x,y:n.y}]);u[r(391)](a)}),Cesium[i(414)][i(372)]),m[i(363)]((function(e){const r=i;if(Cr(h,e[r(404)],!0),l[r(374)]<2)return;let n=t.scene[r(397)].ellipsoid,s=t[r(365)][r(406)](e[r(404)],n);if(s&&l.length>=2)if(Cesium[r(405)](c)){l.pop(),u[r(381)](),l[r(391)](s);let n=xn(t,[e[r(404)]]);u.push(n)}else{l.push(s);let n=xn(t,[e[r(404)]]);u[r(391)](n),c=function(t,e,r,n){const i=In;let o=function(){const r=In;if(e[r(374)]<3)return null;let n=[];for(let i=0;i<e[r(374)];i++){let o=t[r(402)].globe[r(367)].cartesianToCartographic(e[i]),a=Cesium[r(378)][r(360)](o.latitude),s=Cesium[r(378)][r(360)](o[r(411)]);n[r(391)]([s,a])}let i=gn[r(403)](n),o=[];return-1==JSON.stringify(i[r(361)])[r(417)](r(393))&&(o=i[r(361)]),new(Cesium[r(395)])(o)};return t[i(392)].add({id:n,name:i(390),polygon:new(Cesium[i(389)])({hierarchy:new Cesium.CallbackProperty(o,!1),show:!0,fill:!0,material:r})})}(t,l,a,o),c[r(382)]=r(390)}}),Cesium.ScreenSpaceEventType[i(370)]),m[i(363)]((function(r){const o=i;Cr(h,r[o(376)],!1),c[o(377)]=u,m.destroy(),e[o(391)](c),t[o(402)][o(397)][o(386)]=s,n&&n(c)}),Cesium[i(414)][i(373)])};function In(t,e){const r=Cn();return(In=function(t,e){return r[t-=358]})(t,e)}function Cn(){const t=["20913CoOXMx","camera","9332272nuBtFl","ellipsoid","random","ScreenSpaceEventHandler","MOUSE_MOVE","ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz0123456789","LEFT_CLICK","RIGHT_CLICK","length","左键点击单击开始绘制","position","pottingPoint","Math","Color","10322480LAfQHn","pop","GeoType","RED","floor","右键完成绘制","depthTestAgainstTerrain","1742609WQMmoZ","40ublaJg","PolygonGraphics","PincerArrow","push","entities","null","charAt","PolygonHierarchy","latitude","globe","fromCartesian","no viewer object!","左键增加点","6320635bcDXUF","scene","doubleArrow","endPosition","defined","pickEllipsoid","13cehzdi","pickPosition","height","pick","longitude","6544IeyvDZ","Cartographic","ScreenSpaceEventType","6TLTNmo","color","indexOf","14083110FLyIwW","getById","toDegrees","polygonalPoint","732slPxAC","setInputAction"];return(Cn=function(){return t})()}function xn(t,e){const r=In;let n,i,o,a,s,c,l=[];for(let u=0;u<e[r(374)];u++)n=t[r(365)].getPickRay(e[u]),n&&(i=t.scene[r(397)][r(410)](n,t.scene)),i&&(o=Cesium[r(413)][r(398)](i),a=Cesium[r(378)][r(360)](o[r(411)]),s=Cesium[r(378)][r(360)](o[r(396)]),c=o[r(409)],l[r(391)](a,s,c));return l}!function(t,e){const r=Mn,n=t();for(;;)try{if(228581===-parseInt(r(209))/1*(-parseInt(r(198))/2)+parseInt(r(200))/3+parseInt(r(242))/4*(parseInt(r(246))/5)+parseInt(r(190))/6+-parseInt(r(247))/7*(-parseInt(r(218))/8)+parseInt(r(199))/9*(parseInt(r(207))/10)+parseInt(r(188))/11*(-parseInt(r(241))/12))break;n.push(n.shift())}catch(t){n.push(n.shift())}}(_n);const wn=function(t,e,r,n){const i=Mn;if(!t)throw new Error(i(214));let o=(r=r||{}).id||function(t){const e=Mn;let r=t||32,n=e(248),i=n.length,o="";for(let t=0;t<r;t++)o+=n.charAt(Math[e(234)](Math[e(196)]()*i));return o}();if(t[i(221)][i(203)](o))throw new Error(i(197));let a=r[i(206)]||Cesium[i(235)][i(215)];const s=t.scene[i(223)][i(236)];t[i(240)][i(223)][i(236)]=!0;let c,l=[],u=[],h=i(201);const m=new(Cesium[i(222)])(t[i(217)]);m[i(219)]((function(e){const r=i;h="左键增加点，右键完成绘制";let n=t[r(240)].pickPosition(e[r(237)]);if(!n)return;l[r(210)](n);let o=Pn(t,[e[r(237)]]);u[r(210)](o)}),Cesium[i(230)][i(233)]),m.setInputAction((function(e){const r=i;if(Cr(h,e[r(224)],!0),l[r(239)]<2)return void(h=1===l[r(239)]?r(194):h);let n=t[r(240)][r(223)][r(232)],s=t[r(208)][r(226)](e[r(224)],n);if(s&&l[r(239)]>=2)if(Cesium.defined(c)){l[r(245)](),u[r(245)](),l[r(210)](s);let n=Pn(t,[e[r(224)]]);u[r(210)](n)}else{l[r(210)](s);let n=Pn(t,[e[r(224)]]);u[r(210)](n),c=function(t,e,r,n){const i=Mn;let o=function(){const r=Mn;if(e[r(239)]<3)return null;let n=[];for(let i=0;i<e[r(239)];i++){let r=bn(t,e[i]);n.push(r)}let i=PlotAlgorithm[r(193)](n),o=[];return-1==JSON[r(243)](i[r(205)])[r(204)]("null")&&(o=i[r(205)]),new(Cesium[r(225)])(o)};return t[i(221)][i(228)]({id:n,name:i(211),polygon:new(Cesium[i(212)])({hierarchy:new Cesium.CallbackProperty(o,!1),show:!0,fill:!0,material:r})})}(t,l,a,o),c[r(202)]="AttackArrow"}}),Cesium.ScreenSpaceEventType.MOUSE_MOVE),m[i(219)]((function(r){const o=i;Cr(h,r[o(237)],!1),c[o(191)]=u,e[o(210)](c),t[o(240)][o(223)][o(236)]=s,m[o(227)](),n&&n(c)}),Cesium[i(230)][i(192)])};function Mn(t,e){const r=_n();return(Mn=function(t,e){return r[t-=188]})(t,e)}function _n(){const t=["PolygonHierarchy","pickEllipsoid","destroy","add","fromCartesian","ScreenSpaceEventType","cartesianToCartographic","ellipsoid","LEFT_CLICK","floor","Color","depthTestAgainstTerrain","position","Cartographic","length","scene","145164GspYPP","4Zgxppg","stringify","latitude","pop","540845SQCYGp","7XiwQCR","ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz0123456789","1496jageaX","Math","2698482beUlFj","pottingPoint","RIGHT_DOWN","tailedAttackArrow","左键点击绘制箭尾","longitude","random","the id parameter is an unique value","50jiniVT","292194NSnFRI","1199163nQSTRT","左键单击开始绘制","GeoType","getById","indexOf","polygonalPoint","color","140FLpLLT","camera","1945kxLzYM","push","AttackArrow","PolygonGraphics","toDegrees","no viewer object!","RED","height","canvas","3303896RxhdZh","setInputAction","getPickRay","entities","ScreenSpaceEventHandler","globe","endPosition"];return(_n=function(){return t})()}function bn(t,e){const r=Mn;let n=t.scene[r(223)][r(232)][r(231)](e),i=Cesium[r(189)][r(213)](n[r(244)]);return[Cesium.Math[r(213)](n[r(195)]),i]}function Pn(t,e){const r=Mn;let n,i,o,a,s,c,l=[];for(let u=0;u<e.length;u++)n=t.camera[r(220)](e[u]),n&&(i=t[r(240)].globe.pick(n,t[r(240)])),i&&(o=Cesium[r(238)][r(229)](i),a=Cesium[r(189)][r(213)](o[r(195)]),s=Cesium[r(189)].toDegrees(o.latitude),c=o[r(216)],l[r(210)](a,s,c));return l}!function(t,e){const r=En,n=t();for(;;)try{if(928961===-parseInt(r(324))/1*(-parseInt(r(302))/2)+parseInt(r(314))/3+-parseInt(r(321))/4*(-parseInt(r(315))/5)+-parseInt(r(294))/6*(-parseInt(r(331))/7)+-parseInt(r(283))/8*(parseInt(r(316))/9)+parseInt(r(311))/10+-parseInt(r(276))/11*(parseInt(r(328))/12))break;n.push(n.shift())}catch(t){n.push(n.shift())}}(Sn);const Tn=function(t,e,r,n){const i=En;if(!t)throw new Error(i(298));let o=(r=r||{}).id||function(t){const e=En;let r=t||32,n=e(313),i=n[e(285)],o="";for(let t=0;t<r;t++)o+=n[e(278)](Math[e(301)](Math.random()*i));return o}();if(t.entities[i(305)](o))throw new Error(i(289));let a,s,c=r.color||Cesium[i(277)][i(279)],l=i(329),u=[],h=[];const m=new Cesium.ScreenSpaceEventHandler(t[i(280)]);m[i(319)]((function(e){const r=i;if(2==u[r(285)])return;let n=e.position;if(l=r(317),0==u.length){let e=kn(t,[{x:n.x,y:n.y}]);u.push({x:e[0],y:e[1],z:e[2]},{x:e[0]+1e-7,y:e[1]+1e-7,z:e[2]}),h.push(e,e)}}),Cesium[i(295)].LEFT_CLICK),m.setInputAction((function(e){const r=i;let n=e[r(290)];if(Cr(l,e[r(290)],!0),u[r(285)]>1){let e,i,l,m;if(Cesium[r(281)](a)){u[r(309)](),h[r(309)]();let i=kn(t,[{x:n.x,y:n.y}]);u[r(300)]({x:i[0],y:i[1],z:i[2]}),h[r(300)](i),l=Dn(u),m=An(l),e=zn(m,100);let o=[];e[r(303)]((t=>{o[r(300)](t.x,t.y,u[0].z)})),s=o}else l=Dn(u),m=An(l),e=zn(m,100),i=[],e[r(303)]((t=>{i[r(300)](t.x,t.y,u[0].z)})),s=i,a=function(t,e,r,n){const i=En;let o=zn(An(Dn(e)),100),a=kn(t,o);return t[i(293)].add({id:n,name:i(297),polygon:{hierarchy:Cesium[i(326)][i(288)](a),material:r}})}(t,u,c,o),a[r(332)][r(306)]=new(Cesium[r(291)])((function(){const t=r;return new(Cesium[t(322)])(Cesium[t(326)][t(288)](s))}),!1),a.GeoType=r(297)}}),Cesium[i(295)][i(287)]),m[i(319)]((function(t){const r=i;Cr(l,t[r(299)],!1),a[r(318)]=h,e[r(300)](a),m[r(292)](),n&&n(a)}),Cesium.ScreenSpaceEventType[i(296)])};function En(t,e){const r=Sn();return(En=function(t,e){return r[t-=276]})(t,e)}function An(t){const e=En;if(null==t||t[e(285)]<3)return t;let r=t[0];t[e(300)](r);let n=t,i=[],o=.4,a=n.length-1;for(let t=0;t<=a-1;t++){let r,s,c;t==a-1?(r=n[a-1],s=n[0],c=n[1]):(r=n[t],s=n[t+1],c=n[t+2]);let l={x:void 0,y:void 0},u={x:void 0,y:void 0},h={x:s.x-r.x,y:s.y-r.y},m={x:c.x-s.x,y:c.y-s.y},p=Math[e(323)](h.x*h.x+h.y*h.y),f=Math.sqrt(m.x*m.x+m.y*m.y),d={x:h.x/p,y:h.y/p},g={x:m.x/f,y:m.y/f},y={x:d.x+g.x,y:d.y+g.y},v=Math[e(323)](y.x*y.x+y.y*y.y),I={x:y.x/v,y:y.y/v},C=(d.x*g.x+d.y*g.y)/1;Math[e(310)](1-C)<.005?(l.x=s.x-g.x*p*o,l.y=s.y-g.y*p*o,u.x=s.x+d.x*f*o,u.y=s.y+d.y*f*o):(l.x=s.x-I.x*p*o,l.y=s.y-I.y*p*o,u.x=s.x+I.x*f*o,u.y=s.y+I.y*f*o),t==a-1?(i[0]=s,i[1]=u,i[3*(a-2)+2+3]=l,i[3*(a-2)+2+4]=n[a]):(i[3*t+2+0]=l,i[3*t+2+1]=s,i[3*t+2+2]=u)}return i}function Sn(){const t=["defined","camera","26472SpXKUu","pick","length","Math","MOUSE_MOVE","fromDegreesArrayHeights","the id parameter is an unique value","endPosition","CallbackProperty","destroy","entities","8388294ZUDxRW","ScreenSpaceEventType","RIGHT_CLICK","StagingArea","no viewer object!","position","push","floor","204058MXCRVD","forEach","toDegrees","getById","hierarchy","latitude","Cartographic","pop","abs","4456490aKvYpd","scene","ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz0123456789","47982wapcHu","10LoXgqG","4275XXFnPb","右键完成绘制","pottingPoint","setInputAction","globe","1999532JmBlnJ","PolygonHierarchy","sqrt","1tuQUNV","cos","Cartesian3","fromCartesian","325236Taybie","左键单击开始绘制","longitude","7IRzmGX","polygon","187LZmLxs","Color","charAt","RED","canvas"];return(Sn=function(){return t})()}function zn(t,e){const r=En;e||(e=20);let n=[],i=.05;e>0&&(i=1/e);for(let e=0;e<t[r(285)]-3;){let o=t[e],a=t[e+1],s=t[e+2],c=t[e+3];n.push(o);for(let t=0;t<1;){let e={x:(1-t)*(1-t)*(1-t)*o.x+3*t*(1-t)*(1-t)*a.x+3*t*t*(1-t)*s.x+t*t*t*c.x,y:(1-t)*(1-t)*(1-t)*o.y+3*t*(1-t)*(1-t)*a.y+3*t*t*(1-t)*s.y+t*t*t*c.y};n[r(300)](e),t+=i}e+=3,e>=t[r(285)]&&n[r(300)](o)}return n}function Dn(t){const e=En;let r=[];if(2==t[e(285)]){let n=t[0],i=t[t[e(285)]-1],o={x:i.x-n.x,y:i.y-n.y},a=Math[e(323)](o.x*o.x+o.y*o.y),s=Rn(o,Math.PI/3,Math[e(323)](3)/12*a)[1],c={x:n.x+s.x,y:n.y+s.y},l={x:(n.x+i.x)/2,y:(n.y+i.y)/2},u=Rn(o,2*Math.PI/3,Math[e(323)](3)/12*a)[1],h={x:i.x+u.x,y:i.y+u.y},m=Rn(o,Math.PI/2,.5*a)[0],p={x:m.x+l.x,y:m.y+l.y},f=n,d=i;r[e(300)](f,c,l,h,d,p)}return r}function Rn(t,e,r){const n=En;e||(e=Math.PI/2),r||(r=1);let i,o,a,s,c,l,u=Math.sqrt(t.x*t.x+t.y*t.y);if(0==t.y)i=o=u*r*Math[n(325)](e)/t.x,t.x>0?(a=Math[n(323)](r*r-i*i),s=-a):t.x<0&&(s=Math.sqrt(r*r-i*i),a=-s),c={x:i,y:a},l={x:o,y:s};else{let h=-t.x/t.y,m=r*u*Math.cos(e)/t.y,p=1+h*h,f=2*h*m,d=m*m-r*r;i=(-f-Math[n(323)](f*f-4*p*d))/(2*p),o=(-f+Math[n(323)](f*f-4*p*d))/(2*p),a=h*i+m,s=h*o+m,t.y>=0?(c={x:i,y:a},l={x:o,y:s}):t.y<0&&(c={x:o,y:s},l={x:i,y:a})}return[c,l]}function kn(t,e){const r=En;let n,i,o,a,s,c,l=[];for(let u=0;u<e[r(285)];u++)n=t[r(282)].getPickRay(e[u]),n&&(i=t[r(312)][r(320)][r(284)](n,t[r(312)])),i&&(o=Cesium[r(308)][r(327)](i),a=Cesium[r(286)][r(304)](o[r(330)]),s=Cesium[r(286)][r(304)](o[r(307)]),c=o.height,l.push(a,s,c));return l}!function(t,e){const r=Bn,n=t();for(;;)try{if(997484===-parseInt(r(350))/1+-parseInt(r(348))/2*(-parseInt(r(346))/3)+-parseInt(r(382))/4*(parseInt(r(383))/5)+parseInt(r(393))/6*(-parseInt(r(361))/7)+parseInt(r(373))/8+-parseInt(r(340))/9+parseInt(r(377))/10)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(Gn);const Fn=function(t,e,r,n){const i=Bn;if(!t)throw new Error("no viewer object!");let o=(r=r||{}).id||function(t){const e=Bn;let r=t||32,n=e(369),i=n[e(358)],o="";for(let t=0;t<r;t++)o+=n[e(333)](Math[e(349)](Math[e(336)]()*i));return o}();if(t[i(338)][i(392)](o))throw new Error(i(397));let a=r[i(354)]||Cesium[i(396)].RED,s=a[i(345)](1),c=r.type||0;const l={0:i(365),1:"RectangleFlag",2:i(399),3:"InvertedTriangleFlag",4:i(332)},u=new(Cesium[i(380)])(t.canvas);let h=null,m=[],p=i(386);u[i(398)]((function(e){const r=i;let n=Ln(t,e[r(374)]);p="右键完成绘制",0==m.length&&(m[r(344)](n[r(347)]()),m.push(n))}),Cesium[i(391)].LEFT_CLICK),u[i(398)]((function(e){const r=i;if(Cr(p,e[r(364)],!0),m[r(358)]<2)return;let n=Ln(t,e[r(364)]);Cesium[r(372)](h)?(m[r(362)](),m[r(344)](n)):(h=t[r(338)][r(400)]({id:o,name:l[c],polygon:{hierarchy:new(Cesium[r(357)])((function(){const e=r;let n=[],o=function(){const e=i;if(m[e(358)]<2)return!1;{let r=new Array;m[e(378)]((function(e){r.push(function(e){const r=i;let n=t.scene[r(389)].ellipsoid[r(371)](e),o=Cesium.Math[r(342)](n[r(385)]);return[Cesium[r(367)][r(342)](n[r(366)]),o]}(e))}));let n=function(t,e){const r=Bn;e=e||0;let n=[];if(t.length>1){let i,o,a=t[0],s=t[t.length-1],c=[s[0],(s[1]-a[1])/4+a[1]],l=a,u=[(s[0]-a[0])/4+a[0],(s[1]-a[1])/8+a[1]],h=[(a[0]+s[0])/2,a[1]],m=[3*(s[0]-a[0])/4+a[0],-(s[1]-a[1])/8+a[1]],p=[s[0],a[1]],f=[s[0],(a[1]+s[1])/2],d=[3*(s[0]-a[0])/4+a[0],3*(s[1]-a[1])/8+a[1]],g=[(a[0]+s[0])/2,(a[1]+s[1])/2],y=[(s[0]-a[0])/4+a[0],5*(s[1]-a[1])/8+a[1]],v=[a[0],(a[1]+s[1])/2],I=[a[0],s[1]];switch(e){case 0:i=[l,u,h,m,p],o=[f,d,g,y,v,v,v,v,v];break;case 1:i=[l,p],o=[f,v,v,v,v,v];break;case 2:i=[l,f],o=[f,v,v,v,v,v];break;case 3:i=[l,p],o=[p,v,v,v,v,v];break;case 4:i=[l,c],o=[c,v,v,v,v,v]}let C=ln[r(359)](i),x=ln.getBezierPoints(o);n=C[r(404)](x),n[r(344)](I),n.push(a)}return n}(r,c);return Cesium[e(368)][e(353)]([].concat.apply([],n))}}();for(let t=0;t<o[e(358)];t++){let e=new Cesium.Cartesian3(o[t].x,o[t].y,o[t].z);n.push(e)}return new(Cesium[e(408)])(n)}),!1),perPositionHeight:!0,extrudedHeight:0,material:a,outline:!0,outlineColor:s}}),h[r(388)]=l[c])}),Cesium[i(391)][i(375)]),u[i(398)]((function(t){const r=i;Cr(p,t[r(374)],!1),h[r(339)]=m,e[r(344)](h),u[r(381)](),n&&n(h)}),Cesium[i(391)][i(384)])};function Ln(t,e){const r=Bn;let n=t.scene[r(402)](e),i=null,o=!1,a=!1;for(let a in n){let s=n[a];if((s&&s[r(334)]instanceof Cesium[r(335)]||s&&s[r(334)]instanceof Cesium[r(376)]||s&&s[r(334)]instanceof Cesium[r(405)])&&(o=!0),o&&(t.scene.pick(e),i=t.scene[r(387)](e),i)){let e=Cesium[r(370)][r(352)](i);e[r(341)]<0&&(e[r(341)]=0),i=Nn(t,{lng:Cesium[r(367)][r(342)](e[r(366)]),lat:Cesium.Math[r(342)](e[r(385)]),alt:e[r(341)]})}}let s=t[r(355)]instanceof Cesium[r(403)];if(!o&&!s){let n=t[r(337)][r(390)].getPickRay(e);if(!n)return null;i=t[r(337)][r(389)][r(356)](n,t[r(337)]),a=!0}if(!o&&!a&&s&&(i=t[r(337)].camera[r(407)](e,t[r(337)][r(389)][r(343)])),i){let e=function(t,e){const r=Bn;let n=Cesium[r(379)][r(394)][r(371)](e);return{lng:Cesium[r(367)][r(342)](n.longitude),lat:Cesium[r(367)][r(342)](n[r(385)]),alt:n[r(341)]}}(0,i);return e[r(363)]<0&&(i=Nn(t,e,.1)),i}return!1}function Nn(t,e,r){const n=Bn;return e?Cesium[n(368)][n(406)](e[n(395)]||e[n(360)],e[n(401)],e[n(363)]=r||e.alt,Cesium.Ellipsoid[n(394)]):Cesium[n(368)][n(351)]}function Gn(){const t=["alt","endPosition","CurveFlag","longitude","Math","Cartesian3","ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz0123456789","Cartographic","cartesianToCartographic","defined","6333504PXrMJc","position","MOUSE_MOVE","Cesium3DTileset","22708090aGoHCr","forEach","Ellipsoid","ScreenSpaceEventHandler","destroy","1003528iSzPxv","20QqvXPw","RIGHT_CLICK","latitude","左键点击单击开始绘制","pickPosition","GeoType","globe","camera","ScreenSpaceEventType","getById","10410QxdLrk","WGS84","lng","Color","the id parameter is an unique value","setInputAction","RegularTriangleFlag","add","lat","drillPick","EllipsoidTerrainProvider","concat","Model","fromDegrees","pickEllipsoid","PolygonHierarchy","TriangleFlag","charAt","primitive","Cesium3DTileFeature","random","scene","entities","pottingPoint","2314539ZbBWmJ","height","toDegrees","ellipsoid","push","withAlpha","3009QfIaAJ","clone","1094gtJzfR","floor","367475MhCUOu","ZERO","fromCartesian","fromDegreesArray","color","terrainProvider","pick","CallbackProperty","length","getBezierPoints","lon","3976cfBVZr","pop"];return(Gn=function(){return t})()}function Bn(t,e){const r=Gn();return(Bn=function(t,e){return r[t-=332]})(t,e)}!function(t,e){const r=Un,n=t();for(;;)try{if(593538===-parseInt(r(270))/1*(parseInt(r(269))/2)+-parseInt(r(239))/3*(-parseInt(r(233))/4)+parseInt(r(225))/5+parseInt(r(220))/6+-parseInt(r(282))/7*(parseInt(r(245))/8)+parseInt(r(262))/9*(-parseInt(r(253))/10)+parseInt(r(277))/11*(parseInt(r(252))/12))break;n.push(n.shift())}catch(t){n.push(n.shift())}}(On);const Wn=function(t,e,r,n){const i=Un;if(!t)throw new Error(i(261));let o=(r=r||{}).id||function(t){const e=Un;let r=t||32,n="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",i=n[e(241)],o="";for(let t=0;t<r;t++)o+=n[e(230)](Math.floor(Math[e(226)]()*i));return o}();if(t[i(221)].getById(o))throw new Error(i(254));let a=r[i(266)]||Cesium[i(222)][i(244)],s=r.width||2;const c=new(Cesium[i(234)])(t[i(232)]);let l,u=i(278),h=[];c[i(274)]((function(e){const r=i;if(u=r(280),Cesium.defined(l))return;let n=Hn(t,e.position);0==h.length&&(h[r(279)](n),h[r(279)](n)),l=t.entities[r(272)]({name:r(227),id:o,polyline:{positions:new(Cesium[r(275)])((function(){return h}),!1),width:s,material:a}}),l.GeoType=r(227)}),Cesium.ScreenSpaceEventType[i(259)]),c.setInputAction((function(e){const r=i;let n=e.endPosition;if(Cr(u,n,!0),h[r(241)]>1){let e=Hn(t,n);h[r(279)](e)}}),Cesium[i(235)][i(224)]),c[i(274)]((function(t){const r=i;l[r(229)]=h,e.push(l),c[r(240)](),Cr(u,t[r(246)],!1),typeof n==r(231)&&n(l)}),Cesium[i(235)][i(247)])};function On(){const t=["4348eFhLjQ","ScreenSpaceEventHandler","ScreenSpaceEventType","Cartographic","primitive","cartesianToCartographic","2223gnqglp","destroy","length","camera","getPickRay","RED","24QZhCjX","position","RIGHT_DOWN","Cesium3DTileset","Cartesian3","longitude","Math","8916jcoCff","7692510tbbDnQ","the id parameter is an unique value","pick","fromCartesian","alt","Cesium3DTileFeature","LEFT_CLICK","lon","no viewer object!","9KUGySw","WGS84","pickPosition","height","color","terrainProvider","EllipsoidTerrainProvider","34768euiThR","29peAVDh","Ellipsoid","add","latitude","setInputAction","CallbackProperty","scene","5500IHnKEG","左键点击开始绘制","push","右键结束绘制","globe","1273531CTkMQE","385650QLQntT","entities","Color","Model","MOUSE_MOVE","5857410aQFNgu","random","FreeLine","toDegrees","pottingPoint","charAt","function","canvas"];return(On=function(){return t})()}function Hn(t,e){const r=Un;let n=t[r(276)].drillPick(e),i=null,o=!1,a=!1;for(let a in n){let s=n[a];if((s&&s[r(237)]instanceof Cesium[r(258)]||s&&s.primitive instanceof Cesium[r(248)]||s&&s[r(237)]instanceof Cesium[r(223)])&&(o=!0),o&&(t[r(276)][r(255)](e),i=t[r(276)][r(264)](e),i)){let e=Cesium[r(236)][r(256)](i);e.height<0&&(e.height=0),i=jn(t,{lng:Cesium.Math[r(228)](e[r(250)]),lat:Cesium.Math[r(228)](e[r(273)]),alt:e[r(265)]})}}let s=t[r(267)]instanceof Cesium[r(268)];if(!o&&!s){let n=t[r(276)].camera[r(243)](e);if(!n)return null;i=t[r(276)].globe.pick(n,t[r(276)]),a=!0}if(!o&&!a&&s&&(i=t[r(276)][r(242)].pickEllipsoid(e,t[r(276)][r(281)].ellipsoid)),i){let e=function(t,e){const r=Un;let n=Cesium[r(271)][r(263)][r(238)](e);return{lng:Cesium[r(251)][r(228)](n[r(250)]),lat:Cesium[r(251)][r(228)](n[r(273)]),alt:n.height}}(0,i);return e[r(257)]<0&&(i=jn(t,e,.1)),i}return!1}function jn(t,e,r){const n=Un;return e?Cesium[n(249)].fromDegrees(e.lng||e[n(260)],e.lat,e.alt=r||e.alt,Cesium.Ellipsoid[n(263)]):Cesium[n(249)].ZERO}function Un(t,e){const r=On();return(Un=function(t,e){return r[t-=220]})(t,e)}!function(t,e){const r=Xn,n=t();for(;;)try{if(520711===-parseInt(r(313))/1*(-parseInt(r(277))/2)+parseInt(r(295))/3+parseInt(r(305))/4*(-parseInt(r(318))/5)+parseInt(r(282))/6+parseInt(r(292))/7+-parseInt(r(275))/8*(parseInt(r(260))/9)+parseInt(r(294))/10*(-parseInt(r(285))/11))break;n.push(n.shift())}catch(t){n.push(n.shift())}}(Zn);const Yn=function(t,e,r,n){const i=Xn;if(!t)throw new Error(i(309));let o=(r=r||{}).id||function(t){const e=Xn;let r=t||32,n=e(258),i=n.length,o="";for(let t=0;t<r;t++)o+=n[e(307)](Math[e(316)](Math[e(267)]()*i));return o}();if(t[i(279)][i(315)](o))throw new Error(i(310));let a=r[i(312)]||Cesium[i(291)][i(288)],s=r[i(321)]||2;const c=new(Cesium[i(299)])(t.canvas);let l,u=i(274),h=[];c[i(287)]((function(e){const r=i;u=r(303);let n=e[r(271)],c=Vn(t,n);0==h[r(280)]&&(h[r(293)](c),l=t.entities.add({name:"Polyline",id:o,polyline:{positions:new(Cesium[r(283)])((function(){return h}),!1),width:s,material:a}}),l.GeoType=r(306)),h[r(293)](c)}),Cesium[i(297)][i(322)]),c[i(287)]((function(e){const r=i;let n=e[r(266)];if(Cr(u,n,!0),Cesium.defined(l)){h.pop();let e=Vn(t,n);h[r(293)](e)}}),Cesium[i(297)].MOUSE_MOVE),c[i(287)]((function(t){const r=i;h[r(317)](),l[r(301)]=h,e[r(293)](l),c[r(296)](),Cr(u,t[r(271)],!1),typeof n==r(259)&&n(l)}),Cesium[i(297)].RIGHT_DOWN)};function Xn(t,e){const r=Zn();return(Xn=function(t,e){return r[t-=257]})(t,e)}function Vn(t,e){const r=Xn;let n=t[r(272)][r(284)](e),i=null,o=!1,a=!1;for(let a in n){let s=n[a];if((s&&s[r(273)]instanceof Cesium[r(324)]||s&&s[r(273)]instanceof Cesium[r(276)]||s&&s[r(273)]instanceof Cesium[r(262)])&&(o=!0),o&&(t[r(272)][r(311)](e),i=t[r(272)].pickPosition(e),i)){let e=Cesium[r(265)][r(278)](i);e[r(281)]<0&&(e[r(281)]=0),i=Qn(t,{lng:Cesium[r(270)][r(257)](e[r(290)]),lat:Cesium.Math[r(257)](e[r(320)]),alt:e[r(281)]})}}let s=t[r(268)]instanceof Cesium[r(300)];if(!o&&!s){let n=t[r(272)][r(298)][r(308)](e);if(!n)return null;i=t[r(272)][r(314)].pick(n,t[r(272)]),a=!0}if(!o&&!a&&s&&(i=t[r(272)][r(298)][r(261)](e,t[r(272)][r(314)][r(302)])),i){let e=function(t,e){const r=Xn;let n=Cesium[r(263)][r(289)][r(319)](e);return{lng:Cesium[r(270)][r(257)](n[r(290)]),lat:Cesium[r(270)][r(257)](n.latitude),alt:n.height}}(0,i);return e[r(304)]<0&&(i=Qn(t,e,.1)),i}return!1}function Qn(t,e,r){const n=Xn;return e?Cesium[n(323)][n(264)](e[n(269)]||e.lon,e.lat,e[n(304)]=r||e[n(304)],Cesium[n(263)][n(289)]):Cesium[n(323)][n(286)]}function Zn(){const t=["primitive","左键点击开始绘制","64BOyftg","Cesium3DTileset","19174xteRea","fromCartesian","entities","length","height","5442000zJfnGl","CallbackProperty","drillPick","613393LzJrkZ","ZERO","setInputAction","RED","WGS84","longitude","Color","2824101WGxemz","push","90MxzLIM","2845296tUWbFi","destroy","ScreenSpaceEventType","camera","ScreenSpaceEventHandler","EllipsoidTerrainProvider","pottingPoint","ellipsoid","左键添加点，右键结束绘制","alt","1261464CxTpdZ","Polyline","charAt","getPickRay","no viewer object!","the id parameter is an unique value","pick","color","67lSHfCJ","globe","getById","floor","pop","15IWQFsm","cartesianToCartographic","latitude","width","LEFT_CLICK","Cartesian3","Cesium3DTileFeature","toDegrees","ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678","function","1049094mRbvgT","pickEllipsoid","Model","Ellipsoid","fromDegrees","Cartographic","endPosition","random","terrainProvider","lng","Math","position","scene"];return(Zn=function(){return t})()}!function(t,e){const r=Kn,n=t();for(;;)try{if(985570===-parseInt(r(514))/1*(-parseInt(r(557))/2)+parseInt(r(513))/3*(parseInt(r(510))/4)+-parseInt(r(536))/5*(parseInt(r(517))/6)+-parseInt(r(519))/7*(-parseInt(r(531))/8)+-parseInt(r(530))/9*(-parseInt(r(543))/10)+-parseInt(r(516))/11+-parseInt(r(527))/12)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(qn);const Jn=function(t,e,r,n){const i=Kn;if(!t)throw new Error("no viewer object!");let o=(r=r||{}).id||function(t){const e=Kn;let r=t||32,n=e(534),i=n[e(501)],o="";for(let t=0;t<r;t++)o+=n.charAt(Math[e(544)](Math[e(562)]()*i));return o}();if(t.entities[i(522)](o))throw new Error("the id parameter is an unique value");let a=r[i(499)]||Cesium[i(496)].RED,s=r[i(507)]||2;const c=new(Cesium[i(494)])(t[i(524)]);let l,u,h=i(529),m=[];c[i(542)]((function(e){const r=i;h=r(511);let n=e[r(505)],o=ei(t,n),a=ni(t,o);0==m[r(501)]&&m[r(506)]({x:a.lng,y:a[r(503)]}),m[r(506)]({x:a[r(541)],y:a[r(503)]})}),Cesium[i(551)][i(535)]),c.setInputAction((function(e){const r=i;let n=e.endPosition;if(Cr(h,n,!0),m[r(501)]>0)if(Cesium[r(521)](l)){m[r(552)]();let e=ei(t,n),i=ni(t,e);m[r(506)]({x:i[r(541)],y:i[r(503)]});let o=$n(m),a=[];o.forEach((t=>{a[r(506)](t.x,t.y)})),u=Cesium.Cartesian3[r(538)](a)}else{let e=$n(m),n=[];e[r(548)]((t=>{n[r(506)](t.x,t.y)})),u=Cesium[r(492)].fromDegreesArray(n),l=t[r(556)][r(561)]({name:r(493),id:o,polyline:{positions:new(Cesium[r(515)])((function(){return u}),!1),width:s,material:a}}),l.GeoType=r(493)}}),Cesium[i(551)].MOUSE_MOVE),c[i(542)]((function(t){const r=i;l[r(508)]=m,e[r(506)](l),c[r(549)](),Cr(h,t[r(505)],!1),typeof n==r(491)&&n(l)}),Cesium[i(551)][i(512)])};function qn(){const t=["CallbackProperty","2898775nHdbeH","6eGYdTS","toDegrees","4052027CYEoKM","fromDegrees","defined","getById","Math","canvas","primitive","cartesianToCartographic","45838524ERWQeJ","Cesium3DTileFeature","左键点击开始绘制","207OqzlPP","16xKBvxj","Cesium3DTileset","longitude","ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678","LEFT_CLICK","218155VNsVsV","lon","fromDegreesArray","height","WGS84","lng","setInputAction","523790AhYxpC","floor","drillPick","camera","fromCartesian","forEach","destroy","pick","ScreenSpaceEventType","pop","pickEllipsoid","ellipsoid","ZERO","entities","505294OYzNxr","Cartographic","pow","globe","add","random","function","Cartesian3","Curve","ScreenSpaceEventHandler","terrainProvider","Color","Ellipsoid","alt","color","latitude","length","pickPosition","lat","scene","position","push","width","pottingPoint","Model","16GdqLqg","左键添加点，右键结束绘制","RIGHT_DOWN","1304682eeuUil","4SysIha"];return(qn=function(){return t})()}function Kn(t,e){const r=qn();return(Kn=function(t,e){return r[t-=491]})(t,e)}function $n(t){const e=Kn;let r=[];for(let n=0;n<=100;n++){let i=ti(t,n/100);r[e(506)](i)}return r}function ti(t,e){const r=Kn;let n=0,i=0,o=function(t){let e=t[Kn(501)],r=[];r.push(1);for(let t=1;t<e-1;t++){let n=1,i=1;for(let r=0;r<t;r++)n*=e-1-r,i*=t-r;r.push(n/i)}return r.push(1),r}(t);for(let a=0;a<t[r(501)];a++){let s=t[a];n+=s.x*Math[r(559)](1-e,t.length-1-a)*Math.pow(e,a)*o[a],i+=s.y*Math[r(559)](1-e,t.length-1-a)*Math[r(559)](e,a)*o[a]}return{x:n,y:i}}function ei(t,e){const r=Kn;let n=t[r(504)][r(545)](e),i=null,o=!1,a=!1;for(let a in n){let s=n[a];if((s&&s[r(525)]instanceof Cesium[r(528)]||s&&s[r(525)]instanceof Cesium[r(532)]||s&&s.primitive instanceof Cesium[r(509)])&&(o=!0),o&&(t[r(504)][r(550)](e),i=t[r(504)][r(502)](e),i)){let e=Cesium[r(558)][r(547)](i);e[r(539)]<0&&(e[r(539)]=0),i=ri(t,{lng:Cesium[r(523)][r(518)](e[r(533)]),lat:Cesium.Math[r(518)](e[r(500)]),alt:e[r(539)]})}}let s=t[r(495)]instanceof Cesium.EllipsoidTerrainProvider;if(!o&&!s){let n=t[r(504)][r(546)].getPickRay(e);if(!n)return null;i=t[r(504)][r(560)][r(550)](n,t[r(504)]),a=!0}if(!o&&!a&&s&&(i=t[r(504)][r(546)][r(553)](e,t[r(504)][r(560)][r(554)])),i){let e=ni(t,i);return e[r(498)]<0&&(i=ri(t,e,.1)),i}return!1}function ri(t,e,r){const n=Kn;return e?Cesium[n(492)][n(520)](e.lng||e[n(537)],e[n(503)],e[n(498)]=r||e[n(498)],Cesium[n(497)][n(540)]):Cesium[n(492)][n(555)]}function ni(t,e){const r=Kn;let n=Cesium[r(497)].WGS84[r(526)](e);return{lng:Cesium[r(523)].toDegrees(n[r(533)]),lat:Cesium.Math[r(518)](n[r(500)]),alt:n[r(539)]}}!function(t,e){const r=ci,n=t();for(;;)try{if(100029===-parseInt(r(142))/1+parseInt(r(172))/2+parseInt(r(128))/3+-parseInt(r(146))/4+-parseInt(r(144))/5*(parseInt(r(143))/6)+-parseInt(r(170))/7*(-parseInt(r(159))/8)+-parseInt(r(149))/9*(parseInt(r(174))/10))break;n.push(n.shift())}catch(t){n.push(n.shift())}}(oi);const ii=function(t,e,r,n){const i=ci;if(!t)throw new Error(i(122));let o=(r=r||{}).id||function(t){const e=ci;let r=t||32,n=e(125),i=n[e(132)],o="";for(let t=0;t<r;t++)o+=n[e(162)](Math[e(123)](Math[e(179)]()*i));return o}();if(t[i(167)][i(178)](o))throw new Error(i(176));let a=r[i(148)]||Cesium[i(134)][i(177)],s=a[i(138)](1);const c=new(Cesium[i(157)])(t[i(171)]);let l,u="左键点击开始绘制",h=[];c[i(175)]((function(e){const r=i;if(u=r(185),Cesium.defined(l))return;let n=ai(t,e.position);if(0==h.length){h[r(136)](n);let e=new(Cesium[r(160)])((function(){return new(Cesium[r(152)])(h)}),!1);l=t[r(167)][r(187)]({name:"FreePolygon",id:o,polygon:{hierarchy:e,material:a,outline:!0,outlineColor:s,height:0}}),l[r(130)]="FreePolygon"}h[r(136)](n)}),Cesium[i(188)][i(126)]),c[i(175)]((function(e){const r=i;let n=e[r(180)];if(Cr(u,n,!0),Cesium[r(158)](l)){let e=ai(t,n);h.push(e)}}),Cesium[i(188)][i(140)]),c[i(175)]((function(t){const r=i;l[r(166)]=h,e[r(136)](l),c[r(164)](),Cr(u,t[r(139)],!1),"function"==typeof n&&n(l)}),Cesium[i(188)].RIGHT_DOWN)};function oi(){const t=["canvas","227388yWZPqf","cartesianToCartographic","91270WKXXjU","setInputAction","the id parameter is an unique value","RED","getById","random","endPosition","Ellipsoid","Cartographic","Cesium3DTileset","pick","右键结束绘制","ellipsoid","add","ScreenSpaceEventType","latitude","no viewer object!","floor","terrainProvider","ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678","LEFT_CLICK","alt","23949txhObs","Model","GeoType","height","length","scene","Color","getPickRay","push","EllipsoidTerrainProvider","withAlpha","position","MOUSE_MOVE","Cartesian3","10086MQEtZj","63138qUENKn","5QjvBou","camera","86084fSuaZu","globe","color","108JmARPn","Cesium3DTileFeature","WGS84","PolygonHierarchy","primitive","ZERO","toDegrees","pickEllipsoid","ScreenSpaceEventHandler","defined","16SHUhGB","CallbackProperty","pickPosition","charAt","lng","destroy","drillPick","pottingPoint","entities","Math","longitude","455021WenXXk"];return(oi=function(){return t})()}function ai(t,e){const r=ci;let n=t.scene[r(165)](e),i=null,o=!1,a=!1;for(let a in n){let s=n[a];if((s&&s[r(153)]instanceof Cesium[r(150)]||s&&s.primitive instanceof Cesium[r(183)]||s&&s.primitive instanceof Cesium[r(129)])&&(o=!0),o&&(t[r(133)][r(184)](e),i=t[r(133)][r(161)](e),i)){let e=Cesium[r(182)].fromCartesian(i);e[r(131)]<0&&(e.height=0),i=si(t,{lng:Cesium[r(168)].toDegrees(e.longitude),lat:Cesium.Math[r(155)](e[r(121)]),alt:e.height})}}let s=t[r(124)]instanceof Cesium[r(137)];if(!o&&!s){let n=t[r(133)][r(145)][r(135)](e);if(!n)return null;i=t[r(133)][r(147)][r(184)](n,t[r(133)]),a=!0}if(!o&&!a&&s&&(i=t[r(133)][r(145)][r(156)](e,t[r(133)][r(147)][r(186)])),i){let e=function(t,e){const r=ci;let n=Cesium[r(181)][r(151)][r(173)](e);return{lng:Cesium[r(168)].toDegrees(n[r(169)]),lat:Cesium[r(168)].toDegrees(n[r(121)]),alt:n[r(131)]}}(0,i);return e.alt<0&&(i=si(t,e,.1)),i}return!1}function si(t,e,r){const n=ci;return e?Cesium[n(141)].fromDegrees(e[n(163)]||e.lon,e.lat,e[n(127)]=r||e.alt,Cesium[n(181)][n(151)]):Cesium[n(141)][n(154)]}function ci(t,e){const r=oi();return(ci=function(t,e){return r[t-=121]})(t,e)}function li(){const t=["longitude","scene","Color","lng","floor","ScreenSpaceEventType","左键点击开始绘制","primitive","19314SDqSqu","toDegrees","no viewer object!","Math","entities","lon","endPosition","pottingPoint","Cesium3DTileFeature","ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678","push","GeoType","7FMPsbn","random","color","Cartesian3","function","setInputAction","RIGHT_DOWN","ellipsoid","charAt","cartesianToCartographic","destroy","withAlpha","1247120fzgBLy","latitude","getById","getPickRay","terrainProvider","MOUSE_MOVE","CallbackProperty","globe","18rRqDLy","canvas","add","pick","fromCartesian","左键添加第二个顶点","340280IttNdY","2QOsaso","pop","position","alt","camera","715809zquere","Polygon","5654526UHJKLf","drillPick","pickEllipsoid","length","Ellipsoid","WGS84","PolygonHierarchy","3651650sgKBQa","fromDegrees","height","3211124wNBMXA","RED"];return(li=function(){return t})()}!function(t,e){const r=pi,n=t();for(;;)try{if(512390===-parseInt(r(518))/1+parseInt(r(513))/2*(parseInt(r(540))/3)+parseInt(r(530))/4+parseInt(r(498))/5+-parseInt(r(520))/6*(-parseInt(r(486))/7)+-parseInt(r(512))/8+parseInt(r(506))/9*(-parseInt(r(527))/10))break;n.push(n.shift())}catch(t){n.push(n.shift())}}(li);const ui=function(t,e,r,n){const i=pi;if(!t)throw new Error(i(476));let o=(r=r||{}).id||function(t){const e=pi;let r=t||32,n=e(483),i=n.length,o="";for(let t=0;t<r;t++)o+=n[e(494)](Math[e(536)](Math[e(487)]()*i));return o}();if(t[i(478)][i(500)](o))throw new Error("the id parameter is an unique value");let a=r[i(488)]||Cesium[i(534)][i(531)],s=a[i(497)](1);const c=new Cesium.ScreenSpaceEventHandler(t[i(507)]);let l,u=i(538),h=[];c[i(491)]((function(e){const r=i;let n=e[r(515)],c=hi(t,n);if(0==h[r(523)]){u=r(511),h[r(484)](c);let e=new(Cesium[r(504)])((function(){return new(Cesium[r(526)])(h)}),!1);l=t[r(478)][r(508)]({name:"Polygon",id:o,polygon:{hierarchy:e,material:a,outline:!0,outlineColor:s,height:0}}),l[r(485)]=r(519)}else u="左键添加点，右键完成绘制";h[r(484)](c)}),Cesium[i(537)].LEFT_CLICK),c[i(491)]((function(e){const r=i;let n=e[r(480)];if(Cr(u,n,!0),Cesium.defined(l)){h[r(514)]();let e=hi(t,n);h.push(e)}}),Cesium.ScreenSpaceEventType[i(503)]),c[i(491)]((function(t){const r=i;h[r(514)](),l[r(481)]=h,e[r(484)](l),c[r(496)](),Cr(u,t[r(515)],!1),typeof n==r(490)&&n(l)}),Cesium[i(537)][i(492)])};function hi(t,e){const r=pi;let n=t[r(533)][r(521)](e),i=null,o=!1,a=!1;for(let a in n){let s=n[a];if((s&&s[r(539)]instanceof Cesium[r(482)]||s&&s[r(539)]instanceof Cesium.Cesium3DTileset||s&&s.primitive instanceof Cesium.Model)&&(o=!0),o&&(t[r(533)][r(509)](e),i=t[r(533)].pickPosition(e),i)){let e=Cesium.Cartographic[r(510)](i);e[r(529)]<0&&(e.height=0),i=mi(t,{lng:Cesium[r(477)][r(475)](e[r(532)]),lat:Cesium[r(477)][r(475)](e[r(499)]),alt:e.height})}}let s=t[r(502)]instanceof Cesium.EllipsoidTerrainProvider;if(!o&&!s){let n=t.scene[r(517)][r(501)](e);if(!n)return null;i=t.scene.globe[r(509)](n,t[r(533)]),a=!0}if(!o&&!a&&s&&(i=t[r(533)][r(517)][r(522)](e,t[r(533)][r(505)][r(493)])),i){let e=function(t,e){const r=pi;let n=Cesium[r(524)].WGS84[r(495)](e);return{lng:Cesium[r(477)][r(475)](n[r(532)]),lat:Cesium[r(477)][r(475)](n[r(499)]),alt:n.height}}(0,i);return e[r(516)]<0&&(i=mi(t,e,.1)),i}return!1}function mi(t,e,r){const n=pi;return e?Cesium[n(489)][n(528)](e[n(535)]||e[n(479)],e.lat,e[n(516)]=r||e.alt,Cesium[n(524)][n(525)]):Cesium[n(489)].ZERO}function pi(t,e){const r=li();return(pi=function(t,e){return r[t-=475]})(t,e)}!function(t,e){const r=gi,n=t();for(;;)try{if(975003===-parseInt(r(316))/1+-parseInt(r(288))/2+-parseInt(r(313))/3+parseInt(r(291))/4*(-parseInt(r(270))/5)+parseInt(r(289))/6*(-parseInt(r(297))/7)+-parseInt(r(285))/8*(parseInt(r(302))/9)+-parseInt(r(305))/10*(-parseInt(r(308))/11))break;n.push(n.shift())}catch(t){n.push(n.shift())}}(di);const fi=function(t,e,r,n){const i=gi;if(!t)throw new Error("no viewer object!");let o=(r=r||{}).id||function(t){const e=gi;let r=t||32,n=e(271),i=n[e(275)],o="";for(let t=0;t<r;t++)o+=n[e(276)](Math[e(321)](Math[e(301)]()*i));return o}();if(t[i(266)].getById(o))throw new Error(i(324));let a,s,c,l=r[i(315)]&&r[i(315)]>2?r[i(315)]:5,u=r[i(295)]||Cesium[i(277)][i(269)],h=u[i(290)](1),m=i(327),p=[];const f=new(Cesium[i(307)])(t[i(323)]);f.setInputAction((function(e){const r=i;if(m=r(287),Cesium[r(282)](c))return;let n=e[r(331)];a=vi(t,n),s=Ci(t,a);let f=yi(a,1,l);p=f;let d=new(Cesium[r(263)])((function(){return new(Cesium[r(281)])(p)}),!1);c=t[r(266)][r(318)]({name:"RegularPolygon",id:o,polygon:{hierarchy:d,material:u,outline:!0,outlineColor:h,height:0}}),c[r(319)]="RegularPolygon"}),Cesium.ScreenSpaceEventType.LEFT_CLICK),f.setInputAction((function(e){const r=i;let n=e.endPosition;if(Cr(m,n,!0),Cesium[r(282)](c)){const e=vi(t,n),i=Ci(t,e);let o=Cesium[r(322)][r(267)](new(Cesium[r(322)][r(265)])(s.lng,s[r(328)],0),new(Cesium[r(322)][r(265)])(i[r(320)],i.lat,0)),c=yi(a,o,l);p=c}}),Cesium[i(311)].MOUSE_MOVE),f.setInputAction((function(t){const r=i;c[r(325)]=p,e[r(286)](c),f[r(278)](),Cr(m,t.position,!1),"function"==typeof n&&n(c)}),Cesium.ScreenSpaceEventType[i(268)])};function di(){const t=["pickEllipsoid","1631720wUfKLM","push","右键结束绘制","2334456ielmfM","12ciwByI","withAlpha","40380GyDoFp","primitive","EllipseOutlineGeometry","values","color","Ellipsoid","3882662toZZGA","drillPick","latitude","cartesianToCartographic","random","36PRtNGJ","alt","fromCartesian","65641720LpEMAT","ZERO","ScreenSpaceEventHandler","11aqpdUC","longitude","EllipsoidTerrainProvider","ScreenSpaceEventType","pick","181329fjnXYA","getPickRay","num","1224906STAmvo","attributes","add","GeoType","lng","floor","Cartesian3","canvas","the id parameter is an unique value","pottingPoint","scene","左键点击开始绘制","lat","terrainProvider","ellipsoid","position","Cesium3DTileset","CallbackProperty","height","fromDegrees","entities","distance","RIGHT_DOWN","RED","600TjWQMu","ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678","globe","toDegrees","WGS84","length","charAt","Color","destroy","createGeometry","Math","PolygonHierarchy","defined","lon"];return(di=function(){return t})()}function gi(t,e){const r=di();return(gi=function(t,e){return r[t-=263]})(t,e)}function yi(t,e,r){const n=gi;let i=new(Cesium[n(293)])({center:t,semiMajorAxis:e,semiMinorAxis:e,granularity:1e-4}),o=[],a=new(Cesium[n(293)][n(279)])(i)[n(317)].position[n(294)];if(!a)return;let s=a[n(275)]/3;for(let t=0;t<s;t++){let e=new Cesium.Cartesian3(a[3*t],a[3*t+1],a[3*t+2]);o[n(286)](e)}let c=[],l=Math.floor(o[n(275)]/r);for(let t=0;t<r;t++)c[n(286)](o[t*l]);return c}function vi(t,e){const r=gi;let n=t[r(326)][r(298)](e),i=null,o=!1,a=!1;for(let a in n){let s=n[a];if((s&&s[r(292)]instanceof Cesium.Cesium3DTileFeature||s&&s[r(292)]instanceof Cesium[r(332)]||s&&s[r(292)]instanceof Cesium.Model)&&(o=!0),o&&(t.scene.pick(e),i=t[r(326)].pickPosition(e),i)){let e=Cesium.Cartographic[r(304)](i);e[r(264)]<0&&(e[r(264)]=0),i=Ii(t,{lng:Cesium.Math[r(273)](e[r(309)]),lat:Cesium[r(280)].toDegrees(e[r(299)]),alt:e[r(264)]})}}let s=t[r(329)]instanceof Cesium[r(310)];if(!o&&!s){let n=t[r(326)].camera[r(314)](e);if(!n)return null;i=t.scene[r(272)][r(312)](n,t.scene),a=!0}if(!o&&!a&&s&&(i=t[r(326)].camera[r(284)](e,t[r(326)].globe[r(330)])),i){let e=Ci(t,i);return e.alt<0&&(i=Ii(t,e,.1)),i}return!1}function Ii(t,e,r){const n=gi;return e?Cesium[n(322)].fromDegrees(e[n(320)]||e[n(283)],e[n(328)],e[n(303)]=r||e[n(303)],Cesium[n(296)][n(274)]):Cesium[n(322)][n(306)]}function Ci(t,e){const r=gi;let n=Cesium[r(296)][r(274)][r(300)](e);return{lng:Cesium[r(280)][r(273)](n[r(309)]),lat:Cesium[r(280)][r(273)](n.latitude),alt:n.height}}const xi=Mi;function wi(){const t=["polyline","length","320982xzTZRT","CreatePincerArrow","CreateAttackArrow","stagingArea","no viewer object!","polygon","65376cMGBNp","CreatePolygon","2923216dXqaZa","resultObject","splice","swallowtailArrow","remove","CreateRegularPolygon","regularPolygon","pincerArrow","CreateFlag","CreateSector","1198175JSlSVt","curve","CreateFreePolygon","38392MBhaEz","clearAll","CreatePolyline","hasOwnProperty","4bbaTKk","entities","295784Kqqprz","CreateCurve","bow","sector","attackArrow","3109085gmGCKk","1360eIcEXh","freeLine","CreateLineArrow","6OrBovk","flag","rightAngleArrow","CreateStagingArea","viewer"];return(wi=function(){return t})()}function Mi(t,e){const r=wi();return(Mi=function(t,e){return r[t-=264]})(t,e)}!function(t,e){const r=Mi,n=t();for(;;)try{if(230882===parseInt(r(266))/1+-parseInt(r(303))/2+-parseInt(r(282))/3*(parseInt(r(264))/4)+parseInt(r(300))/5+-parseInt(r(275))/6*(-parseInt(r(271))/7)+parseInt(r(290))/8+-parseInt(r(288))/9*(parseInt(r(272))/10))break;n.push(n.shift())}catch(t){n.push(n.shift())}}(wi);class _i{constructor(t){const e=Mi;if(!t)throw new Error(e(286));this[e(279)]=t,this.resultObject={lineArrow:[],swallowtailArrow:[],rightAngleArrow:[],roundRectangle:[],sector:[],bow:[],pincerArrow:[],attackArrow:[],stagingArea:[],flag:[],freeLine:[],polyline:[],curve:[],freePolygon:[],polygon:[],regularPolygon:[]}}[xi(295)](t,e){const r=xi;fi(this[r(279)],this[r(291)][r(296)],t,e)}[xi(289)](t,e){const r=xi;ui(this.viewer,this[r(291)][r(287)],t,e)}[xi(302)](t,e){const r=xi;ii(this[r(279)],this[r(291)].freePolygon,t,e)}[xi(267)](t,e){const r=xi;Jn(this.viewer,this[r(291)][r(301)],t,e)}[xi(305)](t,e){const r=xi;Yn(this[r(279)],this.resultObject[r(280)],t,e)}CreateFreeLine(t,e){const r=xi;Wn(this[r(279)],this.resultObject[r(273)],t,e)}[xi(298)](t,e){const r=xi;Fn(this.viewer,this[r(291)][r(276)],t,e)}[xi(278)](t,e){const r=xi;Tn(this[r(279)],this[r(291)][r(285)],t,e)}[xi(284)](t,e){const r=xi;wn(this.viewer,this[r(291)][r(270)],t,e)}[xi(283)](t,e){const r=xi;vn(this[r(279)],this.resultObject[r(297)],t,e)}CreateBow(t,e){const r=xi;tn(this[r(279)],this.resultObject[r(268)],t,e)}[xi(299)](t,e){const r=xi;Vr(this.viewer,this[r(291)][r(269)],t,e)}CreateRoundRectangle(t,e){Hr(this.viewer,this.resultObject.roundRectangle,t,e)}CreateRightAngleArrow(t,e){const r=xi;Rr(this.viewer,this[r(291)][r(277)],t,e)}[xi(274)](t,e){Mr(this.viewer,this[xi(291)].lineArrow,t,e)}CreateSwallowtailArrow(t,e){const r=xi;Ar(this[r(279)],this[r(291)][r(293)],t,e)}[xi(304)](){const t=xi;for(const e in this[t(291)])if(Object[t(306)].call(this.resultObject,e)){const r=this[t(291)][e];for(let e=0;e<r[t(281)];e++){const n=r[e];this[t(279)][t(265)][t(294)](n),r[t(292)](e,1),e-=1}}}}const bi=Pi;function Pi(t,e){const r=Ei();return(Pi=function(t,e){return r[t-=262]})(t,e)}!function(t,e){const r=Pi,n=t();for(;;)try{if(273485===-parseInt(r(282))/1+parseInt(r(286))/2+-parseInt(r(280))/3*(parseInt(r(285))/4)+parseInt(r(281))/5*(parseInt(r(296))/6)+-parseInt(r(288))/7*(parseInt(r(278))/8)+parseInt(r(293))/9*(-parseInt(r(299))/10)+-parseInt(r(263))/11*(-parseInt(r(292))/12))break;n.push(n.shift())}catch(t){n.push(n.shift())}}(Ei);class Ti{constructor(t){const e=Pi,{color:r,dimensions:n,position:i,hpr:o,scene:a}=t;this[e(266)]=a,this[e(265)]=o||new(v[e(290)]),this[e(267)]=i,this[e(284)]=n||new v.Cartesian3(100,100,100),this[e(275)]=r||v[e(287)][e(294)],this[e(291)]=new(v[e(273)]),this[e(266)][e(276)][e(271)](this[e(291)]),this._init()}_getModelMatrix(){const t=Pi,e=v[t(279)][t(295)](this[t(265)],new(v[t(279)]));return v[t(283)][t(268)](v.Matrix4[t(289)],v[t(283)][t(298)](e,this[t(267)]),new v.Matrix4)}[bi(272)](){const t=bi;return new(v[t(277)])({geometry:v.BoxGeometry.fromDimensions({dimensions:this._dimensions,vertexFormat:v[t(269)].VERTEX_FORMAT}),modelMatrix:this[t(297)](),attributes:{color:v.ColorGeometryInstanceAttribute.fromColor(this[t(275)])}})}[bi(264)](){const t=bi;let e=new v.Primitive({geometryInstances:this._getGeometry(),appearance:new(v[t(269)])({closed:!0,translucent:!1}),modelMatrix:v[t(283)][t(289)]});this[t(291)][t(271)](e)}[bi(262)](){const t=bi;return this[t(266)][t(276)][t(274)](this[t(291)]),v[t(270)](this)}}function Ei(){const t=["11XWdOdE","_init","_hpr","_scene","_position","multiply","PerInstanceColorAppearance","destroyObject","add","_getGeometry","PrimitiveCollection","remove","_color","primitives","GeometryInstance","8DFibIP","Matrix3","1467swpoUp","604985HLCXYh","484563RptpQA","Matrix4","_dimensions","1424SyljyP","944564kvSpqP","Color","403732UfiZGS","IDENTITY","HeadingPitchRoll","_delegate","6315276QOXQjK","194616ukElgW","RED","fromHeadingPitchRoll","6nVZvAE","_getModelMatrix","fromRotationTranslation","60HqQJCS","destroy"];return(Ei=function(){return t})()}const Ai=zi;function Si(){const t=["5742csbVxk","disabled","restore","7176FCJnya","7397vNhGwP","99882rXxWSG","10xkTSuB","7tZoZHU","removed","enabled","892338UUKvTN","installed","4QCjGrq","cleared","2QCAIve","added","121963SoiRAT","1161786woXyrP","play","initialized","8370KELkrf","274712pTwdQr"];return(Si=function(){return t})()}function zi(t,e){const r=Si();return(zi=function(t,e){return r[t-=248]})(t,e)}!function(t,e){const r=zi,n=t();for(;;)try{if(285190===-parseInt(r(262))/1*(-parseInt(r(260))/2)+-parseInt(r(256))/3*(parseInt(r(258))/4)+-parseInt(r(252))/5*(-parseInt(r(263))/6)+-parseInt(r(253))/7*(parseInt(r(267))/8)+parseInt(r(251))/9+-parseInt(r(266))/10*(-parseInt(r(268))/11)+-parseInt(r(249))/12*(parseInt(r(250))/13))break;n.push(n.shift())}catch(t){n.push(n.shift())}}(Si);const Di={INITIALIZED:Ai(265),ADDED:Ai(261),REMOVED:Ai(254),CLEARED:Ai(259),INSTALLED:Ai(257),ENABLED:Ai(255),DISABLED:Ai(269),PLAY:Ai(264),PAUSE:"pause",RESTORE:Ai(248)};const Ri=ki;function ki(t,e){const r=Fi();return(ki=function(t,e){return r[t-=188]})(t,e)}function Fi(){const t=["initializeTerrainHeights","restore","bottomRadius","_scene","1039464TWnMuF","_updatePrimitives","PolygonHierarchy","createGeometry","_getParticlesImage","fromCartesian","clearRect","canvas","_state","strokeStyle","scene","_createCylinderInstance","4239FqnwPd","CircleRotateType","PolygonGeometry","width","_length","topRadius","_computeEllipsePositions","GeometryInstance","GroundPrimitive","fetchImage","height","Primitive","alt","1622500AvWWMI","_bottomRadius","values","CylinderFadeType","rgba(255,255,255,0)","length","fromType","ORANGE","14723250YMghMR","PrimitiveCollection","CircleRingType","then","Cartographic","attributes","2124248WjalDY","_topRadius","_center","Material","EllipseGeometryLibrary","removeAll","Color","slice","center","add","setLineDash","8768rZzXAn","16XufgvY","EllipsoidSurfaceAppearance","_getCircleImage","push","merge","update","primitives","_delegate","arc","_style","keys","destroy","4cqLBNS","drawImage","fillStyle","Cartesian3","toCartesian","appearance","_mountedHook","createElement","86049lDgCSu","rgba(255, 255, 255,255)","indices","outerPositions","color","1824906enOiLO"];return(Fi=function(){return t})()}!function(t,e){const r=ki,n=t();for(;;)try{if(681739===-parseInt(r(242))/1*(parseInt(r(222))/2)+parseInt(r(247))/3*(parseInt(r(234))/4)+-parseInt(r(196))/5+-parseInt(r(252))/6+parseInt(r(210))/7+-parseInt(r(221))/8*(parseInt(r(264))/9)+parseInt(r(204))/10)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(Fi);class Li{constructor(t){const e=ki;this._scene=t[e(262)],this._center=t[e(218)],this[e(268)]=t[e(201)]||1e3,this[e(211)]=t[e(188)]||1,this[e(197)]=t.bottomRadius||50,this[e(229)]=new(v[e(205)]),this[e(231)]={color:t[e(246)]||v[e(216)][e(203)]},this[e(260)]=Di.INITIALIZED,this._updatePrimitives(),this[e(251)][e(228)][e(219)](this[e(229)])}set center(t){const e=ki;return this[e(212)]=Parse.parsePosition(t),this[e(253)](),this}get center(){return this[ki(212)]}set[Ri(201)](t){const e=Ri;return this._length=t,this[e(253)](),this}get[Ri(201)](){return this[Ri(268)]}set topRadius(t){const e=Ri;return this[e(211)]=t,this[e(253)](),this}get[Ri(188)](){return this[Ri(211)]}set[Ri(250)](t){const e=Ri;return this[e(197)]=t,this[e(253)](),this}get bottomRadius(){return this[Ri(197)]}[Ri(189)](t,e){const r=Ri;let n=v[r(214)].computeEllipsePositions({center:t,semiMajorAxis:e,semiMinorAxis:e,rotation:0,granularity:.005},!1,!0),i=v[r(237)].unpackArray(n[r(245)]);return i[r(225)](i[0]),i}[Ri(263)](t,e,r){const n=Ri;let i=e[n(217)](),o=e.length,a=2*o,s=[],c=1/(o-1),l=[],u=[];const h=(t,e=0)=>{const r=n;let i=v.Cartographic[r(257)](t);return i.height+=e,v[r(208)][r(238)](i)};for(let e=0;e<o;e++){u[n(225)](h(t[e],r)),s.push(e*c,0);let i=(e+1)%o,m=a-(e+1);l[n(225)](m-1,m,e),l[n(225)](e,i,m-1)}for(let t in u)i[n(225)](u[o-t-1]),s.push(1-t*c,1);let m=v.PolygonGeometry[n(255)](new(v[n(266)])({polygonHierarchy:new(v[n(254)])(i),perPositionHeight:!0}));return m[n(244)]=l,m[n(209)].st[n(198)]=s,new(v[n(190)])({geometry:m})}[Ri(224)](){const t=Ri;let e=document[t(241)]("canvas");e.width=512,e[t(193)]=512;let r=e.getContext("2d");return r[t(236)]=t(200),r[t(261)]=t(243),r[t(220)]([50,50]),r.lineWidth=30,r.beginPath(),r[t(230)](256,256,150,0,2*Math.PI,!0),r.stroke(),r[t(249)](),e}_getParticlesImage(t){const e=Ri;let r=document[e(241)](e(259));r[e(267)]=64,r[e(193)]=256;let n=r.getContext("2d");return n[e(258)](0,0,64,256),n[e(235)](t,0,0),n[e(235)](t,33,0),r}[Ri(253)](){const t=Ri;this[t(229)][t(215)]();const e=0===this._center[t(195)];let r=this._computeEllipsePositions(this._center,this[t(211)]),n=this[t(189)](this[t(212)],.7*this._bottomRadius),i=this[t(189)](this[t(212)],this[t(197)]);const o={geometryInstances:new(v[t(190)])({geometry:new v.PolygonGeometry({polygonHierarchy:new(v[t(254)])(this[t(189)](this[t(212)],2*this[t(197)])),perPositionHeight:!e}),asynchronous:!0})};let a=e?new(v[t(191)])(o):new(v[t(194)])(o);a[t(239)]=new(v[t(223)])({material:v[t(213)][t(202)](v[t(213)][t(206)],{color:this[t(231)][t(246)]})});let s=e?new(v[t(191)])(o):new(v[t(194)])(o);s[t(239)]=new(v[t(223)])({material:v[t(213)][t(202)](v.Material[t(265)],{color:this._style[t(246)],image:this[t(224)]()})});let c=new v.Primitive({geometryInstances:this[t(263)](r,n,this[t(268)]),appearance:new(v[t(223)])({material:v.Material[t(202)](v[t(213)][t(199)],{color:this[t(231)][t(246)]})}),asynchronous:!1});e?v[t(191)][t(248)]()[t(207)]((()=>{const e=t;this[e(229)][e(219)](a),this._delegate.add(s),this[e(229)][e(219)](c)})):(this._delegate.add(a),this[t(229)][t(219)](s),this[t(229)].add(c)),v.Resource[t(192)]({url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAEACAYAAADSoXR2AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjExQTg0NDEyMDEzQjExRUFBNDhBRjhGMUMzOUUyNTU0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjExQTg0NDEzMDEzQjExRUFBNDhBRjhGMUMzOUUyNTU0Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTFBODQ0MTAwMTNCMTFFQUE0OEFGOEYxQzM5RTI1NTQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MTFBODQ0MTEwMTNCMTFFQUE0OEFGOEYxQzM5RTI1NTQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz41vRwAAAAE90lEQVR42uydyW4UMRCG3T2dgYSAEGs4sp44cCJBcGUJbwCvALwWPAI8ABwAiUVwgLBdkEikJEiAGMhkZqhfU1aa1sy0g+yaJPyWSupOpPjz0uVyucrJer2eG2fJ3ZgLAQhAgC0PgN8XIlkqgGLE75oih0WmRVZEvop0rHog18rnRe6IzInsthyCXFt+TuSKyGmRXZZDgK5eFrkv8l7kiUhrxN/JSo3pigSvcNmI1bCh3b5LK2+NqHyvyEF9x3z5HgqRRViOAXhW5JrCoNdei/y20gMYxhmRSyIXRY6JTMT4DENLW+SdyD19x/NajDmwmYIW79Hnn+MA4GJEAAIQgABJbMJB+n5Sl9zWZvR9DABUfkJkVt8fi3zUldAEoKl24Y2S1fPZEmBdZFHkkb4vxTLRQ5djbyUf0ncYrD/UADUB8MZno2Q19yx7gIqIAAQgAAEIQIAtYZT+85LvRnjQCoPKR3rQUgN4Y3ZeK30g8qps0qeeAzDn4TWD9+ySG+BBS90DaGnVg9a2tgnR4il9/jkOACoiAhCAAASIZpAAFl6yulO0JACo/IDrn6CedP1zxOciv6wAYNnAP3RVBeWtJQCWzG8iL/X9g4vkqNzMctzUXtintt2KM/aS+bmQaY90rb8CF6tSKiICEIAABCAAAQiwbfcFIWVCbUcc9bZDLKiYAKj4uOv7Bb+ILLj+8W7PCgC7Jhzv44Qdh9yrru8V61jPgd645gD2io+15RiC5ZA5ENNPmGmDmtrta9YAVEQE2FlrQUM/J6efU8cSAD87ojodBaccS6kgiiErGiq/qe93XT+3oGU5BJnbyKrIUs6BQZoQUEcrQ7CYagiGqeKiMgnXLXsg5uJUm/RQJKy8fGS7PMw6SgVQPrJFGZr0kCfUL/7IFjIzrLGpemBQ0kPbehL6I9vMjUh6oEVEAAIQgAAEIAABdpyj0qcK71YrqGUJANNrv+sHOcAiRpDDM1cTY1BEHk7kqyP/2Ac5vLEEQEG8aDnIoTb5ObZRWg5ywG5o1dX4ClNYxT7IISgJPsXGpLut9MCWU0S5bqkmdAa3LQEwcZDAfkZ3tthQfkwNkVeeD6kiuaUabcp6DpS9YyalrAdQ8bT1EFQVUabarND9fNuyB2gREYAABCAAAQhAAAIQoM770UgBXARCIr/koDogVlzgrWuxemBKd0m4JnBed0+5ZQ9gn3BK5LK+P4y5ewoB8DFiKO91COLFfwVuTCZV1hSoYw1APZCsFIkbN1Haaa87wwiKQe6eT27AEX6esPVVd8/kOOdAz/oz9FE0p+uGIKUeqE5C8xgSKiICEIAABCAAAQhAAAIQgAAEIAABCECA6AA+sbkREyDUUYlKD6ggZwzRkr8tewBhusisv+0in5qE/hFchoZTE0TL4p8sTbtIpyahQ4Ag5fKpSVBmfdDECvQTZjoM0U9N6KgkwH9xY7PXpPiCmq5yuaLVldHIO7jgNi5XfOEhCqNh9udHV/RnC5YAUDTftdV4/ivvwEoRVS9XXPWa1FIT5ird8jpSB+BDN3rO8AaGMnGy0I0QRYTvdk6NkOsucuhGCMAgI8Q0isaHbmAevNMhiD4P6iZhstANGiQE2PEGCRo2NcgAsQDwKnxWFdlT17/duWU1BJmuHz6A5bwbEsCScgh+qAHit3Jr1oooOPExdRBLbeJjSpuwuy30AAH+CDAAPH5ltESNYl4AAAAASUVORK5CYII="}).then((e=>{const n=t;let o=new(v[n(194)])({geometryInstances:this[n(263)](r,i,this[n(268)]),appearance:new(v[n(223)])({material:v[n(213)][n(202)](v[n(213)].CylinderParticlesType,{color:this._style[n(246)],image:this[n(256)](e)})}),asynchronous:!1});this[n(229)][n(219)](o)}))}[Ri(240)](){this.center=this._center}[Ri(227)](t){const e=Ri;this[e(229)][e(227)](t)}setStyle(t){const e=Ri;return t&&0!==Object[e(232)](t).length?(F[e(226)](this[e(231)],t),this):this}[Ri(233)](){const t=Ri;return this[t(251)][t(228)].remove(this._delegate),v.destroyObject(this)}}const Ni=Bi;function Gi(){const t=["destroy","scene","addPostRender","left","destroyObject","316860hYqWDu","remove","createElement","clientWidth","container","show","SceneTransforms","setVisible","block","createDiv","8984iPQjNV","addCSS","Assets/div.css","cesiumWidget","style","4338CUDXBC","685365FsJPVP","appendChild",'\n      <div class="cesium-plugin-divBoderLabel">\n        ',"viewer","271pdVoWs","innerHTML","display","7042MNeadH","className","position","4262265hKIjnA","postRender","2638665AWPycz","divInstance","getAssetsBaseUrl","Cartesian2","none","clientHeight","3123576HEqEdS"];return(Gi=function(){return t})()}function Bi(t,e){const r=Gi();return(Bi=function(t,e){return r[t-=161]})(t,e)}!function(t,e){const r=Bi,n=t();for(;;)try{if(614936===-parseInt(r(200))/1*(-parseInt(r(195))/2)+-parseInt(r(168))/3+-parseInt(r(174))/4+parseInt(r(196))/5+-parseInt(r(180))/6+-parseInt(r(163))/7*(-parseInt(r(190))/8)+parseInt(r(166))/9)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(Gi),F[Ni(191)](F[Ni(170)](Ni(192)));class Wi{constructor(t,e,r){const n=Ni;this[n(199)]=t,this[n(165)]=e,this[n(169)]=this[n(189)](r),this[n(185)]=!0,this.addPostRender()}[Ni(189)](t){const e=Ni,r=document[e(182)]("div");return r[e(164)]="cesium-plugin-divGraphic",r[e(161)]=e(198)+t+"\n      </div>",this[e(199)][e(193)][e(184)][e(197)](r),r}[Ni(177)](){const t=Ni;this[t(199)][t(176)][t(167)].addEventListener(this[t(167)],this)}[Ni(167)](){const t=Ni;if(this[t(169)]&&this[t(185)]){const e=new(Cesium[t(171)]);Cesium[t(186)].wgs84ToWindowCoordinates(this[t(199)][t(176)],this.position,e);const r=this.divInstance[t(183)],n=this.divInstance[t(173)];this[t(169)].style.top=e.y-n/2+"px",this[t(169)].style[t(178)]=e.x-r/2+"px"}}[Ni(187)](t){const e=Ni;this[e(185)]=t,t?this[e(169)].style[e(162)]=e(188):this[e(169)][e(194)][e(162)]=e(172)}[Ni(175)](){const t=Ni;return this[t(199)][t(193)].container[t(181)](this.divInstance),Cesium[t(179)](this)}}const Oi=Hi;function Hi(t,e){const r=ji();return(Hi=function(t,e){return r[t-=235]})(t,e)}function ji(){const t=["EllipsoidGeometry","add","6EyxQiL","GeometryInstance","Color","_color","Primitive","VERTEX_FORMAT","Cartesian3","112604GzwwfN","11180950eExnZT","Matrix3","ColorGeometryInstanceAttribute","70416aFFiGi","Matrix4","HeadingPitchRoll","2955722fdNtJF","RED","primitives","_radii","_delegate","_scene","3ghpPob","_getModelMatrix","176CtwGCG","_position","PerInstanceColorAppearance","437990kSKemF","IDENTITY","destroy","5501nQESds","_getGeometry","130PwcCsR","_init","320480gaZUzI","multiply","fromHeadingPitchRoll","fromColor","destroyObject","_hpr"];return(ji=function(){return t})()}!function(t,e){const r=Hi,n=t();for(;;)try{if(212308===-parseInt(r(242))/1*(parseInt(r(244))/2)+parseInt(r(274))/3*(parseInt(r(261))/4)+parseInt(r(239))/5+-parseInt(r(254))/6*(parseInt(r(268))/7)+parseInt(r(236))/8*(-parseInt(r(265))/9)+parseInt(r(246))/10+parseInt(r(262))/11)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(ji);class Ui{constructor(t){const e=Hi,{color:r,radii:n,position:i,hpr:o,scene:a}=t;this._scene=a,this[e(251)]=o||new(v[e(267)]),this._position=i||new(v[e(260)]),this[e(271)]=n||100,this[e(257)]=r||v[e(256)][e(269)],this[e(272)]=new v.PrimitiveCollection,this._scene.primitives[e(253)](this[e(272)]),this[e(245)]()}[Oi(235)](){const t=Oi,e=v.Matrix3[t(248)](this._hpr,new(v[t(263)]));return v[t(266)][t(247)](v[t(266)][t(240)],v[t(266)].fromRotationTranslation(e,this[t(237)]),new(v[t(266)]))}[Oi(243)](){const t=Oi;return new(v[t(255)])({geometry:new(v[t(252)])({radii:this[t(271)],vertexFormat:v.PerInstanceColorAppearance[t(259)]}),modelMatrix:this[t(235)](),attributes:{color:v[t(264)][t(249)](this._color)}})}[Oi(245)](){const t=Oi;let e=new(v[t(258)])({geometryInstances:this[t(243)](),appearance:new(v[t(238)])({closed:!0,translucent:!1}),modelMatrix:v[t(266)][t(240)]});this[t(272)].add(e)}[Oi(241)](){const t=Oi;return this[t(273)][t(270)].remove(this[t(272)]),v[t(250)](this)}}const Yi=Xi;function Xi(t,e){const r=Qi();return(Xi=function(t,e){return r[t-=205]})(t,e)}!function(t,e){const r=Xi,n=t();for(;;)try{if(374816===-parseInt(r(214))/1*(-parseInt(r(210))/2)+parseInt(r(211))/3+parseInt(r(217))/4+-parseInt(r(219))/5*(parseInt(r(230))/6)+parseInt(r(229))/7*(-parseInt(r(233))/8)+-parseInt(r(227))/9*(-parseInt(r(209))/10)+-parseInt(r(224))/11*(parseInt(r(225))/12))break;n.push(n.shift())}catch(t){n.push(n.shift())}}(Qi);class Vi{constructor(t){const e=Xi;this[e(232)]=t[e(205)];let r=t[e(221)];this[e(206)]=v[e(223)][e(231)](r[0],r[1]),this[e(215)]=t[e(213)]||4e4,this[e(241)]=t[e(222)]||1,this[e(228)]=t[e(235)]||new v.Color(.2,1,0,1),this[e(237)]=new v.PrimitiveCollection,this._init(),this[e(232)][e(220)][e(218)](this[e(237)])}_init(){const t=Xi;let e=new(v[t(242)])({length:this._height,topRadius:0,bottomRadius:.5*this[t(215)],vertexFormat:v[t(208)][t(239)][t(236)].vertexFormat}),r=v[t(238)][t(212)](v[t(216)][t(243)](this[t(206)]),new(v[t(223)])(0,0,.5*this[t(215)]),new(v[t(238)])),n=new(v[t(207)])({geometry:e,modelMatrix:r});this._delegate.add(new(v[t(234)])({geometryInstances:n,appearance:new(v[t(208)])({material:new v.Material({fabric:{uniforms:{color:this[t(228)],repeat:30,speed:this._speed,thickness:.2},source:t(244)},translucent:!0}),faceForward:!1,closed:!0,vertexShaderSource:"\n              attribute vec3 position3DHigh;\n              attribute vec3 position3DLow;\n              attribute vec3 normal;\n              attribute vec2 st;\n              attribute float batchId;\n\n              varying vec3 v_positionEC;\n              varying vec3 v_normalEC;\n              varying vec2 v_st;\n\n              void main()\n              {\n                vec4 p = czm_computePosition();\n\n                v_positionEC = (czm_modelViewRelativeToEye * p).xyz;      // position in eye coordinates\n                v_normalEC =  normal;                         // normal in world coordinates\n                v_st = st;\n\n                gl_Position = czm_modelViewProjectionRelativeToEye * p;\n              }"})}))}[Yi(226)](){const t=Yi;return this._scene.primitives[t(240)](this[t(237)]),v.destroyObject(this)}}function Qi(){const t=["TEXTURED","_delegate","Matrix4","MaterialSupport","remove","_speed","CylinderGeometry","eastNorthUpToFixedFrame","\n                  uniform vec4 color;\n                  uniform float repeat;\n                  uniform float thickness;\n                  uniform float speed;\n                  czm_material czm_getMaterial(czm_materialInput materialInput)\n                  {\n                    czm_material material = czm_getDefaultMaterial(materialInput);\n                    float sp = 1.0/repeat;\n                    vec2 st = materialInput.st;\n                    float dis = distance(st, vec2(0.5));\n                    float offset = fract(czm_frameNumber * speed / 1000.0);\n                    float m = mod(dis + offset, sp);\n                    float a = step(sp*(1.0-thickness), m);\n                    material.diffuse = color.rgb;\n                    material.alpha = a * color.a;\n                    vec3 normalMC = material.normal;\n                    if(normalMC.y < 0.0 && normalMC.z < 0.0)\n                    { \n                      discard;\n                    }\n                    return material;\n                  }","scene","_position","GeometryInstance","MaterialAppearance","6220aMSwdd","134VfiISG","1461759VgysKe","multiplyByTranslation","height","5803BHPJwl","_height","Transforms","78640xxDeTm","add","1030805XaKWNv","primitives","lonlat","speed","Cartesian3","8921vmShYB","7908jvYkXM","destroy","3312adeCIB","_color","392HjsjUx","6EIFiCe","fromDegrees","_scene","1312ytfGnh","Primitive","color"];return(Qi=function(){return t})()}const Zi=qi;!function(t,e){const r=qi,n=t();for(;;)try{if(195037===-parseInt(r(187))/1+-parseInt(r(191))/2+-parseInt(r(194))/3+parseInt(r(198))/4+-parseInt(r(197))/5*(parseInt(r(204))/6)+-parseInt(r(193))/7*(parseInt(r(174))/8)+parseInt(r(167))/9)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(Ki);class Ji{constructor(t){const e=qi;this._scene=t[e(199)],this[e(182)]=new v.PrimitiveCollection,this[e(192)][e(169)][e(178)](this[e(182)]),this[e(173)]=t[e(183)],this[e(209)]=t[e(210)]||v[e(181)].ORANGE,this[e(203)]=t[e(189)]||500,this[e(206)]=t[e(195)]||1e3,this._thetaSegments=t[e(207)]||60,this[e(202)]()}_init(){const t=qi;let e=new v.Primitive({geometryInstances:this[t(177)](),asynchronous:!1,appearance:new(v[t(208)])({flat:!0,translucent:!0})});this[t(182)][t(178)](e)}[Zi(177)](){const t=Zi;let e=this[t(203)],r=this._outerRadius,n=this._thetaSegments,i=1,o=2*Math.PI;n=Math[t(200)](3,n),i=Math[t(200)](1,i);const a=[],s=[],c=[],l=[];let u=e;const h=(r-e)/i,m={x:0,y:0,z:0},p={x:0,y:0};for(let e=0;e<=i;e++){for(let e=0;e<=n;e++){const i=0+e/n*o;m.x=u*Math[t(184)](i),m.y=u*Math.sin(i),s[t(205)](m.x,m.y,m.z),c[t(205)](0,0,1),p.x=(m.x/r+1)/2,p.y=(m.y/r+1)/2,l[t(205)](p.x,p.y)}u+=h}for(let e=0;e<i;e++){const r=e*(n+1);for(let e=0;e<n;e++){const i=e+r,o=i,s=i+n+1,c=i+n+2,l=i+1;a[t(205)](o,s,l),a[t(205)](s,c,l)}}const f=new(v[t(172)]);f[t(183)]=new(v[t(176)])({componentDatatype:v[t(170)].DOUBLE,componentsPerAttribute:3,values:new Float64Array(s)});const d=new(v[t(188)])({attributes:f,indices:new Uint16Array(a),primitiveType:v.PrimitiveType[t(179)],boundingSphere:new(v[t(171)])(v[t(175)][t(185)],r)}),g=v[t(168)].eastNorthUpToFixedFrame(this[t(173)]);return new(v[t(196)])({geometry:d,modelMatrix:g,attributes:{color:v[t(190)].fromColor(this[t(209)])}})}[Zi(180)](){const t=Zi;return this[t(192)][t(169)][t(186)](this._delegate),v[t(201)](this)}}function qi(t,e){const r=Ki();return(qi=function(t,e){return r[t-=167]})(t,e)}function Ki(){const t=["color","11143197NPRSrx","Transforms","primitives","ComponentDatatype","BoundingSphere","GeometryAttributes","_position","8BtbqLL","Cartesian3","GeometryAttribute","_getGeometry","add","LINE","destroy","Color","_delegate","position","cos","ZERO","remove","130294KQgVAm","Geometry","innerRadius","ColorGeometryInstanceAttribute","561882VEodQm","_scene","1790131HfdDTq","602145eHokWT","outerRadius","GeometryInstance","1568675RuqvVQ","553288YxLGGA","scene","max","destroyObject","_init","_innerRadius","6hWRxkm","push","_outerRadius","thetaSegments","PerInstanceColorAppearance","_color"];return(Ki=function(){return t})()}const $i=oo;!function(t,e){const r=oo,n=t();for(;;)try{if(730094===-parseInt(r(341))/1*(-parseInt(r(306))/2)+parseInt(r(504))/3+parseInt(r(325))/4*(parseInt(r(365))/5)+-parseInt(r(299))/6+parseInt(r(364))/7*(-parseInt(r(497))/8)+-parseInt(r(495))/9*(-parseInt(r(314))/10)+-parseInt(r(426))/11)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(ro);const to=$i(427),eo=$i(357);function ro(){const t=["halfFloatingPointTexture","_scene","Cesium3DTilePassState","viewMatrix","UNSIGNED_BYTE","directionWC","atan2","BLACK","_overlayCommandList","blue","Color","scene","Cartesian3","Cesium3DTilePass","_positions","Transforms","_view","addEventListener","fromCartesian","_reflectorWorldPosition","#001e0f","gamma","RGBA","infiniteProjectionMatrix","LINEAR","_createPrimitive","render","top","getAssetsBaseUrl","hasSelected","green","_offCenterFrustum","6389130bhuTlh","\nuniform sampler2D texture; // 反射贴图\n\nuniform sampler2D normalTexture; // 法线贴图\nuniform float time;\n\nuniform mat4 fixedFrameToEastNorthUpTransform; // 水面的东北天矩阵的逆矩阵\n\n// 从顶点着色器传来的\nvarying vec4 v_worldPosition; // 当前像素的世界坐标\nvarying vec4 v_uv; // 原本的纹理坐标乘以贴图矩阵\n\n// 可配置的参数\nuniform float size; // 波纹大小（数值越大波纹越密集）\nuniform vec4 waterColor; // 水面颜色\nuniform float waterAlpha; // 水面透明度\nuniform float rf0; // 水面反射率\nuniform vec3 lightDirection; // 光照方向\nuniform float sunShiny; // 光照强度\nuniform float distortionScale; // 倒影的扭曲程度\n\nvec3 sunDirection = normalize( lightDirection );\nvec3 sunColor = vec3( 1.0 );\n\n\n// 获取噪声\n// vec4 czm_getWaterNoise(sampler2D normalMap, vec2 uv, float time, float angleInRadians)\nvec4 getNoise( sampler2D normalMap, vec2 uv ) {\n    vec2 uv0 = ( uv / 103.0 ) + vec2( time / 17.0, time / 29.0 );\n    vec2 uv1 = uv / 107.0 - vec2( time / -19.0, time / 31.0 );\n    vec2 uv2 = uv / vec2( 8907.0, 9803.0 ) + vec2( time / 101.0, time / 97.0 );\n    vec2 uv3 = uv / vec2( 1091.0, 1027.0 ) - vec2( time / 109.0, time / -113.0 );\n    vec4 noise = texture2D( normalMap, uv0 ) +\n        texture2D( normalMap, uv1 ) +\n        texture2D( normalMap, uv2 ) +\n        texture2D( normalMap, uv3 );\n    return noise * 0.5 - 1.0;\n}\n\nvoid sunLight( const vec3 surfaceNormal, const vec3 eyeDirection, float shiny, float spec, float diffuse, inout vec3 diffuseColor, inout vec3 specularColor ) {\n    vec3 reflection = normalize( reflect( -sunDirection, surfaceNormal ) );  // 获得太阳对表面法线的反射向量\n    float direction = max( 0.0, dot( eyeDirection, reflection ) );  // 当太阳反射方向和眼睛的方向一致时，direction 最大，为 1，当角度大于 90度时最小，最小为 0\n    specularColor += pow( direction, shiny ) * sunColor * spec;\n    diffuseColor += max( dot( sunDirection, surfaceNormal ), 0.0 ) * sunColor * diffuse;\n}\n\nczm_material czm_getMaterial(czm_materialInput materialInput) {\n    czm_material material = czm_getDefaultMaterial(materialInput);\n\n    // 通过法线贴图计算新的表面法线\n    vec2 transformedSt = materialInput.st * 2.0 - 1.0;  // [0, 1] => [-1, 1]\n    vec4 noise = getNoise( normalTexture, transformedSt * size );\n    vec3 surfaceNormal = normalize( noise.xzy );  // [0, +1]，Y up\n\n    // 漫反射光\n    vec3 diffuseLight = vec3( 0.0 );\n    // 高光\n    vec3 specularLight = vec3( 0.0 );\n\n    // 获取视线方向（世界坐标）\n    vec3 eye = ( czm_inverseView * vec4( vec3(0.0), 1.0 ) ).xyz;\n    // 获取视线方向（水面的本地坐标）\n    eye = ( fixedFrameToEastNorthUpTransform * vec4( eye, 1.0) ).xyz;\n    // 当前像素的本地坐标\n    vec3 world = ( fixedFrameToEastNorthUpTransform * vec4( v_worldPosition.xyz, 1.0) ).xyz;\n\n    vec3 worldToEye = eye - world;  // east, north, up\n    worldToEye = vec3( worldToEye.x, worldToEye.z, -worldToEye.y );  // Y up\n    vec3 eyeDirection = normalize( worldToEye );\n\n    float shiny = sunShiny;\n    float spec = 2.0;\n    float diffuse = 0.5;\n    sunLight( surfaceNormal, eyeDirection, shiny, spec, diffuse, diffuseLight, specularLight );\n\n    float distance = length( worldToEye );\n    float distortionScale = distortionScale;\n    vec2 distortion = surfaceNormal.xz * ( 0.001 + 1.0 / distance ) * distortionScale;\n    vec3 reflectionSample = vec3( texture2D( texture, (v_uv.xy / v_uv.w) * 0.5 + 0.5 + distortion ) );\n\n    float theta = max( dot( eyeDirection, surfaceNormal ), 0.0 );\n    float rf0 = rf0;\n    float reflectance = mix( rf0, 1.0, pow( 1.0 - theta, 5.0 ) );\n\n    vec3 waterColor = waterColor.rgb;\n\n    // surfaceNormal 是以反射平面为 X-Y 平面的，\n    // 所以 eyeDirection 也得是以反射平面为 X-Y 平面。\n    vec3 scatter = max( 0.0, dot( surfaceNormal, eyeDirection ) ) * waterColor;\n    vec3 albedo = mix(\n        sunColor * diffuseLight * 0.3 + scatter,\n        vec3( 0.1 ) + reflectionSample * 0.9 + reflectionSample * specularLight,\n        reflectance\n    );\n    material.diffuse = albedo.rgb;\n    material.alpha = waterAlpha;\n\n    return material;\n}\n","viewport","projectionMatrix","texture","fog","_modelViewInfiniteProjectionDirty","normalMapUrl","_waterPlane","fromCssColorString","push","_projection","FLOAT","postProcessStages","aspectRatio","_destroyResource","_log2FarDepthFromNearPlusOne","sqrt","wrapS","_farDepthFromNearPlusOne","sign","_fov","fromRadians","reflectorViewMatrix","longitude","Framebuffer","endFrame","Assets/Images/waterNormals.jpg","logarithmicDepthBuffer","PixelFormat","HALF_FLOAT","MipmapHint","showSkirts","_hdr","cos","type","primitives","_reflectMatrix","resolveFramebuffers","WGS84","BoundingRectangle","defaultValue","_renderRequested","POSITION_NORMAL_AND_ST","subtract","pow","PixelDatatype","prototype","transform","load","Plane","shadowMap","direction","normal","position","sin","passes","NICEST","add","highDynamicRange","_aspectRatio","_initUniforms","GeometryInstance","CLAMP_TO_EDGE","time","Camera","appearance","scissorTest","drawingBufferWidth","2259MfGUCs","uniformState","16rAxoOp","Sampler","_originalreflectorWorldPosition","updateFrustum","PolygonGeometry","camera","_inverseProjectionDirty","776160NxZSNN","UniformState","_oneOverLog2FarDepthFromNearPlusOne","_currentFrustum","PolygonHierarchy","length","now","dot","left","beginFrame","show","reflectivity","negate","destroy","reflectorProjectionMatrix","tilesLoaded","inverse","fov","uniforms","4597866xPFutd","passState","sunShiny","reflectMatrix","bind","minificationFilter","DEPTH_STENCIL","248rhbvqI","context","_infiniteProjection","height","clone","_reflectorProjectionMatrix","log2","TextureWrap","15980ShEmLM","REPEAT","flowDegrees","Math","distortionScale","_far","waterAlpha","PerspectiveFrustum","rf0","globe","lightDirection","5622604MxzXnQ","_flowDegrees","blendingEnabled","_defaultView","update","waterColor","magnificationFilter","_material","_shadowMapCamera","_colorTexture","red","_primitive","_frustumPlanes","defined","toArray","distance","8212PhHZlP","bottom","tilesetPassState","_inverseViewProjectionDirty","_normal","ReflectionWater","Ellipsoid","_near","_modelViewProjectionRelativeToEyeDirty","TextureMagnificationFilter","latitude","multiplyByScalar","_colorFramebuffer","sunDirectionWC","customProjectionMatrix","updateEnvironment","\nattribute vec3 position3DHigh;\nattribute vec3 position3DLow;\nattribute vec3 normal;\nattribute vec2 st;\nattribute float batchId;\n\nvarying vec3 v_positionEC;\nvarying vec3 v_normalEC;\nvarying vec2 v_st;\n\nuniform mat4 reflectorProjectionMatrix;\nuniform mat4 reflectorViewMatrix;\nuniform mat4 reflectMatrix;\nvarying vec4 v_worldPosition;  // 世界坐标\nvarying vec4 v_uv;             // 纹理坐标\n\n\n\nvoid main()\n{\n    vec4 p = czm_computePosition();\n\n    v_positionEC = (czm_modelViewRelativeToEye * p).xyz;      // position in eye coordinates\n    v_normalEC = czm_normal * normal;                         // normal in eye coordinates\n    v_st = st;\n\n\n    mat4 modelView = reflectorViewMatrix * reflectMatrix * czm_model;\n    modelView[3][0] = 0.0;\n    modelView[3][1] = 0.0;\n    modelView[3][2] = 0.0;\n    v_uv = reflectorProjectionMatrix * modelView * p;\n    vec4 positionMC = vec4( position3DHigh + position3DLow, 1.0 );\n    v_worldPosition = czm_model * positionMC;\n\n    gl_Position = czm_modelViewProjectionRelativeToEye * p;\n}\n","backgroundColor","preRender","wrapT","_depthStencilTexture","TextureMinificationFilter","_virtualCamera","3522827njsxXp","5pPGvgi","drawingBufferHeight","generateMipmap","_height","_frameState","far","sampler2D","_modelViewProjectionDirty","Cartesian4","_createReflectionWaterMaterial","upWC","IDENTITY","rippleSize","_updateVirtualCamera","modelMatrix","Texture","positionWC","src","Matrix4","shadowMaps","fromPointNormal","near","_createFramebuffer","_reflectorViewMatrix","light","width","geodeticSurfaceNormal","SunLight","toRadians"];return(ro=function(){return t})()}function no(t,e){const r=$i,n=e[r(310)](),i=t.clone(),o=2*v[r(406)].dot(t,e);return v[r(406)][r(352)](e,o,n),v.Cartesian3.subtract(t,n,i)}function io(t){return 0==(t&t-1)&&0!==t}function oo(t,e){const r=ro();return(oo=function(t,e){return r[t-=288]})(t,e)}const ao=new(v[$i(396)])({pass:v[$i(407)].RENDER}),so=new(v[$i(404)]);class co{constructor(t){const e=$i;this[e(395)]=t[e(405)],this[e(368)]=t[e(309)],this._flowDegrees=v.defaultValue(t[e(316)],0);const r=t.positions,n=r[e(509)];let i=0,o=0,a=0;this[e(408)]=[],r.forEach((t=>{const r=e,n=t[r(351)],s=t.longitude;i+=Math[r(460)](n)*Math[r(460)](s),o+=Math[r(460)](n)*Math.sin(s),a+=Math[r(481)](n),this._positions.push(v[r(406)][r(448)](t.longitude,t[r(351)],this._height))})),i/=n,o/=n,a/=n;const s=Math.atan2(o,i),c=Math[e(443)](i*i+o*o),l=Math[e(400)](a,c);this._reflectorWorldPosition=v[e(406)][e(448)](s,l,this[e(368)]),this[e(499)]=this[e(413)].clone(),this._normal=v.Ellipsoid.WGS84.geodeticSurfaceNormal(this._reflectorWorldPosition),this[e(434)]=v[e(476)].fromPointNormal(this._reflectorWorldPosition,this._normal),this[e(463)]=new(v[e(383)])(-2*this[e(434)][e(479)].x*this[e(434)].normal.x+1,-2*this._waterPlane[e(479)].x*this[e(434)][e(479)].y,-2*this[e(434)][e(479)].x*this[e(434)][e(479)].z,-2*this[e(434)][e(479)].x*this[e(434)].distance,-2*this[e(434)][e(479)].y*this[e(434)][e(479)].x,-2*this._waterPlane[e(479)].y*this[e(434)][e(479)].y+1,-2*this._waterPlane[e(479)].y*this._waterPlane[e(479)].z,-2*this[e(434)][e(479)].y*this[e(434)][e(340)],-2*this._waterPlane[e(479)].z*this[e(434)][e(479)].x,-2*this[e(434)].normal.z*this._waterPlane[e(479)].y,-2*this[e(434)][e(479)].z*this[e(434)].normal.z+1,-2*this[e(434)][e(479)].z*this[e(434)].distance,0,0,0,1),this[e(388)]=v[e(383)].IDENTITY.clone(),this[e(311)]=v[e(383)][e(376)][e(310)](),this[e(487)]={normalMapUrl:v[e(467)](t[e(433)],F[e(422)](e(453))),size:v[e(467)](t[e(377)],50),waterColor:v[e(467)](t[e(330)],v[e(404)][e(435)](e(414))),waterAlpha:v[e(467)](t[e(320)],.9),rf0:v.defaultValue(t[e(291)],.3),lightDirection:v[e(467)](t[e(324)],new(v[e(406)])(0,0,1)),sunShiny:v.defaultValue(t[e(301)],100),distortionScale:v[e(467)](t[e(318)],3.7)};const u=this._scene[e(307)];this[e(387)](u,u[e(494)],u.drawingBufferHeight,this._scene[e(485)]),this[e(336)]=this._createPrimitive(this._positions,this._height,this[e(326)]),this[e(395)][e(462)][e(484)](this[e(336)]),this.preRender=this.preRender[e(303)](this),this[e(395)][e(359)].addEventListener(this[e(359)]),this[e(395)][e(454)]=!1,v[e(505)][e(473)][e(500)]=function(t){const r=e;v[r(383)][r(310)](v[r(467)](t.customProjectionMatrix,t[r(429)]),this[r(437)]),this[r(503)]=!0,this._viewProjectionDirty=!0,this[r(344)]=!0,this[r(372)]=!0,this[r(349)]=!0,v[r(338)](t[r(417)])&&(v.Matrix4[r(310)](t[r(417)],this[r(308)]),this[r(432)]=!0),this._currentFrustum.x=t.near,this[r(507)].y=t[r(370)],this._farDepthFromNearPlusOne=t[r(370)]-t[r(386)]+1,this[r(442)]=v[r(317)][r(312)](this[r(445)]),this[r(506)]=1/this._log2FarDepthFromNearPlusOne,v.defined(t[r(425)])&&(t=t._offCenterFrustum),this[r(337)].x=t[r(421)],this[r(337)].y=t[r(342)],this[r(337)].z=t[r(288)],this[r(337)].w=t.right},v[e(321)][e(473)][e(310)]=function(t){const r=e;return!v[r(338)](t)&&(t=new(v[r(321)])),t[r(440)]=this.aspectRatio,t[r(297)]=this[r(297)],t[r(386)]=this[r(386)],t[r(370)]=this.far,t[r(486)]=void 0,t[r(447)]=void 0,t[r(348)]=void 0,t[r(319)]=void 0,this[r(425)].clone(t[r(425)]),t[r(355)]=this.customProjectionMatrix,t}}get[$i(377)](){return this[$i(332)].uniforms.size}set[$i(377)](t){const e=$i;this[e(332)][e(298)].size=t}get[$i(320)](){const t=$i;return this[t(332)].uniforms[t(320)]}set waterAlpha(t){const e=$i;this[e(332)][e(298)][e(320)]=t}get[$i(291)](){const t=$i;return this._material[t(298)][t(322)]}set[$i(291)](t){const e=$i;this[e(332)].uniforms[e(322)]=t}get[$i(318)](){const t=$i;return this[t(332)][t(298)].distortionScale}set distortionScale(t){const e=$i;this[e(332)][e(298)][e(318)]=t}get height(){return this[$i(368)]}set[$i(309)](t){const e=$i;this._height=t;const r=v.Cartographic[e(412)](this[e(499)]),n=v[e(406)][e(448)](r[e(450)],r.latitude,this[e(368)]),i=v[e(406)][e(470)](n,this[e(499)],new(v[e(406)])),o=v.Matrix4.fromTranslation(i);this[e(336)][e(379)]=o,this[e(413)]=n,this._normal=v[e(347)][e(465)][e(391)](this[e(413)]),this._waterPlane=v[e(476)][e(385)](this[e(413)],this[e(345)]),this[e(463)]=new v.Matrix4(-2*this._waterPlane[e(479)].x*this[e(434)][e(479)].x+1,-2*this._waterPlane[e(479)].x*this._waterPlane.normal.y,-2*this[e(434)][e(479)].x*this[e(434)][e(479)].z,-2*this[e(434)].normal.x*this[e(434)].distance,-2*this[e(434)].normal.y*this[e(434)].normal.x,-2*this[e(434)][e(479)].y*this._waterPlane.normal.y+1,-2*this[e(434)].normal.y*this[e(434)][e(479)].z,-2*this[e(434)][e(479)].y*this._waterPlane.distance,-2*this[e(434)].normal.z*this[e(434)][e(479)].x,-2*this._waterPlane[e(479)].z*this[e(434)][e(479)].y,-2*this[e(434)][e(479)].z*this[e(434)][e(479)].z+1,-2*this._waterPlane[e(479)].z*this[e(434)][e(340)],0,0,0,1)}[$i(374)](){const t=$i,e=this[t(395)][t(307)],r=function(t){const e=$i,r=new(v[e(380)])({context:t,source:{width:1,height:1,arrayBufferView:new Uint8Array([255,0,0,255])},sampler:new(v[e(498)])({wrapS:v[e(313)].REPEAT,wrapT:v[e(313)][e(315)],minificationFilter:v[e(362)][e(418)],magnificationFilter:v[e(362)][e(418)]})});return r[e(461)]=e(371),r}(e),{normalMapUrl:n,size:i,waterColor:o,waterAlpha:a,rf0:s,lightDirection:c,sunShiny:l,distortionScale:u}=this._initUniforms,h=v[t(380)].fromFramebuffer({context:e,framebuffer:this[t(353)]});h[t(461)]="sampler2D";const m={size:i,waterColor:o,waterAlpha:a,rf0:s,lightDirection:c,sunShiny:l,distortionScale:u,normalTexture:r,texture:h,time:0,fixedFrameToEastNorthUpTransform:v[t(383)][t(339)](this._getFixedFrameToEastNorthUpTransformFromWorldMatrix())},p=new v.Material({fabric:{type:t(346),uniforms:m,source:to},translucent:!1,minificationFilter:v[t(362)][t(418)],magnificationFilter:v[t(350)][t(418)]});return function(t){const e=$i,{context:r,material:n,uniformName:i,imgSrc:o}=t,a=t[e(444)]||v.TextureWrap[e(315)],s=t[e(360)]||v[e(313)][e(315)],c=t[e(304)]||v[e(362)][e(418)],l=t[e(331)]||v[e(350)][e(418)],u=new Image;u[e(382)]=o,u[e(411)](e(475),(()=>{const t=e,o=new(v[t(380)])({context:r,source:u,sampler:new v.Sampler({wrapS:a,wrapT:s,minificationFilter:c,magnificationFilter:l})});o[t(461)]=t(371),io(u[t(390)])&&io(u[t(309)])&&o[t(367)](v[t(457)][t(483)]),n[t(298)][i]=o}))}({context:e,material:p,uniformName:"normalTexture",imgSrc:n}),p}[$i(378)](t){const e=$i;let r=new(v[e(406)])(0,0,-1),n=new(v[e(406)]);this[e(363)]=v[e(491)].clone(t,this[e(363)]);const i=t[e(381)].clone();let o=v[e(406)].subtract(this._reflectorWorldPosition,i,new(v[e(406)]));if(v.Cartesian3[e(511)](o,this[e(345)])>0)return!1;o=no(o,this[e(345)]),v[e(406)][e(292)](o,o),v[e(406)][e(484)](o,this[e(413)],o),this[e(363)][e(480)]=o.clone(),v[e(406)][e(484)](t[e(399)],i,r),v.Cartesian3[e(470)](this[e(413)],r,n),n=no(n,this[e(345)]),v[e(406)][e(292)](n,n),v.Cartesian3[e(484)](n,this._reflectorWorldPosition,n),this[e(363)][e(478)]=v[e(406)][e(470)](n,this._virtualCamera[e(480)],new(v[e(406)])),v[e(406)].normalize(this[e(363)][e(478)],this[e(363)].direction),v[e(406)][e(484)](t[e(375)],i,r),v.Cartesian3.subtract(this[e(413)],r,n),n=no(n,this[e(345)]),v.Cartesian3.negate(n,n),v[e(406)][e(484)](n,this[e(413)],n),this._virtualCamera.up=v[e(406)][e(470)](n,this[e(363)][e(480)],new(v[e(406)])),v[e(406)].normalize(this[e(363)].up,this[e(363)].up),this[e(311)]=this[e(363)].frustum[e(429)],this[e(388)]=this._virtualCamera.viewMatrix;const a=v[e(476)][e(385)](this[e(413)],this._normal);v[e(476)][e(474)](a,this[e(363)][e(397)],a);const s=new(v[e(373)])(a[e(479)].x,a.normal.y,a[e(479)].z,a[e(340)]),c=v[e(383)][e(310)](this[e(363)].frustum[e(429)]),l=new(v[e(373)])((Math[e(446)](s.x)+c[8])/c[0],(Math.sign(s.y)+c[9])/c[5],-1,(1+c[10])/c[14]);return v[e(373)][e(352)](s,2/v[e(373)][e(511)](s,l),s),c[2]=s.x,c[6]=s.y,c[10]=s.z+1-0,c[14]=s.w,this[e(363)].frustum[e(355)]=v[e(383)][e(310)](c),!0}[$i(359)](t){const e=$i,r=t._defaultView[e(502)],n=t[e(477)],i=t.globe[e(290)],o=t[e(323)][e(458)];if(!this._updateVirtualCamera(t._defaultView[e(502)]))return void(this[e(336)][e(290)]=!1);this[e(336)].show=!1,t._defaultView[e(502)]=this[e(363)],t[e(477)]=void 0,t.globe.show=!1,t[e(323)][e(458)]=!1;const a=t[e(307)],s=a.drawingBufferWidth,c=a[e(366)],l=t[e(485)];this[e(387)](a,s,c,l),function(t,e){const r=$i,n=t[r(369)],i=t[r(307)],o=i[r(496)],a=t[r(328)];t[r(410)]=a,t.updateFrameState(),n[r(482)][r(420)]=!0,n[r(482)].postProcess=t[r(439)][r(423)],n[r(343)]=ao;let s=v.defaultValue(t.backgroundColor,v.Color[r(401)]);t[r(459)]&&(s=v[r(404)].clone(s,so),s[r(335)]=Math[r(471)](s[r(335)],t[r(415)]),s.green=Math[r(471)](s[r(424)],t.gamma),s[r(403)]=Math.pow(s.blue,t[r(415)])),n[r(358)]=s,t[r(431)][r(329)](n),o[r(329)](n);const c=t[r(477)];v.defined(c)&&c.enabled&&(!v[r(338)](t.light)||t[r(389)]instanceof v[r(392)]?v[r(406)][r(292)](o[r(354)],t[r(333)][r(478)]):v[r(406)][r(310)](t.light[r(478)],t[r(333)][r(478)]),n[r(384)][r(436)](c)),t._computeCommandList[r(509)]=0,t[r(402)][r(509)]=0;const l=a[r(428)];l.x=0,l.y=0,l[r(390)]=i[r(494)],l.height=i[r(366)];const u=a[r(300)];u.framebuffer=e,u[r(327)]=void 0,u[r(493)]=void 0,u[r(428)]=v[r(466)][r(310)](l,u[r(428)]),v[r(338)](t.globe)&&t[r(323)][r(289)](n),t[r(356)](),t.updateAndExecuteCommands(u,s),t[r(464)](u),v[r(338)](t[r(323)])&&(t[r(323)].endFrame(n),!t[r(323)][r(295)]&&(t[r(468)]=!0)),i[r(452)]()}(t,this[e(353)]);const u=this[e(336)][e(492)],h=v[e(380)].fromFramebuffer({context:a,framebuffer:this[e(353)]});h.type=e(371),this[e(332)][e(298)][e(430)]=h,this._material[e(298)][e(490)]=performance[e(510)]()/1e3,this[e(332)][e(298)].fixedFrameToEastNorthUpTransform=v[e(383)][e(339)](this._getFixedFrameToEastNorthUpTransformFromWorldMatrix()),u[e(298)][e(302)]=v[e(383)][e(339)](this[e(463)]),u.uniforms[e(294)]=v[e(383)].toArray(this[e(311)]),u[e(298)][e(449)]=v[e(383)][e(339)](this[e(388)]),this[e(336)].show=!0,t[e(328)][e(502)]=r,t[e(477)]=n,t[e(323)][e(290)]=i,t[e(323)][e(458)]=o}[$i(419)](t,e,r){const n=$i,i=this[n(374)]();this[n(332)]=i;const o=new v.MaterialAppearance({material:i,vertexShaderSource:eo,translucent:!0});o.uniforms={},o[n(298)][n(302)]=v[n(383)].toArray(this._reflectMatrix),o[n(298)][n(294)]=v[n(383)].toArray(this[n(311)]),o[n(298)][n(449)]=v.Matrix4.toArray(this[n(388)]);return new v.Primitive({geometryInstances:new(v[n(488)])({geometry:new(v[n(501)])({polygonHierarchy:new(v[n(508)])(t),perPositionHeight:!0,extrudedHeight:e,stRotation:v[n(317)][n(393)](r),closeTop:!0,closeBottom:!1,vertexFormat:v.VertexFormat[n(469)]})}),appearance:o,asynchronous:!1})}_getFixedFrameToEastNorthUpTransformFromWorldMatrix(){const t=$i,e=v[t(409)].eastNorthUpToFixedFrame(this[t(413)]);return v.Matrix4[t(296)](e,new(v[t(383)]))}[$i(387)](t,e,r,n){const i=$i,o=this._colorTexture;if(v.defined(o)&&o.width===e&&o.height===r&&this[i(459)]===n)return;this[i(441)](),this[i(459)]=n;const a=n?t[i(394)]?v.PixelDatatype[i(456)]:v[i(472)][i(438)]:v.PixelDatatype[i(398)];this._colorTexture=new(v[i(380)])({context:t,width:e,height:r,pixelFormat:v[i(455)][i(416)],pixelDatatype:a,sampler:new(v[i(498)])({wrapS:v[i(313)][i(489)],wrapT:v[i(313)][i(489)],minificationFilter:v.TextureMinificationFilter[i(418)],magnificationFilter:v[i(350)][i(418)]})}),this[i(361)]=new(v[i(380)])({context:t,width:e,height:r,pixelFormat:v[i(455)][i(305)],pixelDatatype:v.PixelDatatype.UNSIGNED_INT_24_8}),this[i(353)]=new(v[i(451)])({context:t,colorTextures:[this[i(334)]],depthStencilTexture:this[i(361)],destroyAttachments:!1})}_destroyResource(){const t=$i;this[t(334)]&&this[t(334)][t(293)](),this._depthStencilTexture&&this[t(361)].destroy(),this[t(353)]&&this[t(353)][t(293)](),this._colorTexture=void 0,this._depthStencilTexture=void 0,this._colorFramebuffer=void 0}}function lo(t,e){const r=uo();return(lo=function(t,e){return r[t-=390]})(t,e)}function uo(){const t=["12mdtsJl","76eHjofi","1144677PByBFN","type","4622610TXsPhv","134610WCFOJA","properties","22178QfdXfH","polygon","toLowerCase","point","6009064JttyAv","geometry","153ahtHUt","96mitENA","features","577335VkIKfo","polyline","linestring","5GVOLAR","9151289uQhgzr","forEach","push","coordinates"];return(uo=function(){return t})()}!function(t,e){const r=lo,n=t();for(;;)try{if(707197===parseInt(r(393))/1*(-parseInt(r(399))/2)+-parseInt(r(394))/3*(-parseInt(r(392))/4)+-parseInt(r(411))/5*(-parseInt(r(396))/6)+-parseInt(r(412))/7+parseInt(r(403))/8+-parseInt(r(405))/9*(parseInt(r(397))/10)+parseInt(r(408))/11*(parseInt(r(406))/12))break;n.push(n.shift())}catch(t){n.push(n.shift())}}(uo);const ho=mo;function mo(t,e){const r=fo();return(mo=function(t,e){return r[t-=203]})(t,e)}!function(t,e){const r=mo,n=t();for(;;)try{if(688569===parseInt(r(253))/1*(parseInt(r(238))/2)+parseInt(r(237))/3*(parseInt(r(312))/4)+parseInt(r(215))/5*(parseInt(r(255))/6)+-parseInt(r(318))/7*(-parseInt(r(225))/8)+parseInt(r(221))/9*(parseInt(r(299))/10)+-parseInt(r(297))/11*(parseInt(r(224))/12)+parseInt(r(281))/13*(-parseInt(r(263))/14))break;n.push(n.shift())}catch(t){n.push(n.shift())}}(fo);class po{constructor(t){const e=mo;this[e(220)]=t[e(214)],this[e(295)]=t.model,this[e(302)]=void 0,this[e(294)]=15,this[e(242)]=Cesium[e(248)][e(246)],this[e(267)]=void 0,this._dStep=t[e(244)],this[e(249)]=t[e(250)],this[e(264)]={tx:0,ty:0,tz:0,rx:0,ry:0,rz:0},this[e(306)]=void 0,this[e(319)]=[],this.initEvent()}get[ho(252)](){return this._params}[ho(291)](){const t=ho;this[t(213)]();const e=this[t(295)][t(280)][t(231)]/3,r=ue[t(228)](this[t(295)][t(280)][t(322)]);return this[t(264)].tx=r[t(308)],this._params.ty=r[t(233)],this[t(264)].tz=r[t(303)],{originDegree:r,length:e}}editRtation(){const t=ho,e=this.initParam();this[t(313)](e[t(226)][t(308)],e[t(226)][t(233)],e[t(226)][t(303)],e[t(256)])}createCircle(t,e,r,n){const i=ho,o=[];for(let t=0;t<=360;t+=3){const e=Math[i(203)](Cesium[i(272)].toRadians(t)),r=n*Math[i(314)](Cesium[i(272)][i(279)](t)),a=n*e;o[i(235)](new(Cesium[i(296)])(r,a,0))}const a=Cesium[i(236)][i(229)](new(Cesium[i(296)][i(239)])(t,e,r)),s=this[i(241)]("model_edit_xCircle",o,a,Cesium[i(248)][i(223)]);this[i(220)].primitives.add(s);let c=Cesium[i(321)][i(288)](Cesium[i(272)][i(279)](90)),l=Cesium.Matrix4[i(262)](c);Cesium.Matrix4[i(278)](s.geometryInstances[i(260)],l,s[i(258)].modelMatrix);const u=this[i(241)](i(305),o,a,Cesium[i(248)][i(247)]);this[i(220)][i(287)].add(u);let h=Cesium.Matrix3.fromRotationY(Cesium[i(272)][i(279)](90)),m=Cesium[i(234)][i(262)](h);Cesium[i(234)].multiply(u[i(258)][i(260)],m,u[i(258)][i(260)]);const p=this[i(241)](i(298),o,a,Cesium[i(248)][i(211)]);this._scene[i(287)][i(216)](p)}createAxisSphere(t,e,r,n){const i=ho;let o=new Cesium.Primitive({geometryInstances:new(Cesium[i(290)])({id:t,geometry:new Cesium.PolylineGeometry({positions:e,width:5})}),releaseGeometryInstances:!1,appearance:new(Cesium[i(315)])({material:Cesium[i(265)].fromType("Color",{color:n})}),modelMatrix:r});return o[i(292)]=t,this[i(319)].push(o),o}[ho(257)](){const t=ho,e=this[t(291)](),r=e[t(256)];let n=new(Cesium[t(296)])(r,r,r),i=JSON[t(276)](JSON[t(274)](this[t(295)][t(280)].center)),o=this[t(230)](i,n);this[t(300)](e[t(226)],o,r)}[ho(240)](t){const e=ho;this[e(207)]();const r=t.boundingSphere[e(231)]/3,n=ue[e(228)](t[e(280)].center);let i=new(Cesium[e(296)])(r,r,r),o=JSON[e(276)](JSON[e(274)](t.boundingSphere[e(322)])),a=this[e(230)](o,i);this.initLineArrow(n,a,r)}[ho(259)](){const t=ho;this._handler=new(Cesium[t(307)])(this[t(220)][t(217)]),this._handler[t(269)]((e=>{const r=t;let n=this[r(220)][r(273)](e.position);if(n&&n[r(227)]&&n[r(227)][r(292)]&&-1!=n[r(227)]._name[r(251)](r(245))){this._scene[r(219)].enableRotate=!1,this[r(267)]=n[r(227)],this._currentPick[r(310)]=25,this[r(267)].material?this[r(267)][r(309)][r(205)][r(284)]=this[r(242)]:this[r(267)][r(206)][r(309)].uniforms[r(284)]=this[r(242)];let t=this[r(220)][r(271)].pickEllipsoid(e[r(317)],this[r(220)][r(266)][r(277)]),i=0,o=0,a=0,s=0,c=0,l=0;if(t&&Cesium.defined(t)){i=0,o=0,a=0,s=0,c=0,l=0;const n=ue[r(228)](t);this[r(302)].setInputAction((t=>{const u=r;let h=this._scene[u(271)][u(304)](t[u(209)],this[u(220)][u(266)][u(277)]);const m=ue[u(228)](h),p=t.endPosition.y-e[u(317)].y,f=t.endPosition.x-e.position.x;switch(this[u(267)][u(292)]){case u(232):i=m[u(308)]-n[u(308)];break;case"model_edit_yArrow":o=m[u(233)]-n.lat;break;case u(285):a=-this[u(286)]*p;break;case u(275):s=this[u(249)]*p;break;case u(305):c=this._rStep*f;break;case u(298):l=this[u(249)]*f}this.updateModel(this[u(264)],i,o,a,s,c,l)}),Cesium.ScreenSpaceEventType[r(243)])}this[r(302)].setInputAction((t=>{const e=r;this[e(220)][e(219)].enableRotate=!0,this[e(267)].width=this._defaultWidth,this[e(283)](),this[e(267)]=void 0,this[e(264)].tx+=i,this[e(264)].ty+=o,this[e(264)].tz+=a,this._params.rx+=s,this[e(264)].ry+=c,this[e(264)].rz+=l,this[e(302)][e(270)](Cesium[e(212)][e(243)]),this[e(302)][e(270)](Cesium.ScreenSpaceEventType[e(323)])}),Cesium[r(212)][r(323)])}}),Cesium[t(212)][t(293)])}updateModel(t,e,r,n,i,o,a){const s=ho;let c=Cesium.Matrix3[s(288)](Cesium.Math.toRadians(t.rx+i)),l=Cesium[s(321)][s(254)](Cesium[s(272)][s(279)](t.ry+o)),u=Cesium[s(321)][s(311)](Cesium[s(272)][s(279)](t.rz+a)),h=Cesium[s(234)][s(262)](c),m=Cesium[s(234)][s(262)](l),p=Cesium[s(234)][s(262)](u),f=Cesium.Cartesian3[s(239)](t.tx+e,t.ty+r,t.tz+n),d=Cesium[s(236)][s(229)](f);Cesium[s(234)][s(278)](d,h,d),Cesium[s(234)][s(278)](d,m,d),Cesium[s(234)][s(278)](d,p,d),this[s(295)][s(218)][s(320)]=d,this._coordArrows&&this.updateLineArrow(this._model)}[ho(300)](t,e,r){const n=ho,i=new(Cesium[n(210)]),o=[t[n(308)],t.lat,t[n(303)],e[n(308)],t[n(233)],t[n(303)]];this[n(268)](i,n(232),o,Cesium[n(248)][n(223)]);const a=[t[n(308)],t[n(233)],t.alt,t[n(308)],e[n(233)],t[n(303)]];this.darwArrow(i,"model_edit_yArrow",a,Cesium.Color[n(247)]);const s=[t.lng,t[n(233)],t.alt,t[n(308)],t[n(233)],e[n(303)]];this[n(268)](i,n(285),s,Cesium[n(248)][n(211)]),this[n(306)]=this[n(220)][n(287)][n(216)](i),this[n(306)][n(292)]=n(289)}darwArrow(t,e,r,n){const i=ho;this._currentPick&&(n=this._currentPick[i(292)]==e?this[i(242)]:n);t[i(216)]({positions:Cesium[i(296)][i(316)](r),width:this[i(294)],material:Cesium.Material[i(261)](Cesium.Material.PolylineArrowType,{color:n})})[i(292)]=e}[ho(283)](){const t=ho;this[t(306)]?(this[t(306)][t(208)][0].material[t(205)][t(284)]=Cesium.Color.RED,this[t(306)][t(208)][1][t(309)][t(205)].color=Cesium[t(248)][t(247)],this[t(306)][t(208)][2][t(309)][t(205)].color=Cesium[t(248)][t(211)]):this[t(319)]&&(this[t(319)][0].appearance[t(309)].uniforms.color=Cesium[t(248)].RED,this[t(319)][1][t(206)][t(309)][t(205)].color=Cesium[t(248)][t(247)],this[t(319)][2][t(206)][t(309)][t(205)][t(284)]=Cesium[t(248)][t(211)])}[ho(230)](t,e){const r=ho;let n=Cesium[r(236)][r(229)](t),i=new(Cesium[r(234)]);Cesium[r(234)][r(222)](Cesium[r(234)].IDENTITY,e,i);let o=Cesium[r(234)][r(278)](n,i,n);Cesium.Matrix4.getTranslation(o,t);return ue[r(228)](t)}[ho(207)](){const t=ho;this._coordArrows&&(this[t(220)][t(287)][t(282)](this[t(306)]),this._coordArrows=void 0)}removeCoordCircle(){const t=ho;this[t(319)][t(301)]((e=>{const r=t;this[r(220)][r(287)][r(282)](e)})),this[t(319)]=[]}[ho(213)](){this[ho(207)](),this.removeCoordCircle()}[ho(204)](){const t=ho;this[t(213)](),this[t(302)][t(204)]()}}function fo(){const t=["fromDegrees","updateLineArrow","createAxisSphere","_highlightColor","MOUSE_MOVE","dStep","model_edit","YELLOW","GREEN","Color","_rStep","rStep","indexOf","params","1HpneZC","fromRotationY","6GhlJun","length","editTranslation","geometryInstances","initEvent","modelMatrix","fromType","fromRotationTranslation","4990748WTQWPp","_params","Material","globe","_currentPick","darwArrow","setInputAction","removeInputAction","camera","Math","pick","stringify","model_edit_xCircle","parse","ellipsoid","multiply","toRadians","boundingSphere","78VWgpbc","remove","recoverAxisColor","color","model_edit_zArrow","_dStep","primitives","fromRotationX","CoordAxis","GeometryInstance","initParam","_name","LEFT_DOWN","_defaultWidth","_model","Cartesian3","20526LfmURy","model_edit_zCircle","386220MABElu","initLineArrow","forEach","_handler","alt","pickEllipsoid","model_edit_yCircle","_coordArrows","ScreenSpaceEventHandler","lng","material","width","fromRotationZ","24AAGacd","createCircle","cos","PolylineMaterialAppearance","fromDegreesArrayHeights","position","40817VDXtCk","_coordCircle","transform","Matrix3","center","LEFT_UP","sin","destroy","uniforms","appearance","removeCoordArrows","_polylines","endPosition","PolylineCollection","BLUE","ScreenSpaceEventType","removeAllTools","scene","3924105gYGopu","add","canvas","_root","screenSpaceCameraController","_scene","207snaMTt","setTranslation","RED","8604mZhLub","1232zCPwuD","originDegree","primitive","CartesianToWGS84","eastNorthUpToFixedFrame","getTransPostion","radius","model_edit_xArrow","lat","Matrix4","push","Transforms","245127KIJtRE","2208056fiQLjM"];return(fo=function(){return t})()}function go(){var t=["2398134veDABx","11910jwzFpc","366858siLxjU","error","283680uujxEH","1251wuxWNi","167448FxjzrX","2023-07-30T16:00:00.000Z","log","5jttHJA","432465hlZYcI","该插件库已过期，若升级请联系微信：digital_twin123","color: red","3YitPyx","getTime","1591700kSbxYR","42UiJQPP","%c其他相关示例在http://8.130.10.148:3000/digitaltwin/index.html"];return(go=function(){return t})()}function yo(t,e){var r=go();return(yo=function(t,e){return r[t-=260]})(t,e)}!function(t,e){for(var r=yo,n=t();;)try{if(444450===parseInt(r(262))/1+-parseInt(r(266))/2*(-parseInt(r(273))/3)+-parseInt(r(275))/4+-parseInt(r(269))/5*(-parseInt(r(260))/6)+parseInt(r(276))/7*(-parseInt(r(264))/8)+-parseInt(r(265))/9*(-parseInt(r(261))/10)+parseInt(r(270))/11)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(go);const vo=xo;!function(t,e){const r=xo,n=t();for(;;)try{if(581577===parseInt(r(317))/1+-parseInt(r(296))/2+parseInt(r(277))/3*(-parseInt(r(286))/4)+parseInt(r(288))/5*(parseInt(r(278))/6)+parseInt(r(295))/7+parseInt(r(299))/8+-parseInt(r(319))/9)break;n.push(n.shift())}catch(t){n.push(n.shift())}}(wo);class Io extends v[vo(271)]{constructor(t,e){const r=vo;if(n=yo,console[n(268)]("%c欢迎使用基于CesiumJS的插件，具体合作可联系微信：digital_twin123",n(272)),console[n(268)](n(277),n(272)),(new Date)[n(274)]()>new Date(n(267))&&(console[n(263)](n(271)),1));var n;v[r(321)].defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI0M2Y1NTRjYi0wNjdkLTQ2ZGYtYjA5NS1iOWQ0Y2M0NGUxYTQiLCJpZCI6OTIxLCJpYXQiOjE1MjYzNTM1MjF9.yONesa9Qw4PeEKBh02RHADAQzB53V1F2qh2L8pNxU_0";const i={scene3DOnly:!0,orderIndependentTranslucency:!1,homeButton:!1,animation:!1,baseLayerPicker:!1,fullscreenButton:!1,geocoder:!1,infoBox:!1,sceneModePicker:!1,selectionIndicator:!1,timeline:!1,navigationHelpButton:!1,shouldAnimate:!0,imageryProvider:new v.UrlTemplateImageryProvider({url:r(269),maximumLevel:16})};if(F.merge(i,e),super(t,i),this.cesiumWidget.creditContainer[r(305)][r(310)]=r(303),this[r(289)][r(311)][r(287)]=!1,this.shadows=!1,this[r(289)][r(276)][r(280)]=!1,this.scene.moon.show=!1,this[r(289)][r(283)].show=!1,this[r(289)][r(298)][r(275)]=!1,this[r(289)][r(311)][r(287)]=!1,this[r(289)][r(322)].fxaa[r(281)]=!0,this[r(270)]._supportsImageRenderingPixelated=v.FeatureDetection[r(285)](),this[r(270)][r(294)]=!0,v[r(318)][r(285)]()){let t=window[r(302)];for(;t>=2;)t/=2;this[r(297)]=t}const o=new Ve({sources:{positiveX:F.getAssetsBaseUrl("Assets/Images/skybox/right.png"),negativeX:F[r(290)](r(314)),positiveY:F[r(290)](r(309)),negativeY:F[r(290)]("Assets/Images/skybox/back.png"),positiveZ:F.getAssetsBaseUrl(r(293)),negativeZ:F[r(290)](r(306))}});let a=this.scene[r(282)];this.scene[r(320)].addEventListener((()=>{const t=r;let e=this.scene[t(273)][t(323)];v[t(274)][t(308)](e)[t(301)]<24e4?(this[t(289)][t(282)]=o,this[t(289)][t(283)].show=!1):(this[t(289)][t(282)]=a,this[t(289)][t(283)][t(280)]=!0)}))}set[vo(313)](t){this._enableGlobeRotate=t,t?function(t){const e=vo;t[e(312)].multiplier=15e3,t.camera.lookAtTransform(v[e(291)][e(272)]),t[e(289)][e(315)][e(284)](Co,t),t.clock[e(324)]=!0}(this):function(t){const e=vo;t[e(312)].shouldAnimate=!1,t[e(312)][e(304)]=1,t[e(273)][e(307)](v[e(291)][e(272)]),t[e(289)].postUpdate[e(279)](Co,t)}(this)}get[vo(313)](){return this._enableGlobeRotate}}function Co(){const t=vo,e=this;let r=v.Transforms[t(316)](e.clock[t(300)]);if(r){let n=e.camera,i=v[t(292)].clone(n[t(323)]),o=v[t(291)].fromRotationTranslation(r);n[t(307)](o,i)}}function xo(t,e){const r=wo();return(xo=function(t,e){return r[t-=269]})(t,e)}function wo(){const t=["Ion","postProcessStages","position","shouldAnimate","http://webst02.is.autonavi.com/appmaptile?style=6&x={x}&y={y}&z={z}","_cesiumWidget","Viewer","IDENTITY","camera","Cartographic","enable","sun","982287KcmQbH","1864518SjqMGg","removeEventListener","show","enabled","skyBox","skyAtmosphere","addEventListener","supportsImageRenderingPixelated","4lyYGmP","enableLighting","5wpybHx","scene","getAssetsBaseUrl","Matrix4","Cartesian3","Assets/Images/skybox/top.png","_forceResize","2918265wWyQIO","424782vGdnGn","resolutionScale","fog","6205504UcjQkt","currentTime","height","devicePixelRatio","none","multiplier","style","Assets/Images/skybox/bottom.png","lookAtTransform","fromCartesian","Assets/Images/skybox/front.png","display","globe","clock","enableGlobeRotate","Assets/Images/skybox/left.png","postUpdate","computeIcrfToFixedMatrix","350562xvXtPA","FeatureDetection","6592509xZLnJy","preUpdate"];return(wo=function(){return t})()}const Mo=Po;!function(t,e){const r=Po,n=t();for(;;)try{if(278054===-parseInt(r(438))/1*(-parseInt(r(446))/2)+parseInt(r(445))/3+-parseInt(r(443))/4+-parseInt(r(442))/5+parseInt(r(440))/6+-parseInt(r(447))/7*(parseInt(r(441))/8)+parseInt(r(444))/9*(-parseInt(r(439))/10))break;n.push(n.shift())}catch(t){n.push(n.shift())}}(bo);const _o=Mo(448);function bo(){const t=["94910OMyvQr","2958756QDPpIo","6776TnuQPR","383595hmjKzk","1698408ucIimX","333XefSvh","1440906OvRLHy","30cxPeak","2891MqmeTg","0.1","33795SCwylH"];return(bo=function(){return t})()}function Po(t,e){const r=bo();return(Po=function(t,e){return r[t-=438]})(t,e)}o.AmapImageryProvider=xe,o.BaiduImageryProvider=Be,o.BloomTargetEffect=class{constructor(t){const e=or;this[e(486)]=t;const r={contrast:119,brightness:.08,blurSamples:32,delta:.9,sigma:3.78,stepSize:5,ratio:8,threshold:.1,smoothWidth:.01,eventType:e(454),color:{red:1,green:1,blue:1,alpha:1}},n=new(v[e(464)])({name:e(449),fragmentShader:"uniform sampler2D colorTexture;uniform vec3 color;uniform float opacity;uniform float threshold;uniform float smoothWidth;varying vec2 v_textureCoordinates;void main(){vec4 texel=texture2D(colorTexture,v_textureCoordinates);\n#ifdef CZM_SELECTED_FEATURE\nif(!czm_selected()){texel=vec4(0.);}\n#endif\nvec3 luma=vec3(0.299,0.587,0.114);float sv=dot(texel.xyz,luma);vec4 outputColor=vec4(color.rgb,opacity);float alpha=smoothstep(threshold,threshold+smoothWidth,sv);gl_FragColor=mix(outputColor,texel,alpha);}",uniforms:{color:v[e(475)][e(479)],opacity:1,smoothWidth:r.smoothWidth,threshold:r[e(474)]}}),i=new v.PostProcessStage({name:"blur_x",fragmentShader:ir,uniforms:{delta:r[e(452)],sigma:r.sigma,stepSize:r[e(461)],direction:0},sampleMode:v[e(466)][e(471)]}),o=new(v[e(464)])({name:"blur_y",fragmentShader:ir,uniforms:{delta:r[e(452)],sigma:r[e(455)],stepSize:r[e(461)],direction:1},sampleMode:v[e(466)][e(471)]}),a=new(v[e(460)])({name:e(480),stages:[i,o]}),s=new(v[e(460)])({name:e(469),stages:[n,a]}),c=new(v[e(464)])({name:"contrast_bias",fragmentShader:"uniform sampler2D colorTexture;varying vec2 v_textureCoordinates;uniform float contrast;uniform float brightness;void main(void){vec3 sceneColor=texture2D(colorTexture,v_textureCoordinates).xyz;sceneColor=czm_RGBToHSB(sceneColor);sceneColor.z+=brightness;sceneColor=czm_HSBToRGB(sceneColor);float factor=(259.0*(contrast+255.0))/(255.0*(259.0-contrast));sceneColor=factor*(sceneColor-vec3(0.5))+vec3(0.5);gl_FragColor=vec4(sceneColor,1.0);}",uniforms:{contrast:r[e(481)],brightness:r[e(465)]}}),l=new v.PostProcessStageComposite({name:"contrast_bias_blur",stages:[c,s]}),u=new(v[e(464)])({name:e(457),fragmentShader:"uniform sampler2D colorTexture;uniform sampler2D bloomTexture;uniform float ratio;uniform vec4 color;varying vec2 v_textureCoordinates;void main(void){vec4 color1=texture2D(colorTexture,v_textureCoordinates);vec4 bloom=texture2D(bloomTexture,v_textureCoordinates);bloom*=color;\n#ifdef CZM_SELECTED_FEATURE\nif(czm_selected()){bloom*=ratio;}\n#endif\ngl_FragColor=bloom+color1;}",uniforms:{bloomTexture:"contrast_bias_blur",ratio:r.ratio,color:r[e(462)]}}),h=new(v[e(460)])({stages:[l,u],inputPreviousStageTexture:!1});h.enabled=!0,this[e(453)]=h,this[e(486)][e(485)][e(463)](h),this.postProcessStage[e(472)]=[]}setTarget(t){const e=or;if(v[e(468)](t)){const r=[];t[e(459)][e(451)].forEach((t=>{r[e(487)]({pickId:t})})),this.postProcessStage[e(472)]=r}else this[e(453)].selected=[]}},o.Box=Ti,o.BuildingTextureFlowShader=q,o.CameraManager=je,o.ConeGlow=Li,o.DIVLabel=Wi,o.Ellipsoid=Ui,o.FogEffect=ur,o.Geo=class{static GeoJsonToGraphics(t,e={wkid:4326}){const r=lo,n=[],i=[],o=[];return t[r(407)][r(413)]((t=>{const a=r,s=t[a(404)],c=s[a(391)];let l,u;switch(s[a(395)][a(401)]()){case a(402):u=n,l={type:a(402),x:c[0],y:c[1],spatialReference:e};break;case a(410):u=i,l={type:a(409),paths:[c],spatialReference:e};break;case a(400):u=o,l={type:"polygon",rings:c,spatialReference:e};break;default:return null}u[a(390)]({geometry:l,attributes:t[a(398)]||{}})})),{point:n,polyline:i,polygon:o}}},o.GroundSkyBox=Ve,o.ModelTransformControl=po,o.Plot=_i,o.RadarScan=Vi,o.RainEffect=fr,o.Ring=Ji,o.Sightline=et,o.SlopeAspect=$t,o.SnowEffect=vr,o.TdtImageryProvider=Ke,o.TencentImageryProvider=nr,o.TerrainClip=ie,o.Util=F,o.VERSION=_o,o.Viewer=Io,o.Water=co,o.applyFlat=function(t,e){const r=H,n=t[r(259)][r(254)],i=v[r(262)][r(277)](n);return new(v[r(271)])({uniforms:{u_tileset_localToWorldMatrix:{type:v[r(280)][r(268)],value:i},u_tileset_worldToLocalMatrix:{type:v.UniformType[r(268)],value:v[r(284)].inverse(i,new(v[r(284)]))},u_flatHeight:{type:v[r(280)].FLOAT,value:e[0].flatHeight}},vertexShaderText:r(260)+Y(e[r(278)]((e=>{const n=r;return j(t[n(259)][n(254)],e[n(274)])})))+r(276)+X(e[r(278)]((e=>{const n=r;return{polygon:j(t[n(259)][n(254)],e[n(274)])}})))+"\n        }"})},Object.defineProperty(o,"__esModule",{value:!0})}));
